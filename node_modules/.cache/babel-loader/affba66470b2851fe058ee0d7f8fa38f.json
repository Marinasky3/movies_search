{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport { LeafSelectionTieredSelect } from './LeafSelectionTieredSelect';\nimport { TierSelectionTieredSelect } from './TierSelectionTieredSelect';\n\nfunction defaultGetGroupId(tier) {\n  return tier.groupId;\n}\n\nfunction defaultGetId(tier) {\n  return tier.id;\n}\n\nfunction defaultGetLabel(tier) {\n  return tier.label;\n}\n\nfunction defaultGetNextGroupId(tier) {\n  return tier.nextGroupId;\n}\n\nfunction getFullPath(getLabel) {\n  if (getLabel === void 0) {\n    getLabel = defaultGetLabel;\n  }\n\n  return function getValueString(value) {\n    return value.map(function (tier) {\n      return getLabel(tier);\n    }).join(' > ');\n  };\n}\n\nfunction getLeafOnly(getLabel) {\n  if (getLabel === void 0) {\n    getLabel = defaultGetLabel;\n  }\n\n  return function getValueString(value) {\n    return value.length ? getLabel(value[value.length - 1]) : '';\n  };\n}\n\nfunction getValueStringFn(valueStringResolution, getLabel) {\n  if (getLabel === void 0) {\n    getLabel = defaultGetLabel;\n  }\n\n  if (valueStringResolution === 'full-path') {\n    return getFullPath(getLabel);\n  }\n\n  if (valueStringResolution === 'leaf-only') {\n    return getLeafOnly(getLabel);\n  }\n\n  return valueStringResolution;\n}\n\nfunction noop() {}\n\nfunction always() {\n  return true;\n}\n\nexport var useHighlightItemEffects = function (_a) {\n  var currentTier = _a.currentTier,\n      searchValue = _a.searchValue,\n      menuRef = _a.menuRef,\n      loading = _a.loading,\n      loadingMore = _a.loadingMore;\n\n  var _b = React.useState(),\n      previousTier = _b[0],\n      setPreviousTier = _b[1];\n\n  React.useEffect(function () {\n    setPreviousTier(currentTier);\n  }, [currentTier]);\n\n  var _c = React.useState(''),\n      previousSearch = _c[0],\n      setPreviousSearch = _c[1];\n\n  React.useEffect(function () {\n    setPreviousSearch(searchValue);\n  }, [searchValue]);\n  var currentMenuRef = menuRef.current;\n  React.useEffect(function () {\n    if (previousSearch !== searchValue || previousTier !== currentTier) {\n      currentMenuRef === null || currentMenuRef === void 0 ? void 0 : currentMenuRef.highlightFirst();\n    }\n  }, [currentMenuRef, currentTier, previousTier, searchValue, previousSearch]);\n  React.useEffect(function () {\n    if (loadingMore) {\n      currentMenuRef === null || currentMenuRef === void 0 ? void 0 : currentMenuRef.highlightLast(false);\n    }\n  }, [currentMenuRef, loadingMore]);\n  React.useEffect(function () {\n    if (!loading && !(currentMenuRef === null || currentMenuRef === void 0 ? void 0 : currentMenuRef.highlighted())) {\n      currentMenuRef === null || currentMenuRef === void 0 ? void 0 : currentMenuRef.highlightFirst();\n    }\n  }, [currentMenuRef, loading]);\n};\nexport var TieredSelectContext = React.createContext({\n  afterHide: noop,\n  afterShow: noop,\n  beforeHide: always,\n  beforeShow: always,\n  getGroupId: defaultGetGroupId,\n  getId: defaultGetId,\n  getLabel: defaultGetLabel,\n  getNextGroupId: defaultGetNextGroupId,\n  getValueString: getFullPath(defaultGetLabel),\n  i18nScope: 'core.tieredSelect',\n  onChange: noop\n});\nexport var TieredSelect = React.forwardRef(function TieredSelect(_a, ref) {\n  var _b = _a.afterHide,\n      afterHide = _b === void 0 ? noop : _b,\n      _c = _a.afterShow,\n      afterShow = _c === void 0 ? noop : _c,\n      _d = _a.beforeHide,\n      beforeHide = _d === void 0 ? always : _d,\n      _e = _a.beforeShow,\n      beforeShow = _e === void 0 ? always : _e,\n      block = _a.block,\n      _f = _a.getGroupId,\n      getGroupId = _f === void 0 ? defaultGetGroupId : _f,\n      _g = _a.getId,\n      getId = _g === void 0 ? defaultGetId : _g,\n      _h = _a.getLabel,\n      getLabel = _h === void 0 ? defaultGetLabel : _h,\n      _j = _a.getNextGroupId,\n      getNextGroupId = _j === void 0 ? defaultGetNextGroupId : _j,\n      _k = _a.getValueString,\n      getValueString = _k === void 0 ? getFullPath(getLabel) : _k,\n      _l = _a.i18nScope,\n      i18nScope = _l === void 0 ? 'core.tieredSelect' : _l,\n      _m = _a.onChange,\n      onChange = _m === void 0 ? noop : _m,\n      onClear = _a.onClear,\n      onNavigate = _a.onNavigate,\n      onQuickCreate = _a.onQuickCreate,\n      onScrollBottom = _a.onScrollBottom,\n      onSearch = _a.onSearch,\n      _o = _a.selectableTiers,\n      selectableTiers = _o === void 0 ? true : _o,\n      tabIndex = _a.tabIndex,\n      props = __rest(_a, [\"afterHide\", \"afterShow\", \"beforeHide\", \"beforeShow\", \"block\", \"getGroupId\", \"getId\", \"getLabel\", \"getNextGroupId\", \"getValueString\", \"i18nScope\", \"onChange\", \"onClear\", \"onNavigate\", \"onQuickCreate\", \"onScrollBottom\", \"onSearch\", \"selectableTiers\", \"tabIndex\"]);\n\n  var isLeaf = React.useCallback(function (tier) {\n    return !getNextGroupId(tier);\n  }, [getNextGroupId]);\n  return React.createElement(TieredSelectContext.Provider, {\n    value: {\n      afterHide: afterHide,\n      afterShow: afterShow,\n      beforeHide: beforeHide,\n      beforeShow: beforeShow,\n      block: block,\n      getGroupId: getGroupId,\n      getId: getId,\n      getLabel: getLabel,\n      getNextGroupId: getNextGroupId,\n      getValueString: getValueStringFn(getValueString),\n      i18nScope: i18nScope,\n      isLeaf: isLeaf,\n      onChange: onChange,\n      onClear: onClear,\n      onNavigate: onNavigate,\n      onQuickCreate: onQuickCreate,\n      onScrollBottom: onScrollBottom,\n      onSearch: onSearch,\n      tabIndex: tabIndex\n    }\n  }, selectableTiers ? React.createElement(TierSelectionTieredSelect, __assign({\n    ref: ref\n  }, props)) : React.createElement(LeafSelectionTieredSelect, __assign({\n    ref: ref\n  }, props)));\n});\nexport default TieredSelect;","map":{"version":3,"sources":["../../../../src/components/TieredSelect/TieredSelect.tsx"],"names":[],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { LeafSelectionTieredSelect } from './LeafSelectionTieredSelect';\nimport { TierSelectionTieredSelect } from './TierSelectionTieredSelect';\nfunction defaultGetGroupId(tier) {\n    return tier.groupId;\n}\nfunction defaultGetId(tier) {\n    return tier.id;\n}\nfunction defaultGetLabel(tier) {\n    return tier.label;\n}\nfunction defaultGetNextGroupId(tier) {\n    return tier.nextGroupId;\n}\nfunction getFullPath(getLabel) {\n    if (getLabel === void 0) { getLabel = defaultGetLabel; }\n    return function getValueString(value) {\n        return value.map(function (tier) { return getLabel(tier); }).join(' > ');\n    };\n}\nfunction getLeafOnly(getLabel) {\n    if (getLabel === void 0) { getLabel = defaultGetLabel; }\n    return function getValueString(value) {\n        return value.length ? getLabel(value[value.length - 1]) : '';\n    };\n}\nfunction getValueStringFn(valueStringResolution, getLabel) {\n    if (getLabel === void 0) { getLabel = defaultGetLabel; }\n    if (valueStringResolution === 'full-path') {\n        return getFullPath(getLabel);\n    }\n    if (valueStringResolution === 'leaf-only') {\n        return getLeafOnly(getLabel);\n    }\n    return valueStringResolution;\n}\nfunction noop() { }\nfunction always() {\n    return true;\n}\nexport var useHighlightItemEffects = function (_a) {\n    var currentTier = _a.currentTier, searchValue = _a.searchValue, menuRef = _a.menuRef, loading = _a.loading, loadingMore = _a.loadingMore;\n    var _b = React.useState(), previousTier = _b[0], setPreviousTier = _b[1];\n    React.useEffect(function () {\n        setPreviousTier(currentTier);\n    }, [currentTier]);\n    var _c = React.useState(''), previousSearch = _c[0], setPreviousSearch = _c[1];\n    React.useEffect(function () {\n        setPreviousSearch(searchValue);\n    }, [searchValue]);\n    var currentMenuRef = menuRef.current;\n    React.useEffect(function () {\n        if (previousSearch !== searchValue || previousTier !== currentTier) {\n            currentMenuRef === null || currentMenuRef === void 0 ? void 0 : currentMenuRef.highlightFirst();\n        }\n    }, [currentMenuRef, currentTier, previousTier, searchValue, previousSearch]);\n    React.useEffect(function () {\n        if (loadingMore) {\n            currentMenuRef === null || currentMenuRef === void 0 ? void 0 : currentMenuRef.highlightLast(false);\n        }\n    }, [currentMenuRef, loadingMore]);\n    React.useEffect(function () {\n        if (!loading && !(currentMenuRef === null || currentMenuRef === void 0 ? void 0 : currentMenuRef.highlighted())) {\n            currentMenuRef === null || currentMenuRef === void 0 ? void 0 : currentMenuRef.highlightFirst();\n        }\n    }, [currentMenuRef, loading]);\n};\nexport var TieredSelectContext = React.createContext({\n    afterHide: noop,\n    afterShow: noop,\n    beforeHide: always,\n    beforeShow: always,\n    getGroupId: defaultGetGroupId,\n    getId: defaultGetId,\n    getLabel: defaultGetLabel,\n    getNextGroupId: defaultGetNextGroupId,\n    getValueString: getFullPath(defaultGetLabel),\n    i18nScope: 'core.tieredSelect',\n    onChange: noop,\n});\nexport var TieredSelect = React.forwardRef(function TieredSelect(_a, ref) {\n    var _b = _a.afterHide, afterHide = _b === void 0 ? noop : _b, _c = _a.afterShow, afterShow = _c === void 0 ? noop : _c, _d = _a.beforeHide, beforeHide = _d === void 0 ? always : _d, _e = _a.beforeShow, beforeShow = _e === void 0 ? always : _e, block = _a.block, _f = _a.getGroupId, getGroupId = _f === void 0 ? defaultGetGroupId : _f, _g = _a.getId, getId = _g === void 0 ? defaultGetId : _g, _h = _a.getLabel, getLabel = _h === void 0 ? defaultGetLabel : _h, _j = _a.getNextGroupId, getNextGroupId = _j === void 0 ? defaultGetNextGroupId : _j, _k = _a.getValueString, getValueString = _k === void 0 ? getFullPath(getLabel) : _k, _l = _a.i18nScope, i18nScope = _l === void 0 ? 'core.tieredSelect' : _l, _m = _a.onChange, onChange = _m === void 0 ? noop : _m, onClear = _a.onClear, onNavigate = _a.onNavigate, onQuickCreate = _a.onQuickCreate, onScrollBottom = _a.onScrollBottom, onSearch = _a.onSearch, _o = _a.selectableTiers, selectableTiers = _o === void 0 ? true : _o, tabIndex = _a.tabIndex, props = __rest(_a, [\"afterHide\", \"afterShow\", \"beforeHide\", \"beforeShow\", \"block\", \"getGroupId\", \"getId\", \"getLabel\", \"getNextGroupId\", \"getValueString\", \"i18nScope\", \"onChange\", \"onClear\", \"onNavigate\", \"onQuickCreate\", \"onScrollBottom\", \"onSearch\", \"selectableTiers\", \"tabIndex\"]);\n    var isLeaf = React.useCallback(function (tier) {\n        return !getNextGroupId(tier);\n    }, [getNextGroupId]);\n    return (React.createElement(TieredSelectContext.Provider, { value: {\n            afterHide: afterHide,\n            afterShow: afterShow,\n            beforeHide: beforeHide,\n            beforeShow: beforeShow,\n            block: block,\n            getGroupId: getGroupId,\n            getId: getId,\n            getLabel: getLabel,\n            getNextGroupId: getNextGroupId,\n            getValueString: getValueStringFn(getValueString),\n            i18nScope: i18nScope,\n            isLeaf: isLeaf,\n            onChange: onChange,\n            onClear: onClear,\n            onNavigate: onNavigate,\n            onQuickCreate: onQuickCreate,\n            onScrollBottom: onScrollBottom,\n            onSearch: onSearch,\n            tabIndex: tabIndex,\n        } }, selectableTiers ? (React.createElement(TierSelectionTieredSelect, __assign({ ref: ref }, props))) : (React.createElement(LeafSelectionTieredSelect, __assign({ ref: ref }, props)))));\n});\nexport default TieredSelect;\n"]},"metadata":{},"sourceType":"module"}