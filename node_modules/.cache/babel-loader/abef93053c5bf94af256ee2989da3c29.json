{"ast":null,"code":"import React from 'react';\nexport function useSet(_a) {\n  var _b = _a === void 0 ? {} : _a,\n      _c = _b.initialValue,\n      initialValue = _c === void 0 ? new Set() : _c,\n      onChange = _b.onChange,\n      onAdd = _b.onAdd,\n      onRemove = _b.onRemove;\n\n  var _d = React.useState(initialValue),\n      collection = _d[0],\n      setCollection = _d[1];\n\n  var removeFromSet = React.useCallback(function (collection, item) {\n    collection.delete(item);\n    onRemove && onRemove(item);\n    return new Set(collection);\n  }, [onRemove]);\n  var addToSet = React.useCallback(function (collection, item) {\n    collection.add(item);\n    onAdd && onAdd(item);\n    return new Set(collection);\n  }, [onAdd]);\n  var updateCollection = React.useCallback(function (updater) {\n    setCollection(function (prevCollection) {\n      var newCollection = updater(prevCollection);\n      onChange && onChange(newCollection);\n      return newCollection;\n    });\n  }, [onChange]);\n  var has = React.useCallback(function (item) {\n    return collection.has(item);\n  }, [collection]);\n  var add = React.useCallback(function (item) {\n    return updateCollection(function (prevCollection) {\n      return addToSet(prevCollection, item);\n    });\n  }, [addToSet, updateCollection]);\n  var remove = React.useCallback(function (item) {\n    return updateCollection(function (prevCollection) {\n      return removeFromSet(prevCollection, item);\n    });\n  }, [removeFromSet, updateCollection]);\n  var set = React.useCallback(function (newCollection) {\n    return updateCollection(function () {\n      return newCollection;\n    });\n  }, [updateCollection]);\n  var toggle = React.useCallback(function (item) {\n    return updateCollection(function (prevCollection) {\n      return prevCollection.has(item) ? removeFromSet(prevCollection, item) : addToSet(prevCollection, item);\n    });\n  }, [addToSet, removeFromSet, updateCollection]);\n  var removeAll = React.useCallback(function () {\n    return updateCollection(function () {\n      return new Set();\n    });\n  }, [updateCollection]);\n  return {\n    collection: collection,\n    setCollection: set,\n    has: has,\n    add: add,\n    remove: remove,\n    removeAll: removeAll,\n    toggle: toggle\n  };\n}","map":{"version":3,"sources":["../../../src/effects/useSet.ts"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nexport function useSet(_a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.initialValue, initialValue = _c === void 0 ? new Set() : _c, onChange = _b.onChange, onAdd = _b.onAdd, onRemove = _b.onRemove;\n    var _d = React.useState(initialValue), collection = _d[0], setCollection = _d[1];\n    var removeFromSet = React.useCallback(function (collection, item) {\n        collection.delete(item);\n        onRemove && onRemove(item);\n        return new Set(collection);\n    }, [onRemove]);\n    var addToSet = React.useCallback(function (collection, item) {\n        collection.add(item);\n        onAdd && onAdd(item);\n        return new Set(collection);\n    }, [onAdd]);\n    var updateCollection = React.useCallback(function (updater) {\n        setCollection(function (prevCollection) {\n            var newCollection = updater(prevCollection);\n            onChange && onChange(newCollection);\n            return newCollection;\n        });\n    }, [onChange]);\n    var has = React.useCallback(function (item) { return collection.has(item); }, [collection]);\n    var add = React.useCallback(function (item) {\n        return updateCollection(function (prevCollection) { return addToSet(prevCollection, item); });\n    }, [addToSet, updateCollection]);\n    var remove = React.useCallback(function (item) {\n        return updateCollection(function (prevCollection) { return removeFromSet(prevCollection, item); });\n    }, [removeFromSet, updateCollection]);\n    var set = React.useCallback(function (newCollection) { return updateCollection(function () { return newCollection; }); }, [updateCollection]);\n    var toggle = React.useCallback(function (item) {\n        return updateCollection(function (prevCollection) {\n            return prevCollection.has(item)\n                ? removeFromSet(prevCollection, item)\n                : addToSet(prevCollection, item);\n        });\n    }, [addToSet, removeFromSet, updateCollection]);\n    var removeAll = React.useCallback(function () { return updateCollection(function () { return new Set(); }); }, [\n        updateCollection,\n    ]);\n    return {\n        collection: collection,\n        setCollection: set,\n        has: has,\n        add: add,\n        remove: remove,\n        removeAll: removeAll,\n        toggle: toggle,\n    };\n}\n"]},"metadata":{},"sourceType":"module"}