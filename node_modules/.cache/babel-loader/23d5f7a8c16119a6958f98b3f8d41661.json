{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport styles from '@procore/core-css/src/components/_file_list.scss';\nimport classnames from 'classnames/bind';\nimport React from 'react';\nimport { useOverflowObserver } from '../../effects/OverflowObserver';\nimport { useI18nContext } from '../../state/I18n';\nimport { parseFilename } from '../../utils/filename';\nimport { Tooltip } from '../Tooltip';\nvar cx = classnames.bind(styles);\nvar THRESHOLD = 99;\nexport var FileList = React.forwardRef(function FileList(_a, ref) {\n  var items = _a.items,\n      downloadAllUrl = _a.downloadAllUrl,\n      className = _a.className,\n      qa = _a.qa,\n      props = __rest(_a, [\"items\", \"downloadAllUrl\", \"className\", \"qa\"]);\n\n  var I18n = useI18nContext();\n  var length = items.length;\n  var isDownloadAllVisible = length > 1;\n\n  if (length === 0) {\n    return null;\n  }\n\n  if (isDownloadAllVisible && !downloadAllUrl) {\n    console.warn('FileList: \"downloadAllUrl\" is not provided');\n  }\n\n  return React.createElement(\"div\", __assign({\n    ref: ref,\n    className: cx('file-list', className)\n  }, props), isDownloadAllVisible && React.createElement(\"div\", {\n    className: cx('file-list__download-all')\n  }, React.createElement(\"a\", {\n    className: cx('file-list__download-all-link'),\n    href: downloadAllUrl\n  }, I18n.t('core.fileList.downloadAll'), ' ', \"(\".concat(length > THRESHOLD ? \"\".concat(THRESHOLD, \"+\") : length, \")\"))), items.map(function (_a) {\n    var _b;\n\n    var name = _a.name,\n        url = _a.url;\n    return React.createElement(Item, {\n      key: \"\".concat(name, \"-\").concat(url),\n      name: name,\n      url: url,\n      \"data-qa\": (_b = qa === null || qa === void 0 ? void 0 : qa.item) === null || _b === void 0 ? void 0 : _b.call(qa, {\n        name: name,\n        url: url\n      })\n    });\n  }));\n});\n\nfunction Item(_a) {\n  var url = _a.url,\n      name = _a.name,\n      props = __rest(_a, [\"url\", \"name\"]);\n\n  var _b = parseFilename(name),\n      filename = _b.filename,\n      extension = _b.extension,\n      isFilename = _b.isFilename;\n\n  var _c = useOverflowObserver(),\n      isOverflowingX = _c.isOverflowingX,\n      ref = _c.ref;\n\n  var body = isFilename ? \"\".concat(filename, \".\") : name;\n  return React.createElement(\"div\", __assign({\n    className: cx('file-list__item')\n  }, props), React.createElement(Tooltip, {\n    placement: \"right\",\n    overlay: name,\n    trigger: isOverflowingX ? 'hover' : 'none',\n    showKeys: []\n  }, React.createElement(\"div\", {\n    tabIndex: 0,\n    className: cx('file-list__preview')\n  }, React.createElement(\"span\", {\n    ref: ref,\n    className: cx('file-list__preview-text-body')\n  }, body), isFilename && React.createElement(\"span\", {\n    className: cx('file-list__preview-text-extension')\n  }, extension))), React.createElement(\"a\", {\n    href: url,\n    className: cx('file-list__item-download')\n  }, React.createElement(DownloadIcon, null)));\n}\n\nfunction DownloadIcon() {\n  return React.createElement(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: false\n  }, React.createElement(\"path\", {\n    d: \"M14.5 14.5h-13V11h-1v4.5h15V11h-1v3.5z\",\n    fill: \"#006DDF\"\n  }), React.createElement(\"path\", {\n    \"fill-rule\": \"evenodd\",\n    \"clip-rule\": \"evenodd\",\n    d: \"M7.5 10.293V2h1v8.293l3.146-3.147.707.708L8 12.207 3.646 7.854l.708-.708L7.5 10.293z\",\n    fill: \"#006DDF\"\n  }));\n}","map":{"version":3,"sources":["../../../../src/components/FileList/FileList.tsx"],"names":[],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport styles from '@procore/core-css/src/components/_file_list.scss';\nimport classnames from 'classnames/bind';\nimport React from 'react';\nimport { useOverflowObserver } from '../../effects/OverflowObserver';\nimport { useI18nContext } from '../../state/I18n';\nimport { parseFilename } from '../../utils/filename';\nimport { Tooltip } from '../Tooltip';\nvar cx = classnames.bind(styles);\nvar THRESHOLD = 99;\nexport var FileList = React.forwardRef(function FileList(_a, ref) {\n    var items = _a.items, downloadAllUrl = _a.downloadAllUrl, className = _a.className, qa = _a.qa, props = __rest(_a, [\"items\", \"downloadAllUrl\", \"className\", \"qa\"]);\n    var I18n = useI18nContext();\n    var length = items.length;\n    var isDownloadAllVisible = length > 1;\n    if (length === 0) {\n        return null;\n    }\n    if (isDownloadAllVisible && !downloadAllUrl) {\n        console.warn('FileList: \"downloadAllUrl\" is not provided');\n    }\n    return (React.createElement(\"div\", __assign({ ref: ref, className: cx('file-list', className) }, props),\n        isDownloadAllVisible && (React.createElement(\"div\", { className: cx('file-list__download-all') },\n            React.createElement(\"a\", { className: cx('file-list__download-all-link'), href: downloadAllUrl },\n                I18n.t('core.fileList.downloadAll'),\n                ' ', \"(\".concat(length > THRESHOLD ? \"\".concat(THRESHOLD, \"+\") : length, \")\")))),\n        items.map(function (_a) {\n            var _b;\n            var name = _a.name, url = _a.url;\n            return (React.createElement(Item, { key: \"\".concat(name, \"-\").concat(url), name: name, url: url, \"data-qa\": (_b = qa === null || qa === void 0 ? void 0 : qa.item) === null || _b === void 0 ? void 0 : _b.call(qa, { name: name, url: url }) }));\n        })));\n});\nfunction Item(_a) {\n    var url = _a.url, name = _a.name, props = __rest(_a, [\"url\", \"name\"]);\n    var _b = parseFilename(name), filename = _b.filename, extension = _b.extension, isFilename = _b.isFilename;\n    var _c = useOverflowObserver(), isOverflowingX = _c.isOverflowingX, ref = _c.ref;\n    var body = isFilename ? \"\".concat(filename, \".\") : name;\n    return (React.createElement(\"div\", __assign({ className: cx('file-list__item') }, props),\n        React.createElement(Tooltip, { placement: \"right\", overlay: name, trigger: isOverflowingX ? 'hover' : 'none', showKeys: [] },\n            React.createElement(\"div\", { tabIndex: 0, className: cx('file-list__preview') },\n                React.createElement(\"span\", { ref: ref, className: cx('file-list__preview-text-body') }, body),\n                isFilename && (React.createElement(\"span\", { className: cx('file-list__preview-text-extension') }, extension)))),\n        React.createElement(\"a\", { href: url, className: cx('file-list__item-download') },\n            React.createElement(DownloadIcon, null))));\n}\nfunction DownloadIcon() {\n    return (React.createElement(\"svg\", { width: \"16\", height: \"16\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", focusable: false },\n        React.createElement(\"path\", { d: \"M14.5 14.5h-13V11h-1v4.5h15V11h-1v3.5z\", fill: \"#006DDF\" }),\n        React.createElement(\"path\", { \"fill-rule\": \"evenodd\", \"clip-rule\": \"evenodd\", d: \"M7.5 10.293V2h1v8.293l3.146-3.147.707.708L8 12.207 3.646 7.854l.708-.708L7.5 10.293z\", fill: \"#006DDF\" })));\n}\n"]},"metadata":{},"sourceType":"module"}