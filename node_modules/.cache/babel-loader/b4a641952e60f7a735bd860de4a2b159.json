{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport { clamp, maxProgressValue, minProgressValue } from '../Loader/Loader';\nimport { StyledProgressBar, StyledProgressBarLoader } from './ProgressBar.styles';\nvar finalAnimationDuration = 900;\nexport var ProgressBar = React.forwardRef(function ProgressBar(_a, ref) {\n  var _b = _a.animated,\n      animated = _b === void 0 ? false : _b,\n      value = _a.value,\n      props = __rest(_a, [\"animated\", \"value\"]);\n\n  var isProgressValueComplete = value >= maxProgressValue;\n\n  var _c = React.useState(false),\n      isFinalized = _c[0],\n      setFinalized = _c[1];\n\n  var _d = React.useState(isProgressValueComplete),\n      isProgressComplete = _d[0],\n      setProgressComplete = _d[1];\n\n  var didMountRef = React.useRef(false);\n  React.useEffect(function () {\n    var isFinalized = didMountRef.current && isProgressValueComplete;\n    var timerId = isFinalized ? window.setTimeout(function () {\n      setFinalized(false);\n    }, finalAnimationDuration) : null;\n    setProgressComplete(isProgressValueComplete);\n    setFinalized(isFinalized);\n\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n    }\n\n    return function () {\n      timerId && clearTimeout(timerId);\n    };\n  }, [isProgressValueComplete]);\n  return React.createElement(StyledProgressBar, __assign({\n    \"$complete\": isProgressComplete,\n    \"$finalized\": isFinalized,\n    ref: ref,\n    role: \"progressbar\",\n    \"aria-valuenow\": clamp(value),\n    \"aria-valuemin\": minProgressValue,\n    \"aria-valuemax\": maxProgressValue\n  }, props), React.createElement(StyledProgressBarLoader, {\n    value: value,\n    animated: animated\n  }));\n});\nProgressBar.displayName = 'ProgressBar';","map":{"version":3,"sources":["../../../../src/components/ProgressBar/ProgressBar.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,EAAgB,gBAAhB,EAAkC,gBAAlC,QAA0D,kBAA1D;AACA,SACE,iBADF,EAEE,uBAFF,QAGO,sBAHP;AAMA,IAAM,sBAAsB,GAAG,GAA/B;AAEA,OAAO,IAAM,WAAW,GAAG,KAAK,CAAC,UAAN,CACzB,SAAS,WAAT,CAAqB,EAArB,EAA4D,GAA5D,EAA+D;AAAxC,MAAA,EAAA,GAAA,EAAA,CAAA,QAAA;AAAA,MAAA,QAAQ,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAH,GAAQ,EAAhB;AAAA,MAAkB,KAAK,GAAA,EAAA,CAAA,KAAvB;AAAA,MAA4B,KAAK,GAAA,MAAA,CAAA,EAAA,EAAnC,CAAA,UAAA,EAAA,OAAA,CAAmC,CAAjC;;AACrB,MAAM,uBAAuB,GAAG,KAAK,IAAI,gBAAzC;;AACM,MAAA,EAAA,GAA8B,KAAK,CAAC,QAAN,CAAe,KAAf,CAA9B;AAAA,MAAC,WAAW,GAAA,EAAA,CAAA,CAAA,CAAZ;AAAA,MAAc,YAAY,GAAA,EAAA,CAAA,CAAA,CAA1B;;AACA,MAAA,EAAA,GAA4C,KAAK,CAAC,QAAN,CAChD,uBADgD,CAA5C;AAAA,MAAC,kBAAkB,GAAA,EAAA,CAAA,CAAA,CAAnB;AAAA,MAAqB,mBAAmB,GAAA,EAAA,CAAA,CAAA,CAAxC;;AAGN,MAAM,WAAW,GAAG,KAAK,CAAC,MAAN,CAAa,KAAb,CAApB;AAEA,EAAA,KAAK,CAAC,SAAN,CAAgB,YAAA;AACd,QAAM,WAAW,GAAG,WAAW,CAAC,OAAZ,IAAuB,uBAA3C;AACA,QAAM,OAAO,GAAkB,WAAW,GACtC,MAAM,CAAC,UAAP,CAAkB,YAAA;AAChB,MAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAFD,EAEG,sBAFH,CADsC,GAItC,IAJJ;AAMA,IAAA,mBAAmB,CAAC,uBAAD,CAAnB;AACA,IAAA,YAAY,CAAC,WAAD,CAAZ;;AAEA,QAAI,CAAC,WAAW,CAAC,OAAjB,EAA0B;AACxB,MAAA,WAAW,CAAC,OAAZ,GAAsB,IAAtB;AACD;;AAED,WAAO,YAAA;AACL,MAAA,OAAO,IAAI,YAAY,CAAC,OAAD,CAAvB;AACD,KAFD;AAGD,GAlBD,EAkBG,CAAC,uBAAD,CAlBH;AAoBA,SACE,KAAA,CAAA,aAAA,CAAC,iBAAD,EAAkB,QAAA,CAAA;AAAA,iBACL,kBADK;AACa,kBACjB,WAFI;AAGhB,IAAA,GAAG,EAAE,GAHW;AAIhB,IAAA,IAAI,EAAC,aAJW;AAIE,qBACH,KAAK,CAAC,KAAD,CALJ;AAKW,qBACZ,gBANC;AAMe,qBAChB;AAPC,GAAA,EAQZ,KARY,CAAlB,EAUE,KAAA,CAAA,aAAA,CAAC,uBAAD,EAAwB;AAAC,IAAA,KAAK,EAAE,KAAR;AAAe,IAAA,QAAQ,EAAE;AAAzB,GAAxB,CAVF,CADF;AAcD,CA3CwB,CAApB;AA8CP,WAAW,CAAC,WAAZ,GAA0B,aAA1B","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { clamp, maxProgressValue, minProgressValue } from '../Loader/Loader';\nimport { StyledProgressBar, StyledProgressBarLoader, } from './ProgressBar.styles';\nvar finalAnimationDuration = 900;\nexport var ProgressBar = React.forwardRef(function ProgressBar(_a, ref) {\n    var _b = _a.animated, animated = _b === void 0 ? false : _b, value = _a.value, props = __rest(_a, [\"animated\", \"value\"]);\n    var isProgressValueComplete = value >= maxProgressValue;\n    var _c = React.useState(false), isFinalized = _c[0], setFinalized = _c[1];\n    var _d = React.useState(isProgressValueComplete), isProgressComplete = _d[0], setProgressComplete = _d[1];\n    var didMountRef = React.useRef(false);\n    React.useEffect(function () {\n        var isFinalized = didMountRef.current && isProgressValueComplete;\n        var timerId = isFinalized\n            ? window.setTimeout(function () {\n                setFinalized(false);\n            }, finalAnimationDuration)\n            : null;\n        setProgressComplete(isProgressValueComplete);\n        setFinalized(isFinalized);\n        if (!didMountRef.current) {\n            didMountRef.current = true;\n        }\n        return function () {\n            timerId && clearTimeout(timerId);\n        };\n    }, [isProgressValueComplete]);\n    return (React.createElement(StyledProgressBar, __assign({ \"$complete\": isProgressComplete, \"$finalized\": isFinalized, ref: ref, role: \"progressbar\", \"aria-valuenow\": clamp(value), \"aria-valuemin\": minProgressValue, \"aria-valuemax\": maxProgressValue }, props),\n        React.createElement(StyledProgressBarLoader, { value: value, animated: animated })));\n});\nProgressBar.displayName = 'ProgressBar';\n"]},"metadata":{},"sourceType":"module"}