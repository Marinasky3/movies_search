{"ast":null,"code":"var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport conditionalStrings from 'classnames';\nimport { Formik, useField as useFormikField, useFormikContext } from 'formik';\nimport { either, identity, is, isEmpty, prop, startsWith, toLower } from 'ramda';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../../layouts/Box';\nimport { useI18nContext } from '../../state/I18n';\nimport { useDateTime } from '../../state/DateTime';\nimport { colors } from '../../styles/colors';\nimport { addSubcomponents } from '../../utils/addSubcomponents';\nimport { formatMachineDate, toDate } from '../../utils/dateTime';\nimport { Banner, ErrorBanner } from '../Banner';\nimport { Checkbox } from '../Checkbox';\nimport { DateSelect } from '../DateSelect';\nimport { GroupSelect } from '../GroupSelect';\nimport { Input } from '../Input';\nimport { MultiSelect } from '../MultiSelect';\nimport { CurrencyInput as BaseCurrencyInput, defaultCurrencyDecimalScale, defaultCurrencyFillDecimalScale, defaultCurrencyInputPrefix, NumberInput as BaseNumberInput } from '../NumberInput';\nimport { useNumberFormat } from '../NumberInput/NumberInput.hooks';\nimport { Pill } from '../Pill';\nimport { defaultGetColor, PillSelect } from '../PillSelect/PillSelect';\nimport { RadioButton } from '../RadioButton';\nimport { Select } from '../Select';\nimport { TextArea } from '../TextArea';\nimport { TextEditor } from '../TextEditor';\nimport { TieredSelect } from '../TieredSelect';\nimport { Tooltip } from '../Tooltip';\nimport { getTypographyIntent, typographyWeights } from '../Typography/Typography.styles';\nimport { StyledForm, StyledFormFieldBanner, StyledFormFieldErrorIcon, StyledFormFieldHeader, StyledFormFieldMain, StyledFormFieldRequiredMark, StyledFormFieldTooltipIcon, StyledFormikForm, StyledFormCheckboxInput, StyledFormOutputFiledset, StyledFormOutputRichText, StyledFormOutputTextArea, StyledFormRow, StyledTraditionalFormColumn, StyledTraditionalFormLabel } from './Form.styles';\nimport Typography from '../Typography';\nvar emptyObject = {};\nvar emptyArray = [];\n\nfunction noop() {}\n\nvar isFunction = function (obj) {\n  return typeof obj === 'function';\n};\n\nfunction getValueComponent(view, asComponent) {\n  return asComponent[view] || asComponent || TextInput;\n}\n\nvar SharedPropsContext = React.createContext(emptyObject);\nexport var FormContext = React.createContext({\n  different: false,\n  disabled: false,\n  enableReinitialize: false,\n  setFieldDifferent: function (k, d) {},\n  variant: 'wxp',\n  view: 'create'\n});\nexport function useFormContext() {\n  var formik = useFormikContext();\n  var formulaire = React.useContext(FormContext);\n  return __assign(__assign({}, formik), formulaire);\n}\nexport function getPrimitiveValue(value, getId) {\n  if (getId === void 0) {\n    getId = defaultGetId;\n  }\n\n  if (value === null || value === undefined) {\n    return '';\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (is(Array, value)) {\n    return value.map(getId).join();\n  }\n\n  if (is(Object, value)) {\n    if (isEmpty(value)) {\n      return '';\n    }\n\n    return getId(value);\n  }\n\n  return value;\n}\nexport function useField(_a) {\n  var _b = _a === void 0 ? emptyObject : _a,\n      _disabled = _b.disabled,\n      _c = _b.error,\n      _error = _c === void 0 ? false : _c,\n      getId = _b.getId,\n      _d = _b.required,\n      _required = _d === void 0 ? false : _d,\n      name = _b.name,\n      validate = _b.validate,\n      _view = _b.view;\n\n  var _e = useFormikField({\n    name: name,\n    validate: validate\n  }),\n      input = _e[0],\n      meta = _e[1],\n      helpers = _e[2];\n\n  var _f = React.useContext(FormContext),\n      disabled = _f.disabled,\n      setFieldDifferent = _f.setFieldDifferent,\n      validationSchema = _f.validationSchema,\n      view = _f.view;\n\n  var _g = useFormikContext(),\n      validateOnBlur = _g.validateOnBlur,\n      validateOnChange = _g.validateOnChange;\n\n  var requiredInSchema = React.useMemo(function () {\n    var fieldSchema = validationSchema === null || validationSchema === void 0 ? void 0 : validationSchema.describe().fields[name];\n    return (fieldSchema === null || fieldSchema === void 0 ? void 0 : fieldSchema.tests.findIndex(function (test) {\n      return test.name === 'required';\n    })) > -1;\n  }, [validationSchema, name]);\n  var initialPrimitiveValue = React.useMemo(function () {\n    return getPrimitiveValue(meta.initialValue, getId);\n  }, [meta.initialValue, getId]);\n  var onChange = React.useCallback(function (event) {\n    setFieldDifferent(name, initialPrimitiveValue !== getPrimitiveValue(event.target.value, getId));\n    input.onChange(event);\n  }, [initialPrimitiveValue, input.onChange, getPrimitiveValue, getId, setFieldDifferent]);\n  var setValue = React.useCallback(function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    setFieldDifferent(name, initialPrimitiveValue !== getPrimitiveValue(args[0], getId));\n    helpers.setValue.apply(helpers, args);\n  }, [initialPrimitiveValue, helpers.setValue, getPrimitiveValue, getId, setFieldDifferent]);\n  return {\n    input: __assign(__assign({}, input), {\n      onChange: onChange\n    }),\n    helpers: __assign(__assign({}, helpers), {\n      setValue: setValue\n    }),\n    messages: {\n      error: typeof _error === 'string' ? _error : meta.error\n    },\n    meta: __assign(__assign({}, meta), {\n      error: validateOnBlur || validateOnChange ? meta.error && meta.touched || Boolean(_error) : Boolean(meta.error) || Boolean(_error),\n      disabled: _disabled !== null && _disabled !== void 0 ? _disabled : disabled,\n      required: requiredInSchema || _required,\n      view: _view || view\n    })\n  };\n}\n\nvar onBeforeUnload = function (e) {\n  // https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeunload\n  e.preventDefault();\n  e.returnValue = '';\n};\n\nvar useDifferent = function () {\n  var _a = React.useState(emptyObject),\n      differentObject = _a[0],\n      setDifferentObject = _a[1];\n\n  var setFieldDifferent = function (name, isDiff) {\n    if (isDiff !== differentObject[name]) {\n      // HACK: Do not change. setTimeout seemingly allows fields to update their\n      // state before causing context re-render. This is specific to TinyMCE behavior.\n      setTimeout(function () {\n        return setDifferentObject(function (prev) {\n          var _a;\n\n          return __assign(__assign({}, prev), (_a = {}, _a[name] = isDiff, _a));\n        });\n      });\n    }\n  };\n\n  var resetDifferent = function () {\n    return setDifferentObject(emptyObject);\n  };\n\n  var different = React.useMemo(function () {\n    return Object.values(differentObject).some(identity);\n  }, [differentObject]);\n  return {\n    different: different,\n    resetDifferent: resetDifferent,\n    setFieldDifferent: setFieldDifferent\n  };\n};\n\nfunction Form_(_a) {\n  var _b = _a.initialValues,\n      initialValues = _b === void 0 ? emptyObject : _b,\n      _c = _a.onSubmit,\n      _onSubmit = _c === void 0 ? noop : _c,\n      _d = _a.disabled,\n      disabled = _d === void 0 ? false : _d,\n      _e = _a.enableConfirmNavigation,\n      enableConfirmNavigation = _e === void 0 ? false : _e,\n      _f = _a.variant,\n      variant = _f === void 0 ? 'wxp' : _f,\n      validationSchema = _a.validationSchema,\n      _g = _a.view,\n      view = _g === void 0 ? 'create' : _g,\n      props = __rest(_a, [\"initialValues\", \"onSubmit\", \"disabled\", \"enableConfirmNavigation\", \"variant\", \"validationSchema\", \"view\"]);\n\n  var _h = useDifferent(),\n      different = _h.different,\n      resetDifferent = _h.resetDifferent,\n      setFieldDifferent = _h.setFieldDifferent;\n\n  React.useEffect(function () {\n    if (enableConfirmNavigation) {\n      if (different && (view === 'create' || view === 'update')) {\n        window.onbeforeunload = onBeforeUnload;\n      } else if (!different && (view === 'create' || view === 'update')) {\n        window.onbeforeunload = null;\n      }\n    }\n  }, [enableConfirmNavigation, different, view]);\n\n  var reset = function () {\n    if (enableConfirmNavigation) {\n      window.onbeforeunload = null;\n    }\n\n    resetDifferent();\n  };\n\n  var onSubmit = function (values, actions) {\n    var promiseOrUndefined = _onSubmit(values, actions);\n\n    if (promiseOrUndefined === undefined) {\n      return;\n    }\n\n    return promiseOrUndefined.then(function (result) {\n      reset();\n      return result;\n    }).catch(function (result) {\n      return result;\n    });\n  };\n\n  return React.createElement(FormContext.Provider, {\n    value: {\n      different: different,\n      disabled: disabled,\n      setFieldDifferent: setFieldDifferent,\n      validationSchema: validationSchema,\n      variant: variant,\n      view: view,\n      enableReinitialize: props.enableReinitialize\n    }\n  }, React.createElement(Formik, __assign({}, __assign({\n    initialValues: initialValues,\n    onSubmit: onSubmit,\n    validationSchema: validationSchema,\n    validateOnBlur: false,\n    validateOnChange: false\n  }, props)), isFunction(props.children) ? props.children : React.createElement(React.Fragment, null, props.children)));\n}\n\nexport function FormForm(_a) {\n  var children = _a.children,\n      className = _a.className,\n      onKeyDown = _a.onKeyDown,\n      style = _a.style,\n      props = __rest(_a, [\"children\", \"className\", \"onKeyDown\", \"style\"]);\n\n  var view = React.useContext(FormContext).view;\n\n  if (view === 'create' || view === 'update') {\n    var preventFormSubmission = function (e) {\n      if (e.key === 'Enter' && e.target instanceof Element && (e.target.tagName === 'INPUT' || e.target.tagName === 'DIV' || e.target.tagName === 'SPAN')) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n\n      onKeyDown && onKeyDown(e);\n    };\n\n    return React.createElement(StyledFormikForm, __assign({\n      children: children,\n      className: className,\n      onKeyDown: preventFormSubmission,\n      style: style\n    }, props));\n  }\n\n  return React.createElement(StyledForm, {\n    children: children,\n    className: className,\n    style: style\n  });\n}\nexport function FormErrorBanner(_a) {\n  var item = _a.item,\n      _b = _a.i18nScope,\n      i18nScope = _b === void 0 ? 'core.form.errorBanner' : _b;\n  var context = useFormContext();\n  var I18n = useI18nContext();\n\n  if ((context.view === 'create' || context.view === 'update') && !isEmpty(context.errors)) {\n    return React.createElement(ErrorBanner, null, React.createElement(Banner.Content, null, React.createElement(Banner.Title, null, context.view === 'create' ? I18n.t('coundNotCreateItem', {\n      item: item,\n      scope: i18nScope\n    }) : I18n.t('couldNotUpdateItem', {\n      item: item,\n      scope: i18nScope\n    })), React.createElement(Banner.Body, null, context.view === 'create' ? I18n.t('fixErrorsToCreate', {\n      scope: i18nScope\n    }) : I18n.t('fixErrorsToUpdate', {\n      scope: i18nScope\n    }))));\n  }\n\n  return null;\n}\nvar StyledLabel = styled.label(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  \", \"\\n  color: \", \";\\n  font-weight: \", \";\\n  word-wrap: break-word;\\n  word-break: break-word;\\n\"], [\"\\n  \", \"\\n  color: \", \";\\n  font-weight: \", \";\\n  word-wrap: break-word;\\n  word-break: break-word;\\n\"])), getTypographyIntent('body'), colors.gray15, typographyWeights.bold);\nexport function isEmptyField(val) {\n  return val === undefined || val === null || val.length === 0 || is(Object, val) && isEmpty(val);\n}\nexport function WXPField(_a) {\n  var AsComponent = _a.as,\n      children = _a.children,\n      _b = _a.colStart,\n      colStart = _b === void 0 ? 1 : _b,\n      _c = _a.colWidth,\n      colWidth = _c === void 0 ? 6 : _c,\n      disabled = _a.disabled,\n      error = _a.error,\n      label = _a.label,\n      name = _a.name,\n      required = _a.required,\n      tooltip = _a.tooltip,\n      validate = _a.validate,\n      view = _a.view,\n      props = __rest(_a, [\"as\", \"children\", \"colStart\", \"colWidth\", \"disabled\", \"error\", \"label\", \"name\", \"required\", \"tooltip\", \"validate\", \"view\"]);\n\n  var field = useField({\n    disabled: disabled,\n    error: error,\n    getId: props.getId,\n    name: name,\n    required: required,\n    validate: validate,\n    view: view\n  });\n  var ValueComponent = getValueComponent(field.meta.view, AsComponent);\n  return React.createElement(React.Fragment, null, React.createElement(StyledFormFieldHeader, {\n    \"$colIeSpan\": colWidth,\n    \"$colStart\": colStart,\n    \"$colEnd\": colStart + colWidth\n  }, label && React.createElement(StyledLabel, {\n    htmlFor: name\n  }, label), (field.meta.view === 'create' || field.meta.view === 'update') && field.meta.required && React.createElement(StyledFormFieldRequiredMark, null), tooltip && React.createElement(Tooltip, {\n    overlay: tooltip\n  }, React.createElement(StyledFormFieldTooltipIcon, {\n    size: \"sm\"\n  }))), React.createElement(StyledFormFieldMain, {\n    \"$colIeSpan\": colWidth,\n    \"$colStart\": colStart,\n    \"$colEnd\": colStart + colWidth,\n    \"$read\": field.meta.view === 'read'\n  }, children ? isFunction(children) ? children(field) : children : React.createElement(ValueComponent, __assign({}, props, {\n    field: field\n  })), React.createElement(StyledFormFieldBanner, null, field.meta.error && React.createElement(Box, {\n    marginRight: \"xs\"\n  }, React.createElement(StyledFormFieldErrorIcon, {\n    size: \"sm\"\n  })), field.meta.error && field.messages.error && React.createElement(\"span\", null, field.messages.error))));\n}\nexport function TraditionalField(_a) {\n  var AsComponent = _a.as,\n      children = _a.children,\n      _b = _a.colWidth,\n      colWidth = _b === void 0 ? 6 : _b,\n      disabled = _a.disabled,\n      error = _a.error,\n      label = _a.label,\n      name = _a.name,\n      required = _a.required,\n      tooltip = _a.tooltip,\n      validate = _a.validate,\n      view = _a.view,\n      props = __rest(_a, [\"as\", \"children\", \"colWidth\", \"disabled\", \"error\", \"label\", \"name\", \"required\", \"tooltip\", \"validate\", \"view\"]);\n\n  var field = useField({\n    disabled: disabled,\n    error: error,\n    getId: props.getId,\n    name: name,\n    required: required,\n    validate: validate,\n    view: view\n  });\n  var ValueComponent = getValueComponent(field.meta.view, AsComponent);\n  return React.createElement(React.Fragment, null, React.createElement(StyledTraditionalFormColumn, null, label && React.createElement(React.Fragment, null, React.createElement(StyledTraditionalFormLabel, {\n    \"$view\": field.meta.view\n  }, React.createElement(\"label\", {\n    htmlFor: name\n  }, label, \":\")), (field.meta.view === 'create' || field.meta.view === 'update') && field.meta.required && React.createElement(StyledFormFieldRequiredMark, null), tooltip && React.createElement(Tooltip, {\n    overlay: tooltip,\n    placement: \"right\"\n  }, React.createElement(StyledFormFieldTooltipIcon, {\n    size: \"sm\"\n  })))), React.createElement(StyledTraditionalFormColumn, {\n    \"$fullWidth\": colWidth === 12,\n    \"$output\": field.meta.view === 'read'\n  }, children ? isFunction(children) ? children(field) : children : React.createElement(ValueComponent, __assign({}, props, {\n    field: field\n  }))));\n}\nexport function Row(_a) {\n  var children = _a.children,\n      props = __rest(_a, [\"children\"]);\n\n  var _b = React.useContext(FormContext),\n      variant = _b.variant,\n      view = _b.view;\n\n  return React.createElement(StyledFormRow, __assign({\n    \"$traditional\": variant === 'traditional',\n    \"$read\": view === 'read'\n  }, props), children);\n}\nexport function BaseField(props) {\n  var variant = React.useContext(FormContext).variant;\n\n  if (variant === 'traditional') {\n    return React.createElement(TraditionalField, __assign({}, props));\n  } else {\n    return React.createElement(WXPField, __assign({}, props));\n  }\n} // MAKE\n\nfunction makeSharedField(viewAs) {\n  return function Field(_a) {\n    var children = _a.children,\n        props = __rest(_a, [\"children\"]);\n\n    if (children) {\n      return React.createElement(SharedPropsContext.Provider, {\n        value: props\n      }, children);\n    }\n\n    return React.createElement(BaseField, __assign({\n      as: viewAs\n    }, props), children);\n  };\n}\n\nfunction makeViewField(viewAs, when) {\n  return function FieldView(props) {\n    var view = React.useContext(FormContext).view;\n    var commonProps = React.useContext(SharedPropsContext);\n\n    if (when === view) {\n      return React.createElement(BaseField, __assign({\n        as: viewAs\n      }, commonProps, props));\n    }\n\n    return null;\n  };\n}\n\nexport function makeField(editComponent, showComponent, options) {\n  var views = {\n    create: editComponent,\n    read: options && !options.emptyState ? showComponent : withDefaultEmptyState(showComponent),\n    update: editComponent\n  }; // @ts-ignore\n\n  var Field = makeSharedField(views);\n  var Create = makeViewField( // @ts-ignore\n  views, 'create');\n  var Read = makeViewField( // @ts-ignore\n  views, 'read');\n  var Update = makeViewField( // @ts-ignore\n  views, 'update');\n  return addSubcomponents({\n    Create: Create,\n    Read: Read,\n    Update: Update\n  }, Field);\n} /// FIELD TYPES\n// @ts-ignore\n\nvar defaultGetLabel = either(prop('label'), prop('name'));\nvar defaultGetId = prop('id');\nvar defaultGetGroup = prop('groupId'); // EMPTY STATE\n\nvar EmptyState = function (props) {\n  var _a;\n\n  return React.createElement(Typography, {\n    intent: \"body\",\n    color: \"gray45\",\n    \"data-qa\": conditionalStrings((_a = {}, _a[\"\".concat(props['data-qa'])] = props['data-qa'], _a), \"core-form-field-empty\")\n  }, \"--\");\n};\n\nexport function withDefaultEmptyState(OutputComponent) {\n  var WithDefaultEmptyState = React.forwardRef(function (props, ref) {\n    if (isEmptyField(props.field.input.value)) {\n      return React.createElement(EmptyState, __assign({}, props));\n    } // ComponentWithFieldProp's third type of generic function raises an issue with the component possibly being 'undefined'\n    // @ts-ignore\n\n\n    return React.createElement(OutputComponent, __assign({\n      ref: ref\n    }, props));\n  }); // @ts-ignore\n\n  WithDefaultEmptyState.displayName = \"FieldWithEmptyState\";\n  return WithDefaultEmptyState;\n} // TEXT\n\nexport var TextInput = React.forwardRef(function TextInput(_a, ref) {\n  var _onBlur = _a.onBlur,\n      _onChange = _a.onChange,\n      field = _a.field,\n      props = __rest(_a, [\"onBlur\", \"onChange\", \"field\"]);\n\n  var onBlur = function (e) {\n    field.input.onBlur(e);\n    _onBlur && _onBlur(e);\n  };\n\n  var onChange = function (e) {\n    field.input.onChange(e);\n    _onChange && _onChange(e);\n  };\n\n  return React.createElement(Input, __assign({\n    \"aria-required\": field.meta.required,\n    disabled: field.meta.disabled,\n    error: field.meta.error,\n    name: field.input.name,\n    onBlur: onBlur,\n    onChange: onChange,\n    ref: ref,\n    value: field.input.value || ''\n  }, props));\n});\nexport var TextOutput = React.forwardRef(function TextOutput(_a, ref) {\n  var field = _a.field,\n      props = __rest(_a, [\"field\"]);\n\n  return React.createElement(\"span\", __assign({\n    ref: ref\n  }, props), field.input.value);\n});\nvar FieldText = makeField(TextInput, TextOutput); // NUMBER\n\nexport var NumberInput = React.forwardRef(function NumberInput(_a, ref) {\n  var onBlur_ = _a.onBlur,\n      onChange_ = _a.onChange,\n      field = _a.field,\n      props = __rest(_a, [\"onBlur\", \"onChange\", \"field\"]);\n\n  var onBlur = function (e) {\n    field.input.onBlur(e);\n    onBlur_ === null || onBlur_ === void 0 ? void 0 : onBlur_(e);\n  };\n\n  var onChange = React.useCallback(function (valueChange) {\n    // field.helpers.setValue always updates. Using field.input.onChange instead.\n    // setValue causes infinite loop with NumberInput changing locale logic\n    // helpers difference reference each update https://github.com/formium/formik/issues/2268\n    field.input.onChange({\n      target: {\n        name: field.input.name,\n        value: valueChange.parsedNumber\n      }\n    });\n    onChange_ === null || onChange_ === void 0 ? void 0 : onChange_(valueChange);\n  }, [onChange_, field.input.onChange]);\n  return React.createElement(BaseNumberInput, __assign({\n    \"aria-required\": field.meta.required,\n    disabled: field.meta.disabled,\n    error: field.meta.error,\n    name: field.input.name,\n    onBlur: onBlur,\n    onChange: onChange,\n    ref: ref,\n    value: field.input.value\n  }, props));\n});\nexport var NumberOutput = React.forwardRef(function NumberOutput(_a, ref) {\n  var decimalScale = _a.decimalScale,\n      defaultValue = _a.defaultValue,\n      field = _a.field,\n      fillDecimalScale = _a.fillDecimalScale,\n      locale = _a.locale,\n      onChange = _a.onChange,\n      prefix = _a.prefix,\n      props = __rest(_a, [\"decimalScale\", \"defaultValue\", \"field\", \"fillDecimalScale\", \"locale\", \"onChange\", \"prefix\"]);\n\n  var formatValue = useNumberFormat({\n    decimalScale: decimalScale,\n    fillDecimalScale: fillDecimalScale === 'always' || fillDecimalScale === 'onBlur' ? 'always' : 'none',\n    locale: locale\n  }).formatValue;\n  var value = formatValue(field.input.value);\n  return React.createElement(\"span\", __assign({\n    ref: ref\n  }, props), value && prefix ? prefix : null, \" \", value);\n});\nvar FieldNumber = makeField(NumberInput, NumberOutput); // CURRENCY\n\nexport var CurrencyInput = React.forwardRef(function CurrencyInput(_a, ref) {\n  var onBlur_ = _a.onBlur,\n      onChange_ = _a.onChange,\n      field = _a.field,\n      props = __rest(_a, [\"onBlur\", \"onChange\", \"field\"]);\n\n  var onBlur = function (e) {\n    field.input.onBlur(e);\n    onBlur_ === null || onBlur_ === void 0 ? void 0 : onBlur_(e);\n  };\n\n  var onChange = React.useCallback(function (valueChange) {\n    // field.helpers.setValue always updates. Using field.input.onChange instead.\n    // setValue causes infinite loop with NumberInput changing locale logic\n    field.input.onChange({\n      target: {\n        name: field.input.name,\n        value: valueChange.parsedNumber\n      }\n    });\n    onChange_ === null || onChange_ === void 0 ? void 0 : onChange_(valueChange);\n  }, [onChange_, field.input.onChange]);\n  return React.createElement(BaseCurrencyInput, __assign({\n    \"aria-required\": field.meta.required,\n    disabled: field.meta.disabled,\n    error: field.meta.error,\n    name: field.input.name,\n    onBlur: onBlur,\n    onChange: onChange,\n    ref: ref,\n    value: field.input.value\n  }, props));\n});\nexport var CurrencyOutput = React.forwardRef(function CurrencyOutput(props, ref) {\n  return React.createElement(NumberOutput, __assign({\n    decimalScale: defaultCurrencyDecimalScale,\n    fillDecimalScale: defaultCurrencyFillDecimalScale,\n    prefix: defaultCurrencyInputPrefix,\n    ref: ref\n  }, props));\n});\nvar FieldCurrency = makeField(CurrencyInput, CurrencyOutput); // DATE\n\nexport var DateInput = React.forwardRef(function DateInput(_a, ref) {\n  var _onChange = _a.onChange,\n      field = _a.field,\n      props = __rest(_a, [\"onChange\", \"field\"]);\n\n  var value = field.input.value ? toDate(field.input.value, 'Form.DateSelect Create or Update Input') : undefined;\n\n  var onChange = function (value) {\n    field.helpers.setValue(value);\n    field.helpers.setTouched(true);\n    _onChange && _onChange(value);\n  };\n\n  return React.createElement(DateSelect, __assign({\n    disabled: field.meta.disabled,\n    error: field.meta.error,\n    onChange: onChange,\n    ref: ref,\n    value: value\n  }, props));\n});\nexport var DateOutput = React.forwardRef(function DateOutput(_a, ref) {\n  var onChange = _a.onChange,\n      field = _a.field,\n      props = __rest(_a, [\"onChange\", \"field\"]);\n\n  var dateTime = useDateTime();\n  var value = field.input.value ? dateTime.format(toDate(field.input.value, 'Form.DateSelect Read Output'), 'numeric-date') : undefined;\n  var machineValue = field.input.value ? formatMachineDate(dateTime.shiftUtcToZonedTime(toDate(field.input.value))) : undefined;\n  return React.createElement(\"span\", __assign({\n    ref: ref\n  }, props), value && React.createElement(\"time\", {\n    dateTime: machineValue\n  }, value));\n});\nvar FieldDateSelect = makeField(DateInput, DateOutput); // CHECKBOX\n\nexport var CheckboxInput = React.forwardRef(function CheckboxInput(_a, ref) {\n  var field = _a.field,\n      i18nScope = _a.i18nScope,\n      _onBlur = _a.onBlur,\n      _onChange = _a.onChange,\n      props = __rest(_a, [\"field\", \"i18nScope\", \"onBlur\", \"onChange\"]);\n\n  var value = field.input.value || false;\n\n  var onBlur = function (e) {\n    field.input.onBlur(e);\n    _onBlur && _onBlur(e);\n  };\n\n  var onChange = function (e) {\n    field.helpers.setValue(!value);\n    _onChange && _onChange(e);\n  };\n\n  return React.createElement(StyledFormCheckboxInput, __assign({\n    \"aria-required\": field.meta.required,\n    checked: value,\n    disabled: field.meta.disabled,\n    error: field.meta.error,\n    onBlur: onBlur,\n    onChange: onChange,\n    name: field.input.name,\n    ref: ref,\n    value: String(value)\n  }, props));\n});\nexport var CheckboxOutput = React.forwardRef(function CheckboxOutput(_a, ref) {\n  var field = _a.field,\n      _b = _a.i18nScope,\n      i18nScope = _b === void 0 ? 'core.form.checkbox' : _b,\n      props = __rest(_a, [\"field\", \"i18nScope\"]);\n\n  var i18n = useI18nContext();\n  var yes = i18n.t('yes', {\n    scope: i18nScope\n  });\n  var no = i18n.t('no', {\n    scope: i18nScope\n  });\n  return React.createElement(\"span\", __assign({\n    ref: ref\n  }, props), field.input.value ? yes : no);\n});\nvar FieldCheckbox = makeField(CheckboxInput, CheckboxOutput, {\n  emptyState: false\n}); // TEXTAREA\n\nexport var TextAreaInput = React.forwardRef(function TextAreaInput(_a, ref) {\n  var field = _a.field,\n      _onBlur = _a.onBlur,\n      _onChange = _a.onChange,\n      props = __rest(_a, [\"field\", \"onBlur\", \"onChange\"]);\n\n  var onBlur = function (e) {\n    field.input.onBlur(e);\n    _onBlur && _onBlur(e);\n  };\n\n  var onChange = function (e) {\n    field.input.onChange(e);\n    _onChange && _onChange(e);\n  };\n\n  return React.createElement(TextArea, __assign({\n    \"aria-required\": field.meta.required,\n    disabled: field.meta.disabled,\n    error: field.meta.error,\n    name: field.input.name,\n    onBlur: onBlur,\n    onChange: onChange,\n    ref: ref,\n    value: field.input.value\n  }, props));\n});\nexport var TextAreaOutput = React.forwardRef(function TextAreaOutput(_a, ref) {\n  var field = _a.field,\n      props = __rest(_a, [\"field\"]);\n\n  return React.createElement(StyledFormOutputTextArea, __assign({\n    ref: ref\n  }, props), field.input.value);\n});\nvar FieldTextArea = makeField(TextAreaInput, TextAreaOutput); // RICHTEXT\n\nexport var RichTextInput = React.forwardRef(function RichTextInput(_a, ref) {\n  var _onChange = _a.onChange,\n      field = _a.field,\n      props = __rest(_a, [\"onChange\", \"field\"]);\n\n  var onChange = function (value) {\n    field.helpers.setValue(value);\n    field.helpers.setTouched(true);\n    _onChange && _onChange(value);\n  };\n\n  return React.createElement(TextEditor, __assign({\n    disabled: field.meta.disabled,\n    error: field.meta.error,\n    value: field.input.value,\n    onChange: onChange\n  }, props));\n});\nexport var RichTextOutput = React.forwardRef(function RichTextOutput(_a, ref) {\n  var field = _a.field,\n      onBlur = _a.onBlur,\n      onChange = _a.onChange,\n      onClick = _a.onClick,\n      onContextMenu = _a.onContextMenu,\n      onCopy = _a.onCopy,\n      onCut = _a.onCut,\n      onDrag = _a.onDrag,\n      onDragDrop = _a.onDragDrop,\n      onDragEnd = _a.onDragEnd,\n      onDragGesture = _a.onDragGesture,\n      onDragOver = _a.onDragOver,\n      onDrop = _a.onDrop,\n      onFocus = _a.onFocus,\n      onKeyDown = _a.onKeyDown,\n      onKeyPress = _a.onKeyPress,\n      onMouseDown = _a.onMouseDown,\n      onMouseEnter = _a.onMouseEnter,\n      onMouseLeave = _a.onMouseLeave,\n      onMouseMove = _a.onMouseMove,\n      onMouseOut = _a.onMouseOut,\n      onMouseOver = _a.onMouseOver,\n      onMouseUp = _a.onMouseUp,\n      onPaste = _a.onPaste,\n      onReset = _a.onReset,\n      onSubmit = _a.onSubmit,\n      props = __rest(_a, [\"field\", \"onBlur\", \"onChange\", \"onClick\", \"onContextMenu\", \"onCopy\", \"onCut\", \"onDrag\", \"onDragDrop\", \"onDragEnd\", \"onDragGesture\", \"onDragOver\", \"onDrop\", \"onFocus\", \"onKeyDown\", \"onKeyPress\", \"onMouseDown\", \"onMouseEnter\", \"onMouseLeave\", \"onMouseMove\", \"onMouseOut\", \"onMouseOver\", \"onMouseUp\", \"onPaste\", \"onReset\", \"onSubmit\"]);\n\n  return React.createElement(StyledFormOutputRichText, __assign({\n    dangerouslySetInnerHTML: {\n      __html: field.input.value\n    },\n    ref: ref\n  }, props));\n});\nvar FieldRichText = makeField(RichTextInput, RichTextOutput); // RADIO BUTTONS\n\nexport var RadioButtonsInput = React.forwardRef(function RadioButtonsInput(_a, ref) {\n  var field = _a.field,\n      _b = _a.getId,\n      getId = _b === void 0 ? defaultGetId : _b,\n      _c = _a.getLabel,\n      getLabel = _c === void 0 ? defaultGetLabel : _c,\n      isDisabledOption = _a.isDisabledOption,\n      options = _a.options,\n      props = __rest(_a, [\"field\", \"getId\", \"getLabel\", \"isDisabledOption\", \"options\"]);\n\n  if (!options || options.length === 0) return null;\n\n  var onSelect = function (option) {\n    return function () {\n      field.helpers.setValue(option);\n    };\n  };\n\n  return React.createElement(StyledFormOutputFiledset, __assign({\n    ref: ref,\n    disabled: field.meta.disabled\n  }, props), options.map(function (option) {\n    return React.createElement(RadioButton, {\n      checked: getId(option) === getId(field.input.value),\n      disabled: isDisabledOption && isDisabledOption(option),\n      error: field.meta.error,\n      key: getId(option),\n      name: field.input.name,\n      onChange: onSelect(option),\n      value: getId(option)\n    }, getLabel(option));\n  }));\n});\nexport var RadioButtonsOutput = React.forwardRef(function RadioButtonsOutput(_a, ref) {\n  var field = _a.field,\n      getId = _a.getId,\n      _b = _a.getLabel,\n      getLabel = _b === void 0 ? defaultGetLabel : _b,\n      options = _a.options,\n      props = __rest(_a, [\"field\", \"getId\", \"getLabel\", \"options\"]);\n\n  return React.createElement(\"span\", __assign({\n    ref: ref\n  }, props), getLabel(field.input.value));\n});\nvar FieldRadioButtons = makeField(RadioButtonsInput, RadioButtonsOutput); // CHECKBOXES\n\nexport var CheckboxesInput = React.forwardRef(function CheckboxesInput(_a, ref) {\n  var field = _a.field,\n      _b = _a.getId,\n      getId = _b === void 0 ? defaultGetId : _b,\n      _c = _a.getLabel,\n      getLabel = _c === void 0 ? defaultGetLabel : _c,\n      isDisabledOption = _a.isDisabledOption,\n      isIndeterminateOption = _a.isIndeterminateOption,\n      options = _a.options,\n      props = __rest(_a, [\"field\", \"getId\", \"getLabel\", \"isDisabledOption\", \"isIndeterminateOption\", \"options\"]);\n\n  if (!options || options.length === 0) return null;\n  var selectedIds = (field.input.value || emptyArray).map(getId);\n\n  var onSelect = function (changedOption) {\n    return function () {\n      if (selectedIds.includes(getId(changedOption))) {\n        field.helpers.setValue(field.input.value.filter(function (entry) {\n          return getId(entry) !== getId(changedOption);\n        }));\n      } else {\n        field.helpers.setValue((field.input.value || emptyArray).concat(changedOption));\n      }\n    };\n  };\n\n  return React.createElement(StyledFormOutputFiledset, __assign({\n    ref: ref,\n    disabled: field.meta.disabled\n  }, props), options.map(function (option) {\n    return React.createElement(Checkbox, {\n      checked: selectedIds.includes(getId(option)),\n      disabled: isDisabledOption && isDisabledOption(option),\n      error: field.meta.error,\n      indeterminate: isIndeterminateOption && isIndeterminateOption(option),\n      key: getId(option),\n      name: field.input.name,\n      onChange: onSelect(option),\n      value: getId(option)\n    }, getLabel(option));\n  }));\n});\nexport var CheckboxesOutput = React.forwardRef(function CheckboxesOutput(_a, ref) {\n  var field = _a.field,\n      getId = _a.getId,\n      _b = _a.getLabel,\n      getLabel = _b === void 0 ? defaultGetLabel : _b,\n      options = _a.options,\n      props = __rest(_a, [\"field\", \"getId\", \"getLabel\", \"options\"]);\n\n  return React.createElement(\"span\", __assign({\n    ref: ref\n  }, props), field.input.value && field.input.value.map(getLabel).join(', '));\n});\nvar FieldCheckboxes = makeField(CheckboxesInput, CheckboxesOutput); // SELECT\n\nvar lowerStartsWith = function (query, value) {\n  if (value === void 0) {\n    value = '';\n  }\n\n  return startsWith(toLower(query), toLower(value));\n};\n\nexport function useOptions(_a) {\n  var value = _a.value,\n      optgroups = _a.optgroups,\n      _b = _a.options,\n      options = _b === void 0 ? emptyArray : _b,\n      getLabel = _a.getLabel,\n      getId = _a.getId,\n      groupGetId = _a.groupGetId,\n      _c = _a.getGroup,\n      getGroup = _c === void 0 ? defaultGetGroup : _c,\n      _d = _a.comparator,\n      comparator = _d === void 0 ? lowerStartsWith : _d;\n\n  var _e = React.useState(''),\n      query = _e[0],\n      setQuery = _e[1];\n\n  var search = function (e) {\n    return setQuery(e.target.value);\n  };\n\n  var filteredOptions = React.useMemo(function () {\n    return options.filter(function (option) {\n      return comparator(query, getLabel(option));\n    });\n  }, [comparator, query, options, getLabel]);\n  var groupedOptions = React.useMemo(function () {\n    if (!optgroups || !optgroups.length) {\n      return filteredOptions;\n    }\n\n    var optionsByGroup = optgroups.reduce(function (acc, group) {\n      var _a;\n\n      return __assign(__assign({}, acc), (_a = {}, _a[groupGetId(group)] = [], _a));\n    }, {});\n    var orphanOptions = [];\n    filteredOptions.forEach(function (option) {\n      var groupId = getGroup(option);\n      var groupOptions = optionsByGroup[groupId];\n\n      if (!groupId || !groupOptions) {\n        orphanOptions.push(option);\n        return;\n      }\n\n      optionsByGroup[groupId].push(option);\n    });\n\n    if (orphanOptions.length) {\n      console.warn(\"Could not find option groups for the options below. Make sure that every option has a proper \\\"groupId\\\" field or if \\\"getGroup\\\" is implemented correctly.\", orphanOptions);\n    }\n\n    return optgroups.flatMap(function (group) {\n      var groupHeader = __assign(__assign({}, group), {\n        isGroupHeader: true\n      });\n\n      var groupOptions = optionsByGroup[groupGetId(group)];\n\n      if (!groupOptions.length) {\n        return [];\n      }\n\n      return __spreadArray([groupHeader], groupOptions, true);\n    }, []);\n  }, [filteredOptions, getGroup, groupGetId, optgroups]);\n  var selected = options.find(function (option) {\n    return value && getId(option) === getId(value);\n  }) || value;\n  return {\n    list: groupedOptions,\n    selected: selected,\n    search: search\n  };\n}\n\nfunction defaultOptionRenderer(item, _a) {\n  var getId = _a.getId,\n      getLabel = _a.getLabel,\n      props = __rest(_a, [\"getId\", \"getLabel\"]);\n\n  return React.createElement(Select.Option, __assign({}, props), getLabel(item));\n}\n\nfunction defaultGroupHeaderRenderer(group, _a) {\n  var getId = _a.getId,\n      getLabel = _a.getLabel,\n      props = __rest(_a, [\"getId\", \"getLabel\"]);\n\n  return React.createElement(Select.OptGroup, __assign({}, props), getLabel(group));\n}\n\nexport var SelectInput = React.forwardRef(function SelectInput(_a, ref) {\n  var _afterHide = _a.afterHide,\n      field = _a.field,\n      _b = _a.getGroup,\n      getGroup = _b === void 0 ? defaultGetGroup : _b,\n      _c = _a.getId,\n      getId = _c === void 0 ? defaultGetId : _c,\n      _d = _a.getLabel,\n      getLabel = _d === void 0 ? defaultGetLabel : _d,\n      _e = _a.groupGetId,\n      groupGetId = _e === void 0 ? defaultGetId : _e,\n      _f = _a.groupGetLabel,\n      groupGetLabel = _f === void 0 ? defaultGetLabel : _f,\n      _g = _a.groupHeaderRenderer,\n      groupHeaderRenderer = _g === void 0 ? defaultGroupHeaderRenderer : _g,\n      isSuggestedOption = _a.isSuggestedOption,\n      _onClear = _a.onClear,\n      _onSearch = _a.onSearch,\n      _onSelect = _a.onSelect,\n      searchComparator = _a.searchComparator,\n      options = _a.options,\n      optgroups = _a.optgroups,\n      _h = _a.optionRenderer,\n      optionRenderer = _h === void 0 ? defaultOptionRenderer : _h,\n      props = __rest(_a, [\"afterHide\", \"field\", \"getGroup\", \"getId\", \"getLabel\", \"groupGetId\", \"groupGetLabel\", \"groupHeaderRenderer\", \"isSuggestedOption\", \"onClear\", \"onSearch\", \"onSelect\", \"searchComparator\", \"options\", \"optgroups\", \"optionRenderer\"]);\n\n  var menu = useOptions({\n    options: options,\n    optgroups: optgroups,\n    getGroup: getGroup,\n    getId: getId,\n    getLabel: getLabel,\n    groupGetId: groupGetId,\n    value: field.input.value,\n    comparator: searchComparator\n  });\n  var label = menu.selected ? getLabel(menu.selected) : undefined;\n\n  var afterHide = function () {\n    field.helpers.setTouched(true);\n    _afterHide && _afterHide();\n  };\n\n  var onSelect = function (selection) {\n    field.helpers.setValue(selection.item);\n    _onSelect && _onSelect(selection);\n  };\n\n  var onClear = function (e) {\n    field.helpers.setValue(null);\n\n    if (typeof _onClear === 'function') {\n      _onClear(e);\n    }\n  };\n\n  var onSearch = function (e) {\n    menu.search(e);\n\n    if (typeof _onSearch === 'function') {\n      _onSearch(e);\n    }\n  };\n\n  return React.createElement(Select, __assign({\n    afterHide: afterHide,\n    block: true,\n    disabled: field.meta.disabled,\n    error: field.meta.error,\n    label: label,\n    onClear: _onClear || _onClear === undefined ? onClear : undefined,\n    onSearch: _onSearch || _onSearch === undefined || searchComparator ? onSearch : undefined,\n    onSelect: onSelect,\n    ref: ref\n  }, props), menu.list.map(function (option) {\n    if (option.isGroupHeader) {\n      return groupHeaderRenderer(option, {\n        getId: groupGetId,\n        getLabel: groupGetLabel,\n        // @ts-ignore\n        // This property is React specific, not a prop on the component renderer\n        key: \"group_\".concat(groupGetId(option))\n      });\n    }\n\n    return optionRenderer(option, {\n      getId: getId,\n      getLabel: getLabel,\n      // @ts-ignore\n      // This property is React specific, not a prop on the component renderer\n      // Object literal may only specify known properties, and 'key' does not exist in type 'OptionProps'.\n      key: getId(option),\n      selected: getId(menu.selected) === getId(option),\n      suggested: isSuggestedOption && isSuggestedOption(option),\n      value: option\n    });\n  }));\n});\nexport var SelectOutput = React.forwardRef(function SelectOutput(_a, ref) {\n  var field = _a.field,\n      getId = _a.getId,\n      _b = _a.getLabel,\n      getLabel = _b === void 0 ? defaultGetLabel : _b,\n      options = _a.options,\n      searchComparator = _a.searchComparator,\n      onBlur = _a.onBlur,\n      onClear = _a.onClear,\n      onSearch = _a.onSearch,\n      onSelect = _a.onSelect,\n      props = __rest(_a, [\"field\", \"getId\", \"getLabel\", \"options\", \"searchComparator\", \"onBlur\", \"onClear\", \"onSearch\", \"onSelect\"]);\n\n  return React.createElement(\"span\", __assign({\n    ref: ref\n  }, props), getLabel(field.input.value));\n});\nvar FieldSelect = makeField(SelectInput, SelectOutput); // PILL SELECT\n\nexport var PillSelectInput = React.forwardRef(function PillSelectInput(_a, ref) {\n  var field = _a.field,\n      _onBlur = _a.onBlur,\n      _onClear = _a.onClear,\n      _onSelect = _a.onSelect,\n      _b = _a.getId,\n      getId = _b === void 0 ? defaultGetId : _b,\n      _c = _a.getLabel,\n      getLabel = _c === void 0 ? defaultGetLabel : _c,\n      props = __rest(_a, [\"field\", \"onBlur\", \"onClear\", \"onSelect\", \"getId\", \"getLabel\"]);\n\n  var onBlur = function (e) {\n    field.helpers.setTouched(true);\n    _onBlur && _onBlur(e);\n  };\n\n  var onClear = function (e) {\n    field.helpers.setValue(null);\n    _onClear && _onClear(e);\n  };\n\n  var onSelect = function (selection) {\n    field.helpers.setValue(selection.item);\n    _onSelect && _onSelect(selection);\n  };\n\n  return React.createElement(PillSelect, __assign({\n    block: true,\n    disabled: field.meta.disabled,\n    error: field.meta.error,\n    getId: getId,\n    getLabel: getLabel,\n    onBlur: onBlur,\n    onClear: _onClear || _onClear === undefined ? onClear : undefined,\n    onSelect: onSelect,\n    ref: ref,\n    value: field.input.value\n  }, props));\n});\nexport var PillSelectOutput = React.forwardRef(function PillSelectOutput(_a, ref) {\n  var color = _a.color,\n      field = _a.field,\n      _b = _a.getColor,\n      getColor = _b === void 0 ? defaultGetColor : _b,\n      _c = _a.getLabel,\n      getLabel = _c === void 0 ? defaultGetLabel : _c,\n      onSelect = _a.onSelect,\n      options = _a.options,\n      props = __rest(_a, [\"color\", \"field\", \"getColor\", \"getLabel\", \"onSelect\", \"options\"]);\n\n  return React.createElement(Pill, __assign({\n    color: getColor(field.input.value)\n  }, props), getLabel(field.input.value));\n});\nvar FieldPillSelect = makeField(PillSelectInput, PillSelectOutput); // MULTISELECT\n\nexport var MultiSelectInput = React.forwardRef(function MultiSelectInput(_a, ref) {\n  var field = _a.field,\n      _onBlur = _a.onBlur,\n      _onChange = _a.onChange,\n      _b = _a.getId,\n      getId = _b === void 0 ? defaultGetId : _b,\n      _c = _a.getLabel,\n      getLabel = _c === void 0 ? defaultGetLabel : _c,\n      props = __rest(_a, [\"field\", \"onBlur\", \"onChange\", \"getId\", \"getLabel\"]);\n\n  var onBlur = function (e) {\n    field.helpers.setTouched(true);\n    _onBlur && _onBlur(e);\n  };\n\n  var onChange = function (value, e) {\n    field.helpers.setValue(value);\n    _onChange && _onChange(value, e);\n  };\n\n  return React.createElement(MultiSelect, __assign({\n    block: true,\n    disabled: field.meta.disabled,\n    error: field.meta.error,\n    getId: getId,\n    getLabel: getLabel,\n    onBlur: onBlur,\n    onChange: onChange,\n    ref: ref,\n    value: field.input.value\n  }, props));\n});\nexport var MultiSelectOutput = React.forwardRef(function MultiSelectOutput(_a, ref) {\n  var field = _a.field,\n      _b = _a.getLabel,\n      getLabel = _b === void 0 ? defaultGetLabel : _b,\n      getId = _a.getId,\n      onChange = _a.onChange,\n      options = _a.options,\n      props = __rest(_a, [\"field\", \"getLabel\", \"getId\", \"onChange\", \"options\"]);\n\n  return React.createElement(\"span\", __assign({\n    ref: ref\n  }, props), field.input.value && field.input.value.map(getLabel).join(', '));\n});\nvar FieldMultiSelect = makeField(MultiSelectInput, MultiSelectOutput); // GROUP SELECT\n\nexport var GroupSelectInput = React.forwardRef(function GroupSelectInput(_a, ref) {\n  var field = _a.field,\n      _onBlur = _a.onBlur,\n      _onChange = _a.onChange,\n      _b = _a.getId,\n      getId = _b === void 0 ? defaultGetId : _b,\n      _c = _a.getLabel,\n      getLabel = _c === void 0 ? defaultGetLabel : _c,\n      props = __rest(_a, [\"field\", \"onBlur\", \"onChange\", \"getId\", \"getLabel\"]);\n\n  var onBlur = function (e) {\n    field.helpers.setTouched(true);\n    _onBlur && _onBlur(e);\n  };\n\n  var onChange = function (value, e) {\n    field.helpers.setValue(value);\n    _onChange && _onChange(value, e);\n  };\n\n  return React.createElement(GroupSelect, __assign({\n    block: true,\n    disabled: field.meta.disabled,\n    error: field.meta.error,\n    getId: getId,\n    getLabel: getLabel,\n    onBlur: onBlur,\n    onChange: onChange,\n    ref: ref,\n    value: field.input.value\n  }, props));\n});\nexport var GroupSelectOutput = React.forwardRef(function GroupSelectOutput(_a, ref) {\n  var field = _a.field,\n      _b = _a.getLabel,\n      getLabel = _b === void 0 ? defaultGetLabel : _b,\n      getId = _a.getId,\n      onChange = _a.onChange,\n      options = _a.options,\n      props = __rest(_a, [\"field\", \"getLabel\", \"getId\", \"onChange\", \"options\"]);\n\n  return React.createElement(\"span\", __assign({\n    ref: ref\n  }, props), field.input.value && field.input.value.map(getLabel).join(', '));\n});\nvar FieldGroupSelect = makeField(GroupSelectInput, GroupSelectOutput); // TIERED SELECT\n\nexport var TieredSelectInput = React.forwardRef(function TieredSelectInput(_a, ref) {\n  var field = _a.field,\n      _onBlur = _a.onBlur,\n      _onChange = _a.onChange,\n      _b = _a.getId,\n      getId = _b === void 0 ? defaultGetId : _b,\n      _c = _a.getLabel,\n      getLabel = _c === void 0 ? defaultGetLabel : _c,\n      props = __rest(_a, [\"field\", \"onBlur\", \"onChange\", \"getId\", \"getLabel\"]);\n\n  var onBlur = function (e) {\n    field.helpers.setTouched(true);\n    _onBlur && _onBlur(e);\n  };\n\n  var onChange = function (selection) {\n    field.helpers.setValue(selection.value);\n    _onChange && _onChange(selection);\n  };\n\n  return React.createElement(TieredSelect, __assign({\n    block: true,\n    disabled: field.meta.disabled,\n    error: field.meta.error,\n    getId: getId,\n    getLabel: getLabel,\n    onBlur: onBlur,\n    onChange: onChange,\n    ref: ref,\n    value: field.input.value\n  }, props));\n});\nexport var TieredSelectOutput = React.forwardRef(function TieredSelectOutput(_a, ref) {\n  var field = _a.field,\n      _b = _a.getLabel,\n      getLabel = _b === void 0 ? defaultGetLabel : _b,\n      getId = _a.getId,\n      onChange = _a.onChange,\n      options = _a.options,\n      props = __rest(_a, [\"field\", \"getLabel\", \"getId\", \"onChange\", \"options\"]);\n\n  return React.createElement(\"span\", __assign({\n    ref: ref\n  }, props), field.input.value && field.input.value.map(function (tier) {\n    return getLabel(tier);\n  }).join(' > '));\n});\nvar FieldTieredSelect = makeField(TieredSelectInput, TieredSelectOutput);\nvar FieldAny = makeField(TextInput, TextOutput);\nexport var Form = addSubcomponents({\n  Checkboxes: FieldCheckboxes,\n  Checkbox: FieldCheckbox,\n  Currency: FieldCurrency,\n  DateSelect: FieldDateSelect,\n  ErrorBanner: FormErrorBanner,\n  Field: FieldAny,\n  Form: FormForm,\n  GroupSelect: FieldGroupSelect,\n  MultiSelect: FieldMultiSelect,\n  Number: FieldNumber,\n  PillSelect: FieldPillSelect,\n  RadioButtons: FieldRadioButtons,\n  RichText: FieldRichText,\n  Row: Row,\n  Select: FieldSelect,\n  Text: FieldText,\n  TextArea: FieldTextArea,\n  TieredSelect: FieldTieredSelect\n}, Form_);\nvar templateObject_1;","map":{"version":3,"sources":["../../../../src/components/Form/Form.tsx"],"names":[],"mappings":"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","sourcesContent":["var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport conditionalStrings from 'classnames';\nimport { Formik, useField as useFormikField, useFormikContext, } from 'formik';\nimport { either, identity, is, isEmpty, prop, startsWith, toLower } from 'ramda';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../../layouts/Box';\nimport { useI18nContext } from '../../state/I18n';\nimport { useDateTime } from '../../state/DateTime';\nimport { colors } from '../../styles/colors';\nimport { addSubcomponents } from '../../utils/addSubcomponents';\nimport { formatMachineDate, toDate } from '../../utils/dateTime';\nimport { Banner, ErrorBanner } from '../Banner';\nimport { Checkbox } from '../Checkbox';\nimport { DateSelect } from '../DateSelect';\nimport { GroupSelect } from '../GroupSelect';\nimport { Input } from '../Input';\nimport { MultiSelect } from '../MultiSelect';\nimport { CurrencyInput as BaseCurrencyInput, defaultCurrencyDecimalScale, defaultCurrencyFillDecimalScale, defaultCurrencyInputPrefix, NumberInput as BaseNumberInput, } from '../NumberInput';\nimport { useNumberFormat } from '../NumberInput/NumberInput.hooks';\nimport { Pill } from '../Pill';\nimport { defaultGetColor, PillSelect } from '../PillSelect/PillSelect';\nimport { RadioButton } from '../RadioButton';\nimport { Select } from '../Select';\nimport { TextArea } from '../TextArea';\nimport { TextEditor } from '../TextEditor';\nimport { TieredSelect } from '../TieredSelect';\nimport { Tooltip } from '../Tooltip';\nimport { getTypographyIntent, typographyWeights, } from '../Typography/Typography.styles';\nimport { StyledForm, StyledFormFieldBanner, StyledFormFieldErrorIcon, StyledFormFieldHeader, StyledFormFieldMain, StyledFormFieldRequiredMark, StyledFormFieldTooltipIcon, StyledFormikForm, StyledFormCheckboxInput, StyledFormOutputFiledset, StyledFormOutputRichText, StyledFormOutputTextArea, StyledFormRow, StyledTraditionalFormColumn, StyledTraditionalFormLabel, } from './Form.styles';\nimport Typography from '../Typography';\nvar emptyObject = {};\nvar emptyArray = [];\nfunction noop() { }\nvar isFunction = function (obj) { return typeof obj === 'function'; };\nfunction getValueComponent(view, asComponent) {\n    return asComponent[view] || asComponent || TextInput;\n}\nvar SharedPropsContext = React.createContext(emptyObject);\nexport var FormContext = React.createContext({\n    different: false,\n    disabled: false,\n    enableReinitialize: false,\n    setFieldDifferent: function (k, d) { },\n    variant: 'wxp',\n    view: 'create',\n});\nexport function useFormContext() {\n    var formik = useFormikContext();\n    var formulaire = React.useContext(FormContext);\n    return __assign(__assign({}, formik), formulaire);\n}\nexport function getPrimitiveValue(value, getId) {\n    if (getId === void 0) { getId = defaultGetId; }\n    if (value === null || value === undefined) {\n        return '';\n    }\n    if (value instanceof Date) {\n        return value.toISOString();\n    }\n    if (is(Array, value)) {\n        return value.map(getId).join();\n    }\n    if (is(Object, value)) {\n        if (isEmpty(value)) {\n            return '';\n        }\n        return getId(value);\n    }\n    return value;\n}\nexport function useField(_a) {\n    var _b = _a === void 0 ? emptyObject : _a, _disabled = _b.disabled, _c = _b.error, _error = _c === void 0 ? false : _c, getId = _b.getId, _d = _b.required, _required = _d === void 0 ? false : _d, name = _b.name, validate = _b.validate, _view = _b.view;\n    var _e = useFormikField({ name: name, validate: validate }), input = _e[0], meta = _e[1], helpers = _e[2];\n    var _f = React.useContext(FormContext), disabled = _f.disabled, setFieldDifferent = _f.setFieldDifferent, validationSchema = _f.validationSchema, view = _f.view;\n    var _g = useFormikContext(), validateOnBlur = _g.validateOnBlur, validateOnChange = _g.validateOnChange;\n    var requiredInSchema = React.useMemo(function () {\n        var fieldSchema = validationSchema === null || validationSchema === void 0 ? void 0 : validationSchema.describe().fields[name];\n        return ((fieldSchema === null || fieldSchema === void 0 ? void 0 : fieldSchema.tests.findIndex(function (test) { return test.name === 'required'; })) > -1);\n    }, [validationSchema, name]);\n    var initialPrimitiveValue = React.useMemo(function () {\n        return getPrimitiveValue(meta.initialValue, getId);\n    }, [meta.initialValue, getId]);\n    var onChange = React.useCallback(function (event) {\n        setFieldDifferent(name, initialPrimitiveValue !== getPrimitiveValue(event.target.value, getId));\n        input.onChange(event);\n    }, [\n        initialPrimitiveValue,\n        input.onChange,\n        getPrimitiveValue,\n        getId,\n        setFieldDifferent,\n    ]);\n    var setValue = React.useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        setFieldDifferent(name, initialPrimitiveValue !== getPrimitiveValue(args[0], getId));\n        helpers.setValue.apply(helpers, args);\n    }, [\n        initialPrimitiveValue,\n        helpers.setValue,\n        getPrimitiveValue,\n        getId,\n        setFieldDifferent,\n    ]);\n    return {\n        input: __assign(__assign({}, input), { onChange: onChange }),\n        helpers: __assign(__assign({}, helpers), { setValue: setValue }),\n        messages: {\n            error: typeof _error === 'string' ? _error : meta.error,\n        },\n        meta: __assign(__assign({}, meta), { error: validateOnBlur || validateOnChange\n                ? (meta.error && meta.touched) || Boolean(_error)\n                : Boolean(meta.error) || Boolean(_error), disabled: _disabled !== null && _disabled !== void 0 ? _disabled : disabled, required: requiredInSchema || _required, view: _view || view }),\n    };\n}\nvar onBeforeUnload = function (e) {\n    // https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeunload\n    e.preventDefault();\n    e.returnValue = '';\n};\nvar useDifferent = function () {\n    var _a = React.useState(emptyObject), differentObject = _a[0], setDifferentObject = _a[1];\n    var setFieldDifferent = function (name, isDiff) {\n        if (isDiff !== differentObject[name]) {\n            // HACK: Do not change. setTimeout seemingly allows fields to update their\n            // state before causing context re-render. This is specific to TinyMCE behavior.\n            setTimeout(function () {\n                return setDifferentObject(function (prev) {\n                    var _a;\n                    return (__assign(__assign({}, prev), (_a = {}, _a[name] = isDiff, _a)));\n                });\n            });\n        }\n    };\n    var resetDifferent = function () { return setDifferentObject(emptyObject); };\n    var different = React.useMemo(function () {\n        return Object.values(differentObject).some(identity);\n    }, [differentObject]);\n    return { different: different, resetDifferent: resetDifferent, setFieldDifferent: setFieldDifferent };\n};\nfunction Form_(_a) {\n    var _b = _a.initialValues, initialValues = _b === void 0 ? emptyObject : _b, _c = _a.onSubmit, _onSubmit = _c === void 0 ? noop : _c, _d = _a.disabled, disabled = _d === void 0 ? false : _d, _e = _a.enableConfirmNavigation, enableConfirmNavigation = _e === void 0 ? false : _e, _f = _a.variant, variant = _f === void 0 ? 'wxp' : _f, validationSchema = _a.validationSchema, _g = _a.view, view = _g === void 0 ? 'create' : _g, props = __rest(_a, [\"initialValues\", \"onSubmit\", \"disabled\", \"enableConfirmNavigation\", \"variant\", \"validationSchema\", \"view\"]);\n    var _h = useDifferent(), different = _h.different, resetDifferent = _h.resetDifferent, setFieldDifferent = _h.setFieldDifferent;\n    React.useEffect(function () {\n        if (enableConfirmNavigation) {\n            if (different && (view === 'create' || view === 'update')) {\n                window.onbeforeunload = onBeforeUnload;\n            }\n            else if (!different && (view === 'create' || view === 'update')) {\n                window.onbeforeunload = null;\n            }\n        }\n    }, [enableConfirmNavigation, different, view]);\n    var reset = function () {\n        if (enableConfirmNavigation) {\n            window.onbeforeunload = null;\n        }\n        resetDifferent();\n    };\n    var onSubmit = function (values, actions) {\n        var promiseOrUndefined = _onSubmit(values, actions);\n        if (promiseOrUndefined === undefined) {\n            return;\n        }\n        return promiseOrUndefined\n            .then(function (result) {\n            reset();\n            return result;\n        })\n            .catch(function (result) {\n            return result;\n        });\n    };\n    return (React.createElement(FormContext.Provider, { value: {\n            different: different,\n            disabled: disabled,\n            setFieldDifferent: setFieldDifferent,\n            validationSchema: validationSchema,\n            variant: variant,\n            view: view,\n            enableReinitialize: props.enableReinitialize,\n        } },\n        React.createElement(Formik, __assign({}, __assign({ initialValues: initialValues, onSubmit: onSubmit, validationSchema: validationSchema, validateOnBlur: false, validateOnChange: false }, props)), isFunction(props.children) ? props.children : React.createElement(React.Fragment, null, props.children))));\n}\nexport function FormForm(_a) {\n    var children = _a.children, className = _a.className, onKeyDown = _a.onKeyDown, style = _a.style, props = __rest(_a, [\"children\", \"className\", \"onKeyDown\", \"style\"]);\n    var view = React.useContext(FormContext).view;\n    if (view === 'create' || view === 'update') {\n        var preventFormSubmission = function (e) {\n            if (e.key === 'Enter' &&\n                e.target instanceof Element &&\n                (e.target.tagName === 'INPUT' ||\n                    e.target.tagName === 'DIV' ||\n                    e.target.tagName === 'SPAN')) {\n                e.stopPropagation();\n                e.preventDefault();\n            }\n            onKeyDown && onKeyDown(e);\n        };\n        return (React.createElement(StyledFormikForm, __assign({ children: children, className: className, onKeyDown: preventFormSubmission, style: style }, props)));\n    }\n    return React.createElement(StyledForm, { children: children, className: className, style: style });\n}\nexport function FormErrorBanner(_a) {\n    var item = _a.item, _b = _a.i18nScope, i18nScope = _b === void 0 ? 'core.form.errorBanner' : _b;\n    var context = useFormContext();\n    var I18n = useI18nContext();\n    if ((context.view === 'create' || context.view === 'update') &&\n        !isEmpty(context.errors)) {\n        return (React.createElement(ErrorBanner, null,\n            React.createElement(Banner.Content, null,\n                React.createElement(Banner.Title, null, context.view === 'create'\n                    ? I18n.t('coundNotCreateItem', { item: item, scope: i18nScope })\n                    : I18n.t('couldNotUpdateItem', { item: item, scope: i18nScope })),\n                React.createElement(Banner.Body, null, context.view === 'create'\n                    ? I18n.t('fixErrorsToCreate', { scope: i18nScope })\n                    : I18n.t('fixErrorsToUpdate', { scope: i18nScope })))));\n    }\n    return null;\n}\nvar StyledLabel = styled.label(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  \", \"\\n  color: \", \";\\n  font-weight: \", \";\\n  word-wrap: break-word;\\n  word-break: break-word;\\n\"], [\"\\n  \", \"\\n  color: \", \";\\n  font-weight: \", \";\\n  word-wrap: break-word;\\n  word-break: break-word;\\n\"])), getTypographyIntent('body'), colors.gray15, typographyWeights.bold);\nexport function isEmptyField(val) {\n    return (val === undefined ||\n        val === null ||\n        val.length === 0 ||\n        (is(Object, val) && isEmpty(val)));\n}\nexport function WXPField(_a) {\n    var AsComponent = _a.as, children = _a.children, _b = _a.colStart, colStart = _b === void 0 ? 1 : _b, _c = _a.colWidth, colWidth = _c === void 0 ? 6 : _c, disabled = _a.disabled, error = _a.error, label = _a.label, name = _a.name, required = _a.required, tooltip = _a.tooltip, validate = _a.validate, view = _a.view, props = __rest(_a, [\"as\", \"children\", \"colStart\", \"colWidth\", \"disabled\", \"error\", \"label\", \"name\", \"required\", \"tooltip\", \"validate\", \"view\"]);\n    var field = useField({\n        disabled: disabled,\n        error: error,\n        getId: props.getId,\n        name: name,\n        required: required,\n        validate: validate,\n        view: view,\n    });\n    var ValueComponent = getValueComponent(field.meta.view, AsComponent);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(StyledFormFieldHeader, { \"$colIeSpan\": colWidth, \"$colStart\": colStart, \"$colEnd\": colStart + colWidth },\n            label && React.createElement(StyledLabel, { htmlFor: name }, label),\n            (field.meta.view === 'create' || field.meta.view === 'update') &&\n                field.meta.required && React.createElement(StyledFormFieldRequiredMark, null),\n            tooltip && (React.createElement(Tooltip, { overlay: tooltip },\n                React.createElement(StyledFormFieldTooltipIcon, { size: \"sm\" })))),\n        React.createElement(StyledFormFieldMain, { \"$colIeSpan\": colWidth, \"$colStart\": colStart, \"$colEnd\": colStart + colWidth, \"$read\": field.meta.view === 'read' },\n            children ? (isFunction(children) ? (children(field)) : (children)) : (React.createElement(ValueComponent, __assign({}, props, { field: field }))),\n            React.createElement(StyledFormFieldBanner, null,\n                field.meta.error && (React.createElement(Box, { marginRight: \"xs\" },\n                    React.createElement(StyledFormFieldErrorIcon, { size: \"sm\" }))),\n                field.meta.error && field.messages.error && (React.createElement(\"span\", null, field.messages.error))))));\n}\nexport function TraditionalField(_a) {\n    var AsComponent = _a.as, children = _a.children, _b = _a.colWidth, colWidth = _b === void 0 ? 6 : _b, disabled = _a.disabled, error = _a.error, label = _a.label, name = _a.name, required = _a.required, tooltip = _a.tooltip, validate = _a.validate, view = _a.view, props = __rest(_a, [\"as\", \"children\", \"colWidth\", \"disabled\", \"error\", \"label\", \"name\", \"required\", \"tooltip\", \"validate\", \"view\"]);\n    var field = useField({\n        disabled: disabled,\n        error: error,\n        getId: props.getId,\n        name: name,\n        required: required,\n        validate: validate,\n        view: view,\n    });\n    var ValueComponent = getValueComponent(field.meta.view, AsComponent);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(StyledTraditionalFormColumn, null, label && (React.createElement(React.Fragment, null,\n            React.createElement(StyledTraditionalFormLabel, { \"$view\": field.meta.view },\n                React.createElement(\"label\", { htmlFor: name },\n                    label,\n                    \":\")),\n            (field.meta.view === 'create' || field.meta.view === 'update') &&\n                field.meta.required && React.createElement(StyledFormFieldRequiredMark, null),\n            tooltip && (React.createElement(Tooltip, { overlay: tooltip, placement: \"right\" },\n                React.createElement(StyledFormFieldTooltipIcon, { size: \"sm\" })))))),\n        React.createElement(StyledTraditionalFormColumn, { \"$fullWidth\": colWidth === 12, \"$output\": field.meta.view === 'read' }, children ? (isFunction(children) ? (children(field)) : (children)) : (React.createElement(ValueComponent, __assign({}, props, { field: field }))))));\n}\nexport function Row(_a) {\n    var children = _a.children, props = __rest(_a, [\"children\"]);\n    var _b = React.useContext(FormContext), variant = _b.variant, view = _b.view;\n    return (React.createElement(StyledFormRow, __assign({ \"$traditional\": variant === 'traditional', \"$read\": view === 'read' }, props), children));\n}\nexport function BaseField(props) {\n    var variant = React.useContext(FormContext).variant;\n    if (variant === 'traditional') {\n        return (React.createElement(TraditionalField, __assign({}, props)));\n    }\n    else {\n        return React.createElement(WXPField, __assign({}, props));\n    }\n}\n// MAKE\nfunction makeSharedField(viewAs) {\n    return function Field(_a) {\n        var children = _a.children, props = __rest(_a, [\"children\"]);\n        if (children) {\n            return (React.createElement(SharedPropsContext.Provider, { value: props }, children));\n        }\n        return (React.createElement(BaseField, __assign({ as: viewAs }, props), children));\n    };\n}\nfunction makeViewField(viewAs, when) {\n    return function FieldView(props) {\n        var view = React.useContext(FormContext).view;\n        var commonProps = React.useContext(SharedPropsContext);\n        if (when === view) {\n            return (React.createElement(BaseField, __assign({ as: viewAs }, commonProps, props)));\n        }\n        return null;\n    };\n}\nexport function makeField(editComponent, showComponent, options) {\n    var views = {\n        create: editComponent,\n        read: options && !options.emptyState\n            ? showComponent\n            : withDefaultEmptyState(showComponent),\n        update: editComponent,\n    };\n    // @ts-ignore\n    var Field = makeSharedField(views);\n    var Create = makeViewField(\n    // @ts-ignore\n    views, 'create');\n    var Read = makeViewField(\n    // @ts-ignore\n    views, 'read');\n    var Update = makeViewField(\n    // @ts-ignore\n    views, 'update');\n    return addSubcomponents({\n        Create: Create,\n        Read: Read,\n        Update: Update,\n    }, Field);\n}\n/// FIELD TYPES\n// @ts-ignore\nvar defaultGetLabel = either(prop('label'), prop('name'));\nvar defaultGetId = prop('id');\nvar defaultGetGroup = prop('groupId');\n// EMPTY STATE\nvar EmptyState = function (props) {\n    var _a;\n    return (React.createElement(Typography, { intent: \"body\", color: \"gray45\", \"data-qa\": conditionalStrings((_a = {},\n            _a[\"\".concat(props['data-qa'])] = props['data-qa'],\n            _a), \"core-form-field-empty\") }, \"--\"));\n};\nexport function withDefaultEmptyState(OutputComponent) {\n    var WithDefaultEmptyState = React.forwardRef(function (props, ref) {\n        if (isEmptyField(props.field.input.value)) {\n            return React.createElement(EmptyState, __assign({}, props));\n        }\n        // ComponentWithFieldProp's third type of generic function raises an issue with the component possibly being 'undefined'\n        // @ts-ignore\n        return React.createElement(OutputComponent, __assign({ ref: ref }, props));\n    });\n    // @ts-ignore\n    WithDefaultEmptyState.displayName = \"FieldWithEmptyState\";\n    return WithDefaultEmptyState;\n}\n// TEXT\nexport var TextInput = React.forwardRef(function TextInput(_a, ref) {\n    var _onBlur = _a.onBlur, _onChange = _a.onChange, field = _a.field, props = __rest(_a, [\"onBlur\", \"onChange\", \"field\"]);\n    var onBlur = function (e) {\n        field.input.onBlur(e);\n        _onBlur && _onBlur(e);\n    };\n    var onChange = function (e) {\n        field.input.onChange(e);\n        _onChange && _onChange(e);\n    };\n    return (React.createElement(Input, __assign({ \"aria-required\": field.meta.required, disabled: field.meta.disabled, error: field.meta.error, name: field.input.name, onBlur: onBlur, onChange: onChange, ref: ref, value: field.input.value || '' }, props)));\n});\nexport var TextOutput = React.forwardRef(function TextOutput(_a, ref) {\n    var field = _a.field, props = __rest(_a, [\"field\"]);\n    return (React.createElement(\"span\", __assign({ ref: ref }, props), field.input.value));\n});\nvar FieldText = makeField(TextInput, TextOutput);\n// NUMBER\nexport var NumberInput = React.forwardRef(function NumberInput(_a, ref) {\n    var onBlur_ = _a.onBlur, onChange_ = _a.onChange, field = _a.field, props = __rest(_a, [\"onBlur\", \"onChange\", \"field\"]);\n    var onBlur = function (e) {\n        field.input.onBlur(e);\n        onBlur_ === null || onBlur_ === void 0 ? void 0 : onBlur_(e);\n    };\n    var onChange = React.useCallback(function (valueChange) {\n        // field.helpers.setValue always updates. Using field.input.onChange instead.\n        // setValue causes infinite loop with NumberInput changing locale logic\n        // helpers difference reference each update https://github.com/formium/formik/issues/2268\n        field.input.onChange({\n            target: {\n                name: field.input.name,\n                value: valueChange.parsedNumber,\n            },\n        });\n        onChange_ === null || onChange_ === void 0 ? void 0 : onChange_(valueChange);\n    }, [onChange_, field.input.onChange]);\n    return (React.createElement(BaseNumberInput, __assign({ \"aria-required\": field.meta.required, disabled: field.meta.disabled, error: field.meta.error, name: field.input.name, onBlur: onBlur, onChange: onChange, ref: ref, value: field.input.value }, props)));\n});\nexport var NumberOutput = React.forwardRef(function NumberOutput(_a, ref) {\n    var decimalScale = _a.decimalScale, defaultValue = _a.defaultValue, field = _a.field, fillDecimalScale = _a.fillDecimalScale, locale = _a.locale, onChange = _a.onChange, prefix = _a.prefix, props = __rest(_a, [\"decimalScale\", \"defaultValue\", \"field\", \"fillDecimalScale\", \"locale\", \"onChange\", \"prefix\"]);\n    var formatValue = useNumberFormat({\n        decimalScale: decimalScale,\n        fillDecimalScale: fillDecimalScale === 'always' || fillDecimalScale === 'onBlur'\n            ? 'always'\n            : 'none',\n        locale: locale,\n    }).formatValue;\n    var value = formatValue(field.input.value);\n    return (React.createElement(\"span\", __assign({ ref: ref }, props),\n        value && prefix ? prefix : null,\n        \" \",\n        value));\n});\nvar FieldNumber = makeField(NumberInput, NumberOutput);\n// CURRENCY\nexport var CurrencyInput = React.forwardRef(function CurrencyInput(_a, ref) {\n    var onBlur_ = _a.onBlur, onChange_ = _a.onChange, field = _a.field, props = __rest(_a, [\"onBlur\", \"onChange\", \"field\"]);\n    var onBlur = function (e) {\n        field.input.onBlur(e);\n        onBlur_ === null || onBlur_ === void 0 ? void 0 : onBlur_(e);\n    };\n    var onChange = React.useCallback(function (valueChange) {\n        // field.helpers.setValue always updates. Using field.input.onChange instead.\n        // setValue causes infinite loop with NumberInput changing locale logic\n        field.input.onChange({\n            target: {\n                name: field.input.name,\n                value: valueChange.parsedNumber,\n            },\n        });\n        onChange_ === null || onChange_ === void 0 ? void 0 : onChange_(valueChange);\n    }, [onChange_, field.input.onChange]);\n    return (React.createElement(BaseCurrencyInput, __assign({ \"aria-required\": field.meta.required, disabled: field.meta.disabled, error: field.meta.error, name: field.input.name, onBlur: onBlur, onChange: onChange, ref: ref, value: field.input.value }, props)));\n});\nexport var CurrencyOutput = React.forwardRef(function CurrencyOutput(props, ref) {\n    return (React.createElement(NumberOutput, __assign({ decimalScale: defaultCurrencyDecimalScale, fillDecimalScale: defaultCurrencyFillDecimalScale, prefix: defaultCurrencyInputPrefix, ref: ref }, props)));\n});\nvar FieldCurrency = makeField(CurrencyInput, CurrencyOutput);\n// DATE\nexport var DateInput = React.forwardRef(function DateInput(_a, ref) {\n    var _onChange = _a.onChange, field = _a.field, props = __rest(_a, [\"onChange\", \"field\"]);\n    var value = field.input.value\n        ? toDate(field.input.value, 'Form.DateSelect Create or Update Input')\n        : undefined;\n    var onChange = function (value) {\n        field.helpers.setValue(value);\n        field.helpers.setTouched(true);\n        _onChange && _onChange(value);\n    };\n    return (React.createElement(DateSelect, __assign({ disabled: field.meta.disabled, error: field.meta.error, onChange: onChange, ref: ref, value: value }, props)));\n});\nexport var DateOutput = React.forwardRef(function DateOutput(_a, ref) {\n    var onChange = _a.onChange, field = _a.field, props = __rest(_a, [\"onChange\", \"field\"]);\n    var dateTime = useDateTime();\n    var value = field.input.value\n        ? dateTime.format(toDate(field.input.value, 'Form.DateSelect Read Output'), 'numeric-date')\n        : undefined;\n    var machineValue = field.input.value\n        ? formatMachineDate(dateTime.shiftUtcToZonedTime(toDate(field.input.value)))\n        : undefined;\n    return (React.createElement(\"span\", __assign({ ref: ref }, props), value && React.createElement(\"time\", { dateTime: machineValue }, value)));\n});\nvar FieldDateSelect = makeField(DateInput, DateOutput);\n// CHECKBOX\nexport var CheckboxInput = React.forwardRef(function CheckboxInput(_a, ref) {\n    var field = _a.field, i18nScope = _a.i18nScope, _onBlur = _a.onBlur, _onChange = _a.onChange, props = __rest(_a, [\"field\", \"i18nScope\", \"onBlur\", \"onChange\"]);\n    var value = field.input.value || false;\n    var onBlur = function (e) {\n        field.input.onBlur(e);\n        _onBlur && _onBlur(e);\n    };\n    var onChange = function (e) {\n        field.helpers.setValue(!value);\n        _onChange && _onChange(e);\n    };\n    return (React.createElement(StyledFormCheckboxInput, __assign({ \"aria-required\": field.meta.required, checked: value, disabled: field.meta.disabled, error: field.meta.error, onBlur: onBlur, onChange: onChange, name: field.input.name, ref: ref, value: String(value) }, props)));\n});\nexport var CheckboxOutput = React.forwardRef(function CheckboxOutput(_a, ref) {\n    var field = _a.field, _b = _a.i18nScope, i18nScope = _b === void 0 ? 'core.form.checkbox' : _b, props = __rest(_a, [\"field\", \"i18nScope\"]);\n    var i18n = useI18nContext();\n    var yes = i18n.t('yes', { scope: i18nScope });\n    var no = i18n.t('no', { scope: i18nScope });\n    return (React.createElement(\"span\", __assign({ ref: ref }, props), field.input.value ? yes : no));\n});\nvar FieldCheckbox = makeField(CheckboxInput, CheckboxOutput, { emptyState: false });\n// TEXTAREA\nexport var TextAreaInput = React.forwardRef(function TextAreaInput(_a, ref) {\n    var field = _a.field, _onBlur = _a.onBlur, _onChange = _a.onChange, props = __rest(_a, [\"field\", \"onBlur\", \"onChange\"]);\n    var onBlur = function (e) {\n        field.input.onBlur(e);\n        _onBlur && _onBlur(e);\n    };\n    var onChange = function (e) {\n        field.input.onChange(e);\n        _onChange && _onChange(e);\n    };\n    return (React.createElement(TextArea, __assign({ \"aria-required\": field.meta.required, disabled: field.meta.disabled, error: field.meta.error, name: field.input.name, onBlur: onBlur, onChange: onChange, ref: ref, value: field.input.value }, props)));\n});\nexport var TextAreaOutput = React.forwardRef(function TextAreaOutput(_a, ref) {\n    var field = _a.field, props = __rest(_a, [\"field\"]);\n    return (React.createElement(StyledFormOutputTextArea, __assign({ ref: ref }, props), field.input.value));\n});\nvar FieldTextArea = makeField(TextAreaInput, TextAreaOutput);\n// RICHTEXT\nexport var RichTextInput = React.forwardRef(function RichTextInput(_a, ref) {\n    var _onChange = _a.onChange, field = _a.field, props = __rest(_a, [\"onChange\", \"field\"]);\n    var onChange = function (value) {\n        field.helpers.setValue(value);\n        field.helpers.setTouched(true);\n        _onChange && _onChange(value);\n    };\n    return (React.createElement(TextEditor, __assign({ disabled: field.meta.disabled, error: field.meta.error, value: field.input.value, onChange: onChange }, props)));\n});\nexport var RichTextOutput = React.forwardRef(function RichTextOutput(_a, ref) {\n    var field = _a.field, onBlur = _a.onBlur, onChange = _a.onChange, onClick = _a.onClick, onContextMenu = _a.onContextMenu, onCopy = _a.onCopy, onCut = _a.onCut, onDrag = _a.onDrag, onDragDrop = _a.onDragDrop, onDragEnd = _a.onDragEnd, onDragGesture = _a.onDragGesture, onDragOver = _a.onDragOver, onDrop = _a.onDrop, onFocus = _a.onFocus, onKeyDown = _a.onKeyDown, onKeyPress = _a.onKeyPress, onMouseDown = _a.onMouseDown, onMouseEnter = _a.onMouseEnter, onMouseLeave = _a.onMouseLeave, onMouseMove = _a.onMouseMove, onMouseOut = _a.onMouseOut, onMouseOver = _a.onMouseOver, onMouseUp = _a.onMouseUp, onPaste = _a.onPaste, onReset = _a.onReset, onSubmit = _a.onSubmit, props = __rest(_a, [\"field\", \"onBlur\", \"onChange\", \"onClick\", \"onContextMenu\", \"onCopy\", \"onCut\", \"onDrag\", \"onDragDrop\", \"onDragEnd\", \"onDragGesture\", \"onDragOver\", \"onDrop\", \"onFocus\", \"onKeyDown\", \"onKeyPress\", \"onMouseDown\", \"onMouseEnter\", \"onMouseLeave\", \"onMouseMove\", \"onMouseOut\", \"onMouseOver\", \"onMouseUp\", \"onPaste\", \"onReset\", \"onSubmit\"]);\n    return (React.createElement(StyledFormOutputRichText, __assign({ dangerouslySetInnerHTML: { __html: field.input.value }, ref: ref }, props)));\n});\nvar FieldRichText = makeField(RichTextInput, RichTextOutput);\n// RADIO BUTTONS\nexport var RadioButtonsInput = React.forwardRef(function RadioButtonsInput(_a, ref) {\n    var field = _a.field, _b = _a.getId, getId = _b === void 0 ? defaultGetId : _b, _c = _a.getLabel, getLabel = _c === void 0 ? defaultGetLabel : _c, isDisabledOption = _a.isDisabledOption, options = _a.options, props = __rest(_a, [\"field\", \"getId\", \"getLabel\", \"isDisabledOption\", \"options\"]);\n    if (!options || options.length === 0)\n        return null;\n    var onSelect = function (option) { return function () {\n        field.helpers.setValue(option);\n    }; };\n    return (React.createElement(StyledFormOutputFiledset, __assign({ ref: ref, disabled: field.meta.disabled }, props), options.map(function (option) {\n        return (React.createElement(RadioButton, { checked: getId(option) === getId(field.input.value), disabled: isDisabledOption && isDisabledOption(option), error: field.meta.error, key: getId(option), name: field.input.name, onChange: onSelect(option), value: getId(option) }, getLabel(option)));\n    })));\n});\nexport var RadioButtonsOutput = React.forwardRef(function RadioButtonsOutput(_a, ref) {\n    var field = _a.field, getId = _a.getId, _b = _a.getLabel, getLabel = _b === void 0 ? defaultGetLabel : _b, options = _a.options, props = __rest(_a, [\"field\", \"getId\", \"getLabel\", \"options\"]);\n    return (React.createElement(\"span\", __assign({ ref: ref }, props), getLabel(field.input.value)));\n});\nvar FieldRadioButtons = makeField(RadioButtonsInput, RadioButtonsOutput);\n// CHECKBOXES\nexport var CheckboxesInput = React.forwardRef(function CheckboxesInput(_a, ref) {\n    var field = _a.field, _b = _a.getId, getId = _b === void 0 ? defaultGetId : _b, _c = _a.getLabel, getLabel = _c === void 0 ? defaultGetLabel : _c, isDisabledOption = _a.isDisabledOption, isIndeterminateOption = _a.isIndeterminateOption, options = _a.options, props = __rest(_a, [\"field\", \"getId\", \"getLabel\", \"isDisabledOption\", \"isIndeterminateOption\", \"options\"]);\n    if (!options || options.length === 0)\n        return null;\n    var selectedIds = (field.input.value || emptyArray).map(getId);\n    var onSelect = function (changedOption) { return function () {\n        if (selectedIds.includes(getId(changedOption))) {\n            field.helpers.setValue(field.input.value.filter(function (entry) { return getId(entry) !== getId(changedOption); }));\n        }\n        else {\n            field.helpers.setValue((field.input.value || emptyArray).concat(changedOption));\n        }\n    }; };\n    return (React.createElement(StyledFormOutputFiledset, __assign({ ref: ref, disabled: field.meta.disabled }, props), options.map(function (option) {\n        return (React.createElement(Checkbox, { checked: selectedIds.includes(getId(option)), disabled: isDisabledOption && isDisabledOption(option), error: field.meta.error, indeterminate: isIndeterminateOption && isIndeterminateOption(option), key: getId(option), name: field.input.name, onChange: onSelect(option), value: getId(option) }, getLabel(option)));\n    })));\n});\nexport var CheckboxesOutput = React.forwardRef(function CheckboxesOutput(_a, ref) {\n    var field = _a.field, getId = _a.getId, _b = _a.getLabel, getLabel = _b === void 0 ? defaultGetLabel : _b, options = _a.options, props = __rest(_a, [\"field\", \"getId\", \"getLabel\", \"options\"]);\n    return (React.createElement(\"span\", __assign({ ref: ref }, props), field.input.value && field.input.value.map(getLabel).join(', ')));\n});\nvar FieldCheckboxes = makeField(CheckboxesInput, CheckboxesOutput);\n// SELECT\nvar lowerStartsWith = function (query, value) {\n    if (value === void 0) { value = ''; }\n    return startsWith(toLower(query), toLower(value));\n};\nexport function useOptions(_a) {\n    var value = _a.value, optgroups = _a.optgroups, _b = _a.options, options = _b === void 0 ? emptyArray : _b, getLabel = _a.getLabel, getId = _a.getId, groupGetId = _a.groupGetId, _c = _a.getGroup, getGroup = _c === void 0 ? defaultGetGroup : _c, _d = _a.comparator, comparator = _d === void 0 ? lowerStartsWith : _d;\n    var _e = React.useState(''), query = _e[0], setQuery = _e[1];\n    var search = function (e) {\n        return setQuery(e.target.value);\n    };\n    var filteredOptions = React.useMemo(function () { return options.filter(function (option) { return comparator(query, getLabel(option)); }); }, [comparator, query, options, getLabel]);\n    var groupedOptions = React.useMemo(function () {\n        if (!optgroups || !optgroups.length) {\n            return filteredOptions;\n        }\n        var optionsByGroup = optgroups.reduce(function (acc, group) {\n            var _a;\n            return __assign(__assign({}, acc), (_a = {}, _a[groupGetId(group)] = [], _a));\n        }, {});\n        var orphanOptions = [];\n        filteredOptions.forEach(function (option) {\n            var groupId = getGroup(option);\n            var groupOptions = optionsByGroup[groupId];\n            if (!groupId || !groupOptions) {\n                orphanOptions.push(option);\n                return;\n            }\n            optionsByGroup[groupId].push(option);\n        });\n        if (orphanOptions.length) {\n            console.warn(\"Could not find option groups for the options below. Make sure that every option has a proper \\\"groupId\\\" field or if \\\"getGroup\\\" is implemented correctly.\", orphanOptions);\n        }\n        return optgroups.flatMap(function (group) {\n            var groupHeader = __assign(__assign({}, group), { isGroupHeader: true });\n            var groupOptions = optionsByGroup[groupGetId(group)];\n            if (!groupOptions.length) {\n                return [];\n            }\n            return __spreadArray([groupHeader], groupOptions, true);\n        }, []);\n    }, [filteredOptions, getGroup, groupGetId, optgroups]);\n    var selected = options.find(function (option) { return value && getId(option) === getId(value); }) || value;\n    return { list: groupedOptions, selected: selected, search: search };\n}\nfunction defaultOptionRenderer(item, _a) {\n    var getId = _a.getId, getLabel = _a.getLabel, props = __rest(_a, [\"getId\", \"getLabel\"]);\n    return React.createElement(Select.Option, __assign({}, props), getLabel(item));\n}\nfunction defaultGroupHeaderRenderer(group, _a) {\n    var getId = _a.getId, getLabel = _a.getLabel, props = __rest(_a, [\"getId\", \"getLabel\"]);\n    return React.createElement(Select.OptGroup, __assign({}, props), getLabel(group));\n}\nexport var SelectInput = React.forwardRef(function SelectInput(_a, ref) {\n    var _afterHide = _a.afterHide, field = _a.field, _b = _a.getGroup, getGroup = _b === void 0 ? defaultGetGroup : _b, _c = _a.getId, getId = _c === void 0 ? defaultGetId : _c, _d = _a.getLabel, getLabel = _d === void 0 ? defaultGetLabel : _d, _e = _a.groupGetId, groupGetId = _e === void 0 ? defaultGetId : _e, _f = _a.groupGetLabel, groupGetLabel = _f === void 0 ? defaultGetLabel : _f, _g = _a.groupHeaderRenderer, groupHeaderRenderer = _g === void 0 ? defaultGroupHeaderRenderer : _g, isSuggestedOption = _a.isSuggestedOption, _onClear = _a.onClear, _onSearch = _a.onSearch, _onSelect = _a.onSelect, searchComparator = _a.searchComparator, options = _a.options, optgroups = _a.optgroups, _h = _a.optionRenderer, optionRenderer = _h === void 0 ? defaultOptionRenderer : _h, props = __rest(_a, [\"afterHide\", \"field\", \"getGroup\", \"getId\", \"getLabel\", \"groupGetId\", \"groupGetLabel\", \"groupHeaderRenderer\", \"isSuggestedOption\", \"onClear\", \"onSearch\", \"onSelect\", \"searchComparator\", \"options\", \"optgroups\", \"optionRenderer\"]);\n    var menu = useOptions({\n        options: options,\n        optgroups: optgroups,\n        getGroup: getGroup,\n        getId: getId,\n        getLabel: getLabel,\n        groupGetId: groupGetId,\n        value: field.input.value,\n        comparator: searchComparator,\n    });\n    var label = menu.selected ? getLabel(menu.selected) : undefined;\n    var afterHide = function () {\n        field.helpers.setTouched(true);\n        _afterHide && _afterHide();\n    };\n    var onSelect = function (selection) {\n        field.helpers.setValue(selection.item);\n        _onSelect && _onSelect(selection);\n    };\n    var onClear = function (e) {\n        field.helpers.setValue(null);\n        if (typeof _onClear === 'function') {\n            _onClear(e);\n        }\n    };\n    var onSearch = function (e) {\n        menu.search(e);\n        if (typeof _onSearch === 'function') {\n            _onSearch(e);\n        }\n    };\n    return (React.createElement(Select, __assign({ afterHide: afterHide, block: true, disabled: field.meta.disabled, error: field.meta.error, label: label, onClear: _onClear || _onClear === undefined ? onClear : undefined, onSearch: _onSearch || _onSearch === undefined || searchComparator\n            ? onSearch\n            : undefined, onSelect: onSelect, ref: ref }, props), menu.list.map(function (option) {\n        if (option.isGroupHeader) {\n            return groupHeaderRenderer(option, {\n                getId: groupGetId,\n                getLabel: groupGetLabel,\n                // @ts-ignore\n                // This property is React specific, not a prop on the component renderer\n                key: \"group_\".concat(groupGetId(option)),\n            });\n        }\n        return optionRenderer(option, {\n            getId: getId,\n            getLabel: getLabel,\n            // @ts-ignore\n            // This property is React specific, not a prop on the component renderer\n            // Object literal may only specify known properties, and 'key' does not exist in type 'OptionProps'.\n            key: getId(option),\n            selected: getId(menu.selected) === getId(option),\n            suggested: isSuggestedOption && isSuggestedOption(option),\n            value: option,\n        });\n    })));\n});\nexport var SelectOutput = React.forwardRef(function SelectOutput(_a, ref) {\n    var field = _a.field, getId = _a.getId, _b = _a.getLabel, getLabel = _b === void 0 ? defaultGetLabel : _b, options = _a.options, searchComparator = _a.searchComparator, onBlur = _a.onBlur, onClear = _a.onClear, onSearch = _a.onSearch, onSelect = _a.onSelect, props = __rest(_a, [\"field\", \"getId\", \"getLabel\", \"options\", \"searchComparator\", \"onBlur\", \"onClear\", \"onSearch\", \"onSelect\"]);\n    return (React.createElement(\"span\", __assign({ ref: ref }, props), getLabel(field.input.value)));\n});\nvar FieldSelect = makeField(SelectInput, SelectOutput);\n// PILL SELECT\nexport var PillSelectInput = React.forwardRef(function PillSelectInput(_a, ref) {\n    var field = _a.field, _onBlur = _a.onBlur, _onClear = _a.onClear, _onSelect = _a.onSelect, _b = _a.getId, getId = _b === void 0 ? defaultGetId : _b, _c = _a.getLabel, getLabel = _c === void 0 ? defaultGetLabel : _c, props = __rest(_a, [\"field\", \"onBlur\", \"onClear\", \"onSelect\", \"getId\", \"getLabel\"]);\n    var onBlur = function (e) {\n        field.helpers.setTouched(true);\n        _onBlur && _onBlur(e);\n    };\n    var onClear = function (e) {\n        field.helpers.setValue(null);\n        _onClear && _onClear(e);\n    };\n    var onSelect = function (selection) {\n        field.helpers.setValue(selection.item);\n        _onSelect && _onSelect(selection);\n    };\n    return (React.createElement(PillSelect, __assign({ block: true, disabled: field.meta.disabled, error: field.meta.error, getId: getId, getLabel: getLabel, onBlur: onBlur, onClear: _onClear || _onClear === undefined ? onClear : undefined, onSelect: onSelect, ref: ref, value: field.input.value }, props)));\n});\nexport var PillSelectOutput = React.forwardRef(function PillSelectOutput(_a, ref) {\n    var color = _a.color, field = _a.field, _b = _a.getColor, getColor = _b === void 0 ? defaultGetColor : _b, _c = _a.getLabel, getLabel = _c === void 0 ? defaultGetLabel : _c, onSelect = _a.onSelect, options = _a.options, props = __rest(_a, [\"color\", \"field\", \"getColor\", \"getLabel\", \"onSelect\", \"options\"]);\n    return (React.createElement(Pill, __assign({ color: getColor(field.input.value) }, props), getLabel(field.input.value)));\n});\nvar FieldPillSelect = makeField(PillSelectInput, PillSelectOutput);\n// MULTISELECT\nexport var MultiSelectInput = React.forwardRef(function MultiSelectInput(_a, ref) {\n    var field = _a.field, _onBlur = _a.onBlur, _onChange = _a.onChange, _b = _a.getId, getId = _b === void 0 ? defaultGetId : _b, _c = _a.getLabel, getLabel = _c === void 0 ? defaultGetLabel : _c, props = __rest(_a, [\"field\", \"onBlur\", \"onChange\", \"getId\", \"getLabel\"]);\n    var onBlur = function (e) {\n        field.helpers.setTouched(true);\n        _onBlur && _onBlur(e);\n    };\n    var onChange = function (value, e) {\n        field.helpers.setValue(value);\n        _onChange && _onChange(value, e);\n    };\n    return (React.createElement(MultiSelect, __assign({ block: true, disabled: field.meta.disabled, error: field.meta.error, getId: getId, getLabel: getLabel, onBlur: onBlur, onChange: onChange, ref: ref, value: field.input.value }, props)));\n});\nexport var MultiSelectOutput = React.forwardRef(function MultiSelectOutput(_a, ref) {\n    var field = _a.field, _b = _a.getLabel, getLabel = _b === void 0 ? defaultGetLabel : _b, getId = _a.getId, onChange = _a.onChange, options = _a.options, props = __rest(_a, [\"field\", \"getLabel\", \"getId\", \"onChange\", \"options\"]);\n    return (React.createElement(\"span\", __assign({ ref: ref }, props), field.input.value && field.input.value.map(getLabel).join(', ')));\n});\nvar FieldMultiSelect = makeField(MultiSelectInput, MultiSelectOutput);\n// GROUP SELECT\nexport var GroupSelectInput = React.forwardRef(function GroupSelectInput(_a, ref) {\n    var field = _a.field, _onBlur = _a.onBlur, _onChange = _a.onChange, _b = _a.getId, getId = _b === void 0 ? defaultGetId : _b, _c = _a.getLabel, getLabel = _c === void 0 ? defaultGetLabel : _c, props = __rest(_a, [\"field\", \"onBlur\", \"onChange\", \"getId\", \"getLabel\"]);\n    var onBlur = function (e) {\n        field.helpers.setTouched(true);\n        _onBlur && _onBlur(e);\n    };\n    var onChange = function (value, e) {\n        field.helpers.setValue(value);\n        _onChange && _onChange(value, e);\n    };\n    return (React.createElement(GroupSelect, __assign({ block: true, disabled: field.meta.disabled, error: field.meta.error, getId: getId, getLabel: getLabel, onBlur: onBlur, onChange: onChange, ref: ref, value: field.input.value }, props)));\n});\nexport var GroupSelectOutput = React.forwardRef(function GroupSelectOutput(_a, ref) {\n    var field = _a.field, _b = _a.getLabel, getLabel = _b === void 0 ? defaultGetLabel : _b, getId = _a.getId, onChange = _a.onChange, options = _a.options, props = __rest(_a, [\"field\", \"getLabel\", \"getId\", \"onChange\", \"options\"]);\n    return (React.createElement(\"span\", __assign({ ref: ref }, props), field.input.value && field.input.value.map(getLabel).join(', ')));\n});\nvar FieldGroupSelect = makeField(GroupSelectInput, GroupSelectOutput);\n// TIERED SELECT\nexport var TieredSelectInput = React.forwardRef(function TieredSelectInput(_a, ref) {\n    var field = _a.field, _onBlur = _a.onBlur, _onChange = _a.onChange, _b = _a.getId, getId = _b === void 0 ? defaultGetId : _b, _c = _a.getLabel, getLabel = _c === void 0 ? defaultGetLabel : _c, props = __rest(_a, [\"field\", \"onBlur\", \"onChange\", \"getId\", \"getLabel\"]);\n    var onBlur = function (e) {\n        field.helpers.setTouched(true);\n        _onBlur && _onBlur(e);\n    };\n    var onChange = function (selection) {\n        field.helpers.setValue(selection.value);\n        _onChange && _onChange(selection);\n    };\n    return (React.createElement(TieredSelect, __assign({ block: true, disabled: field.meta.disabled, error: field.meta.error, getId: getId, getLabel: getLabel, onBlur: onBlur, onChange: onChange, ref: ref, value: field.input.value }, props)));\n});\nexport var TieredSelectOutput = React.forwardRef(function TieredSelectOutput(_a, ref) {\n    var field = _a.field, _b = _a.getLabel, getLabel = _b === void 0 ? defaultGetLabel : _b, getId = _a.getId, onChange = _a.onChange, options = _a.options, props = __rest(_a, [\"field\", \"getLabel\", \"getId\", \"onChange\", \"options\"]);\n    return (React.createElement(\"span\", __assign({ ref: ref }, props), field.input.value &&\n        field.input.value.map(function (tier) { return getLabel(tier); }).join(' > ')));\n});\nvar FieldTieredSelect = makeField(TieredSelectInput, TieredSelectOutput);\nvar FieldAny = makeField(TextInput, TextOutput);\nexport var Form = addSubcomponents({\n    Checkboxes: FieldCheckboxes,\n    Checkbox: FieldCheckbox,\n    Currency: FieldCurrency,\n    DateSelect: FieldDateSelect,\n    ErrorBanner: FormErrorBanner,\n    Field: FieldAny,\n    Form: FormForm,\n    GroupSelect: FieldGroupSelect,\n    MultiSelect: FieldMultiSelect,\n    Number: FieldNumber,\n    PillSelect: FieldPillSelect,\n    RadioButtons: FieldRadioButtons,\n    RichText: FieldRichText,\n    Row: Row,\n    Select: FieldSelect,\n    Text: FieldText,\n    TextArea: FieldTextArea,\n    TieredSelect: FieldTieredSelect,\n}, Form_);\nvar templateObject_1;\n"]},"metadata":{},"sourceType":"module"}