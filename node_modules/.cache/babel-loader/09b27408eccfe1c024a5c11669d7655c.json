{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport React from 'react';\nimport { useHotkey } from '../effects/Hotkey';\nimport { triggerListeners } from '../utils/triggerListeners';\n/* HOOK */\n\nexport function useTrigger(_a) {\n  var disable = _a.disable,\n      _b = _a.disableKeys,\n      disableKeys = _b === void 0 ? [] : _b,\n      enable = _a.enable,\n      _c = _a.enableKeys,\n      enableKeys = _c === void 0 ? [] : _c,\n      _d = _a.isEnabled,\n      isEnabled = _d === void 0 ? false : _d,\n      _e = _a.trigger,\n      trigger = _e === void 0 ? 'click' : _e,\n      triggerRef = _a.triggerRef;\n  triggerListeners({\n    off: disable,\n    on: enable,\n    scope: triggerRef,\n    trigger: trigger,\n    value: isEnabled\n  });\n  useHotkey({\n    key: enableKeys,\n    handler: enable,\n    preventDefault: true,\n    scope: triggerRef\n  });\n  useHotkey({\n    key: disableKeys,\n    handler: disable,\n    preventDefault: true,\n    scope: triggerRef\n  }); // prevent keyup event from firing on FF\n\n  useHotkey({\n    event: 'keyup',\n    key: __spreadArray(__spreadArray([], enableKeys, true), disableKeys, true),\n    handler: function () {},\n    preventDefault: true,\n    scope: triggerRef\n  });\n  return {\n    disable: disable,\n    enable: enable,\n    isVisible: isEnabled,\n    toggle: isEnabled ? disable : enable\n  };\n}\n/* DECORATOR */\n\nexport function withTrigger(config) {\n  return function (Component) {\n    return function WithTrigger(props) {\n      return React.createElement(Component, __assign({}, props, {\n        trigger: useTrigger(__assign(__assign({}, config), props.Trigger))\n      }));\n    };\n  };\n}\n/* RENDER PROP */\n\nexport function Trigger(_a) {\n  var children = _a.children,\n      triggerRef = _a.triggerRef,\n      props = __rest(_a, [\"children\", \"triggerRef\"]);\n\n  var trigger = useTrigger(__assign(__assign({}, props), {\n    triggerRef: triggerRef\n  }));\n  var element = typeof children === 'function' ? children(trigger) : children;\n  return element && React.cloneElement(element, __assign(__assign({}, element.props), {\n    ref: triggerRef,\n    open: trigger.isVisible\n  }));\n}\n/* CONTEXT */\n\nvar noop = function (method) {\n  return function () {\n    return console.warn(\"Could not call `\".concat(method, \"`, please wrap your component in an `<TriggerProvider>`\"));\n  };\n};\n\nexport var initTrigger = {\n  disable: noop('disable'),\n  enable: noop('enable'),\n  isVisible: false,\n  toggle: noop('toggle')\n};\nexport var TriggerContext = React.createContext(initTrigger);\nexport function TriggerProvider(_a) {\n  var children = _a.children,\n      props = __rest(_a, [\"children\"]);\n\n  return React.createElement(TriggerContext.Provider, {\n    value: useTrigger(props)\n  }, children);\n}\nexport function useTriggerContext() {\n  return React.useContext(TriggerContext);\n}\n/**\n * @deprecated\n *\n * Please use `useTriggerContext()`\n *\n * @deprecatedSince 10.20.0\n */\n\nexport var consumeTrigger = useTriggerContext;","map":{"version":3,"sources":["../../../src/state/Trigger.tsx"],"names":[],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React from 'react';\nimport { useHotkey } from '../effects/Hotkey';\nimport { triggerListeners } from '../utils/triggerListeners';\n/* HOOK */\nexport function useTrigger(_a) {\n    var disable = _a.disable, _b = _a.disableKeys, disableKeys = _b === void 0 ? [] : _b, enable = _a.enable, _c = _a.enableKeys, enableKeys = _c === void 0 ? [] : _c, _d = _a.isEnabled, isEnabled = _d === void 0 ? false : _d, _e = _a.trigger, trigger = _e === void 0 ? 'click' : _e, triggerRef = _a.triggerRef;\n    triggerListeners({\n        off: disable,\n        on: enable,\n        scope: triggerRef,\n        trigger: trigger,\n        value: isEnabled,\n    });\n    useHotkey({\n        key: enableKeys,\n        handler: enable,\n        preventDefault: true,\n        scope: triggerRef,\n    });\n    useHotkey({\n        key: disableKeys,\n        handler: disable,\n        preventDefault: true,\n        scope: triggerRef,\n    });\n    // prevent keyup event from firing on FF\n    useHotkey({\n        event: 'keyup',\n        key: __spreadArray(__spreadArray([], enableKeys, true), disableKeys, true),\n        handler: function () { },\n        preventDefault: true,\n        scope: triggerRef,\n    });\n    return {\n        disable: disable,\n        enable: enable,\n        isVisible: isEnabled,\n        toggle: isEnabled ? disable : enable,\n    };\n}\n/* DECORATOR */\nexport function withTrigger(config) {\n    return function (Component) {\n        return function WithTrigger(props) {\n            return (React.createElement(Component, __assign({}, props, { trigger: useTrigger(__assign(__assign({}, config), props.Trigger)) })));\n        };\n    };\n}\n/* RENDER PROP */\nexport function Trigger(_a) {\n    var children = _a.children, triggerRef = _a.triggerRef, props = __rest(_a, [\"children\", \"triggerRef\"]);\n    var trigger = useTrigger(__assign(__assign({}, props), { triggerRef: triggerRef }));\n    var element = typeof children === 'function'\n        ? children(trigger)\n        : children;\n    return (element &&\n        React.cloneElement(element, __assign(__assign({}, element.props), { ref: triggerRef, open: trigger.isVisible })));\n}\n/* CONTEXT */\nvar noop = function (method) { return function () {\n    return console.warn(\"Could not call `\".concat(method, \"`, please wrap your component in an `<TriggerProvider>`\"));\n}; };\nexport var initTrigger = {\n    disable: noop('disable'),\n    enable: noop('enable'),\n    isVisible: false,\n    toggle: noop('toggle'),\n};\nexport var TriggerContext = React.createContext(initTrigger);\nexport function TriggerProvider(_a) {\n    var children = _a.children, props = __rest(_a, [\"children\"]);\n    return (React.createElement(TriggerContext.Provider, { value: useTrigger(props) }, children));\n}\nexport function useTriggerContext() {\n    return React.useContext(TriggerContext);\n}\n/**\n * @deprecated\n *\n * Please use `useTriggerContext()`\n *\n * @deprecatedSince 10.20.0\n */\nexport var consumeTrigger = useTriggerContext;\n"]},"metadata":{},"sourceType":"module"}