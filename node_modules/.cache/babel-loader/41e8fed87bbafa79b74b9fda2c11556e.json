{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport { useEventListener } from '../../effects/EventListener';\nimport { useI18nContext } from '../../state/I18n';\nimport { useListNavigation } from '../../state/ListNavigation';\nimport { addSubcomponents } from '../../utils/addSubcomponents';\nimport { usingHookOrDefault } from '../../utils/usingHookOrDefault';\nimport { useOverlayTriggerContext } from '../OverlayTrigger';\nimport { Search as SearchBase } from '../Search';\nimport { useSearch } from '../Search/Search.hooks';\nimport { StyledFooter, StyledGroup, StyledHeader, StyledItem, StyledMenu, StyledOptions, StyledSearch, StyledWrapper } from '../MenuImperative/MenuImperative.styles';\nvar onScrollBottomThreshold = 8;\nexport var isItem = function (element) {\n  return element.type === Item;\n};\n\nfunction scrollIntoView(index, element) {\n  if (!element.parentElement) {\n    return;\n  }\n\n  if (index === 0) {\n    element.parentElement.scrollTop = 0;\n    return;\n  }\n\n  var offsetTop = element.offsetTop,\n      clientHeight = element.clientHeight;\n  var _a = element.parentElement,\n      scrollTop = _a.scrollTop,\n      parentHeight = _a.clientHeight;\n\n  if (offsetTop < scrollTop) {\n    element.parentElement.scrollTop = offsetTop;\n  } else if (offsetTop + clientHeight > scrollTop + parentHeight) {\n    element.parentElement.scrollTop = offsetTop - parentHeight + clientHeight;\n  }\n}\n\nfunction checkBottomScrollPosition(callback) {\n  return function onScroll(e) {\n    if (callback && e.currentTarget instanceof HTMLElement && e.currentTarget.scrollTop >= e.currentTarget.scrollHeight - e.currentTarget.clientHeight - onScrollBottomThreshold) {\n      callback(e);\n    }\n  };\n}\n\nfunction noop() {}\n\nexport function useMenu(_a) {\n  var _b = _a.isSelectable,\n      isSelectable = _b === void 0 ? isItem : _b,\n      externalKeyHandlerRef = _a.keyHandlerRef,\n      _c = _a.multiple,\n      multiple = _c === void 0 ? false : _c,\n      onScrollBottom = _a.onScrollBottom,\n      _d = _a.onSearch,\n      onSearch = _d === void 0 ? noop : _d,\n      _e = _a.onSelect,\n      onSelect = _e === void 0 ? noop : _e,\n      _f = _a.scrollable,\n      scrollable = _f === void 0 ? true : _f;\n  var listNavigation = useListNavigation({\n    circular: !onScrollBottom,\n    initialIndex: 0,\n    size: 0\n  });\n  var search = useSearch({\n    onChange: function (e) {\n      listNavigation.set(0);\n      onSearch(e);\n    },\n    typeahead: true\n  });\n  var highlighted = React.useRef(null);\n  var keyHandlerRef = externalKeyHandlerRef || React.createRef();\n  var selectItem = React.useCallback(function (selection) {\n    onSelect(selection);\n  }, [onSelect]);\n  var onKeyDown = React.useCallback(function (e) {\n    var key = e.key;\n\n    if (key === 'ArrowDown' || key === 'Down') {\n      listNavigation.increment();\n      e.preventDefault();\n    } else if (key === 'ArrowUp' || key === 'Up') {\n      listNavigation.decrement();\n      e.preventDefault();\n    } else if (key === 'Enter') {\n      if (highlighted.current) {\n        highlighted.current.click();\n      }\n    }\n  }, [listNavigation]); // TODO - deprecate keyhandlerRef, this is just for backwards compatibility since we already exposed it\n\n  React.useEffect(function () {\n    var el;\n\n    if (keyHandlerRef.current) {\n      keyHandlerRef.current.addEventListener('keydown', onKeyDown);\n      el = keyHandlerRef.current;\n    }\n\n    return function () {\n      if (el) {\n        el.removeEventListener('keydown', onKeyDown);\n      }\n    };\n  }, [keyHandlerRef, onKeyDown]);\n  return {\n    domHandlers: {\n      onKeyDown: function (e) {\n        return onKeyDown(e.nativeEvent);\n      }\n    },\n    highlighted: highlighted,\n    isSelectable: isSelectable,\n    listNavigation: listNavigation,\n    multiple: multiple,\n    onScrollBottom: onScrollBottom,\n    scrollable: scrollable,\n    selectItem: selectItem,\n    search: search\n  };\n}\nexport var MenuHookContext = React.createContext(null);\nexport function useMenuHookContext() {\n  var context = React.useContext(MenuHookContext);\n\n  if (context === null) {\n    throw new Error('Cannot find `MenuHook` context, please wrap your component in `<MenuHookContext.Provider>`');\n  }\n\n  return context;\n}\nexport var Menu_ = React.forwardRef(function Menu(_a, ref) {\n  var children = _a.children,\n      _b = _a.UNSAFE_closesOnSelect,\n      UNSAFE_closesOnSelect = _b === void 0 ? true : _b,\n      _c = _a.isSelectable,\n      isSelectable = _c === void 0 ? isItem : _c,\n      keyHandlerRef = _a.keyHandlerRef,\n      onScrollBottom = _a.onScrollBottom,\n      _d = _a.onSelect,\n      onSelect = _d === void 0 ? noop : _d,\n      _e = _a.scrollable,\n      scrollable = _e === void 0 ? true : _e,\n      usingHook = _a.usingHook,\n      props = __rest(_a, [\"children\", \"UNSAFE_closesOnSelect\", \"isSelectable\", \"keyHandlerRef\", \"onScrollBottom\", \"onSelect\", \"scrollable\", \"usingHook\"]); // Don't be tempted to put this in useMenu. In order for hooks to be portable\n  // across the dom tree, they should not contain context consumers.\n\n\n  var overlayTriggerContext = useOverlayTriggerContext();\n  var menu = usingHookOrDefault(usingHook, useMenu)({\n    isSelectable: isSelectable,\n    keyHandlerRef: keyHandlerRef,\n    onScrollBottom: onScrollBottom,\n    onSelect: onSelect,\n    scrollable: scrollable\n  });\n  React.useEffect(function () {\n    // When unmounting, reset the listNavigation index and set\n    // the current highlighted item to null. we only want to run this once,\n    // so don't pass any dependencies\n    return function () {\n      menu.search.clear();\n      menu.listNavigation.reset();\n      menu.highlighted.current = null;\n    };\n  },\n  /* eslint-disable */\n  []\n  /* eslint-enable */\n  );\n\n  function selectItem(selection) {\n    menu.selectItem(selection);\n\n    if (UNSAFE_closesOnSelect) {\n      overlayTriggerContext.hide(selection.event);\n    }\n  }\n\n  return React.createElement(MenuHookContext.Provider, {\n    value: __assign(__assign({}, menu), {\n      selectItem: selectItem\n    })\n  }, React.createElement(StyledWrapper, __assign({}, menu.domHandlers, {\n    ref: ref,\n    tabIndex: 0\n  }), React.createElement(StyledMenu, __assign({}, props), children)));\n});\nexport var Group = React.forwardRef(function Group(_a, ref) {\n  var children = _a.children,\n      _b = _a.clickable,\n      clickable = _b === void 0 ? false : _b,\n      item = _a.item,\n      props = __rest(_a, [\"children\", \"clickable\", \"item\"]);\n\n  return React.createElement(StyledGroup, __assign({}, props, {\n    ref: ref,\n    onClick: function (event) {// TODO: implement selecting groups?\n    },\n    \"$clickable\": clickable\n  }), children);\n});\nexport var Item = React.forwardRef(function Item(_a, ref) {\n  var children = _a.children,\n      _b = _a.index,\n      index = _b === void 0 ? 0 : _b,\n      item = _a.item,\n      _c = _a.onClick,\n      onClick = _c === void 0 ? noop : _c,\n      _d = _a.selected,\n      selected = _d === void 0 ? false : _d,\n      _e = _a.suggested,\n      suggested = _e === void 0 ? false : _e,\n      onMouseMove = _a.onMouseMove,\n      props = __rest(_a, [\"children\", \"index\", \"item\", \"onClick\", \"selected\", \"suggested\", \"onMouseMove\"]);\n\n  var _f = useMenuHookContext(),\n      highlighted = _f.highlighted,\n      listNavigation = _f.listNavigation,\n      multiple = _f.multiple,\n      selectItem = _f.selectItem;\n\n  var itemRef = ref || React.useRef();\n  var isHighlighted = index === listNavigation.index;\n  React.useEffect(function () {\n    // When mounting, check if this item is selected or suggested, and if\n    // it is, then set it as the current index and scroll to it.\n    // We only want to run this once, so don't pass any dependencies\n    if (multiple) {\n      // don't do this behavior in multiple mode\n      return;\n    }\n\n    if (itemRef.current && (selected || suggested)) {\n      highlighted.current = itemRef.current;\n      listNavigation.set(index);\n    }\n  },\n  /* eslint-disable */\n  []\n  /* eslint-enable */\n  );\n  React.useEffect(function () {\n    // If this item has become highlighted, scroll to it\n    if (itemRef.current && isHighlighted) {\n      highlighted.current = itemRef.current;\n      scrollIntoView(index, itemRef.current);\n    }\n  }, [highlighted, index, isHighlighted, itemRef]);\n  return React.createElement(StyledItem, __assign({}, props, {\n    onClick: function (event) {\n      listNavigation.set(index);\n      selectItem({\n        event: event.nativeEvent,\n        item: item,\n        group: false\n      });\n      onClick(event);\n    },\n    onMouseMove: function (event) {\n      if (onMouseMove) {\n        onMouseMove(event);\n      }\n\n      if (listNavigation.index !== index) {\n        listNavigation.set(index);\n      }\n    },\n    ref: itemRef,\n    \"$highlighted\": isHighlighted,\n    \"$selected\": selected\n  }), children);\n});\nexport var Options = React.forwardRef(function Options(_a, ref) {\n  var children = _a.children,\n      className = _a.className,\n      _b = _a.scrollable,\n      scrollable = _b === void 0 ? true : _b;\n\n  var _c = useMenuHookContext(),\n      listNavigation = _c.listNavigation,\n      isSelectable = _c.isSelectable,\n      onScrollBottom = _c.onScrollBottom,\n      menuScrollable = _c.scrollable;\n\n  var optionsRef = ref || React.createRef();\n  var size = React.Children.toArray(children).filter(isSelectable).length;\n  React.useEffect(function () {\n    listNavigation.setSize(size);\n  }, [listNavigation, size]);\n  useEventListener({\n    event: 'scroll',\n    handler: checkBottomScrollPosition(onScrollBottom),\n    scope: optionsRef\n  });\n  var index = 0;\n  return React.createElement(StyledOptions, {\n    className: className,\n    ref: optionsRef,\n    \"$scrollable\": menuScrollable || scrollable\n  }, React.Children.map(children, function (child) {\n    if (React.isValidElement(child) && isSelectable(child)) {\n      var selectableIndex = index;\n      index = index + 1;\n      return React.cloneElement(child, {\n        index: selectableIndex\n      });\n    }\n\n    return child;\n  }));\n});\nexport function Search(_a) {\n  var className = _a.className,\n      _b = _a.i18nScope,\n      i18nScope = _b === void 0 ? 'core.menu' : _b,\n      placeholder = _a.placeholder,\n      props = __rest(_a, [\"className\", \"i18nScope\", \"placeholder\"]);\n\n  var menu = useMenuHookContext();\n  var I18n = useI18nContext();\n  return React.createElement(StyledSearch, {\n    className: className\n  }, React.createElement(SearchBase, __assign({}, props, {\n    autoFocus: true,\n    placeholder: placeholder || I18n.t('search', {\n      scope: i18nScope\n    }),\n    typeahead: true,\n    usingHook: menu.search\n  })));\n}\nexport var Header = React.forwardRef(function Header(_a, ref) {\n  var props = __rest(_a, []);\n\n  return React.createElement(StyledHeader, __assign({\n    ref: ref\n  }, props));\n});\nexport var Footer = React.forwardRef(function Footer(_a, ref) {\n  var _b = _a.padding,\n      padding = _b === void 0 ? 'md lg' : _b,\n      props = __rest(_a, [\"padding\"]);\n\n  return React.createElement(StyledFooter, __assign({\n    ref: ref,\n    padding: padding\n  }, props));\n});\nMenu_.displayName = 'Menu';\nFooter.displayName = 'Menu.Footer';\nGroup.displayName = 'Menu.Group';\nHeader.displayName = 'Menu.Header';\nItem.displayName = 'Menu.Item';\nOptions.displayName = 'Menu.Options';\nSearch.displayName = 'Menu.Search';\nexport var Menu = addSubcomponents({\n  Footer: Footer,\n  Group: Group,\n  Header: Header,\n  Item: Item,\n  Options: Options,\n  Search: Search\n}, Menu_);\nexport default Menu;","map":{"version":3,"sources":["../../../../src/components/Menu/Menu.tsx"],"names":[],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { useEventListener } from '../../effects/EventListener';\nimport { useI18nContext } from '../../state/I18n';\nimport { useListNavigation } from '../../state/ListNavigation';\nimport { addSubcomponents } from '../../utils/addSubcomponents';\nimport { usingHookOrDefault } from '../../utils/usingHookOrDefault';\nimport { useOverlayTriggerContext } from '../OverlayTrigger';\nimport { Search as SearchBase } from '../Search';\nimport { useSearch } from '../Search/Search.hooks';\nimport { StyledFooter, StyledGroup, StyledHeader, StyledItem, StyledMenu, StyledOptions, StyledSearch, StyledWrapper, } from '../MenuImperative/MenuImperative.styles';\nvar onScrollBottomThreshold = 8;\nexport var isItem = function (element) { return element.type === Item; };\nfunction scrollIntoView(index, element) {\n    if (!element.parentElement) {\n        return;\n    }\n    if (index === 0) {\n        element.parentElement.scrollTop = 0;\n        return;\n    }\n    var offsetTop = element.offsetTop, clientHeight = element.clientHeight;\n    var _a = element.parentElement, scrollTop = _a.scrollTop, parentHeight = _a.clientHeight;\n    if (offsetTop < scrollTop) {\n        element.parentElement.scrollTop = offsetTop;\n    }\n    else if (offsetTop + clientHeight > scrollTop + parentHeight) {\n        element.parentElement.scrollTop = offsetTop - parentHeight + clientHeight;\n    }\n}\nfunction checkBottomScrollPosition(callback) {\n    return function onScroll(e) {\n        if (callback &&\n            e.currentTarget instanceof HTMLElement &&\n            e.currentTarget.scrollTop >=\n                e.currentTarget.scrollHeight -\n                    e.currentTarget.clientHeight -\n                    onScrollBottomThreshold) {\n            callback(e);\n        }\n    };\n}\nfunction noop() { }\nexport function useMenu(_a) {\n    var _b = _a.isSelectable, isSelectable = _b === void 0 ? isItem : _b, externalKeyHandlerRef = _a.keyHandlerRef, _c = _a.multiple, multiple = _c === void 0 ? false : _c, onScrollBottom = _a.onScrollBottom, _d = _a.onSearch, onSearch = _d === void 0 ? noop : _d, _e = _a.onSelect, onSelect = _e === void 0 ? noop : _e, _f = _a.scrollable, scrollable = _f === void 0 ? true : _f;\n    var listNavigation = useListNavigation({\n        circular: !onScrollBottom,\n        initialIndex: 0,\n        size: 0,\n    });\n    var search = useSearch({\n        onChange: function (e) {\n            listNavigation.set(0);\n            onSearch(e);\n        },\n        typeahead: true,\n    });\n    var highlighted = React.useRef(null);\n    var keyHandlerRef = externalKeyHandlerRef || React.createRef();\n    var selectItem = React.useCallback(function (selection) {\n        onSelect(selection);\n    }, [onSelect]);\n    var onKeyDown = React.useCallback(function (e) {\n        var key = e.key;\n        if (key === 'ArrowDown' || key === 'Down') {\n            listNavigation.increment();\n            e.preventDefault();\n        }\n        else if (key === 'ArrowUp' || key === 'Up') {\n            listNavigation.decrement();\n            e.preventDefault();\n        }\n        else if (key === 'Enter') {\n            if (highlighted.current) {\n                highlighted.current.click();\n            }\n        }\n    }, [listNavigation]);\n    // TODO - deprecate keyhandlerRef, this is just for backwards compatibility since we already exposed it\n    React.useEffect(function () {\n        var el;\n        if (keyHandlerRef.current) {\n            keyHandlerRef.current.addEventListener('keydown', onKeyDown);\n            el = keyHandlerRef.current;\n        }\n        return function () {\n            if (el) {\n                el.removeEventListener('keydown', onKeyDown);\n            }\n        };\n    }, [keyHandlerRef, onKeyDown]);\n    return {\n        domHandlers: {\n            onKeyDown: function (e) {\n                return onKeyDown(e.nativeEvent);\n            },\n        },\n        highlighted: highlighted,\n        isSelectable: isSelectable,\n        listNavigation: listNavigation,\n        multiple: multiple,\n        onScrollBottom: onScrollBottom,\n        scrollable: scrollable,\n        selectItem: selectItem,\n        search: search,\n    };\n}\nexport var MenuHookContext = React.createContext(null);\nexport function useMenuHookContext() {\n    var context = React.useContext(MenuHookContext);\n    if (context === null) {\n        throw new Error('Cannot find `MenuHook` context, please wrap your component in `<MenuHookContext.Provider>`');\n    }\n    return context;\n}\nexport var Menu_ = React.forwardRef(function Menu(_a, ref) {\n    var children = _a.children, _b = _a.UNSAFE_closesOnSelect, UNSAFE_closesOnSelect = _b === void 0 ? true : _b, _c = _a.isSelectable, isSelectable = _c === void 0 ? isItem : _c, keyHandlerRef = _a.keyHandlerRef, onScrollBottom = _a.onScrollBottom, _d = _a.onSelect, onSelect = _d === void 0 ? noop : _d, _e = _a.scrollable, scrollable = _e === void 0 ? true : _e, usingHook = _a.usingHook, props = __rest(_a, [\"children\", \"UNSAFE_closesOnSelect\", \"isSelectable\", \"keyHandlerRef\", \"onScrollBottom\", \"onSelect\", \"scrollable\", \"usingHook\"]);\n    // Don't be tempted to put this in useMenu. In order for hooks to be portable\n    // across the dom tree, they should not contain context consumers.\n    var overlayTriggerContext = useOverlayTriggerContext();\n    var menu = usingHookOrDefault(usingHook, useMenu)({\n        isSelectable: isSelectable,\n        keyHandlerRef: keyHandlerRef,\n        onScrollBottom: onScrollBottom,\n        onSelect: onSelect,\n        scrollable: scrollable,\n    });\n    React.useEffect(function () {\n        // When unmounting, reset the listNavigation index and set\n        // the current highlighted item to null. we only want to run this once,\n        // so don't pass any dependencies\n        return function () {\n            menu.search.clear();\n            menu.listNavigation.reset();\n            menu.highlighted.current = null;\n        };\n    }, \n    /* eslint-disable */ [] /* eslint-enable */);\n    function selectItem(selection) {\n        menu.selectItem(selection);\n        if (UNSAFE_closesOnSelect) {\n            overlayTriggerContext.hide(selection.event);\n        }\n    }\n    return (React.createElement(MenuHookContext.Provider, { value: __assign(__assign({}, menu), { selectItem: selectItem }) },\n        React.createElement(StyledWrapper, __assign({}, menu.domHandlers, { ref: ref, tabIndex: 0 }),\n            React.createElement(StyledMenu, __assign({}, props), children))));\n});\nexport var Group = React.forwardRef(function Group(_a, ref) {\n    var children = _a.children, _b = _a.clickable, clickable = _b === void 0 ? false : _b, item = _a.item, props = __rest(_a, [\"children\", \"clickable\", \"item\"]);\n    return (React.createElement(StyledGroup, __assign({}, props, { ref: ref, onClick: function (event) {\n            // TODO: implement selecting groups?\n        }, \"$clickable\": clickable }), children));\n});\nexport var Item = React.forwardRef(function Item(_a, ref) {\n    var children = _a.children, _b = _a.index, index = _b === void 0 ? 0 : _b, item = _a.item, _c = _a.onClick, onClick = _c === void 0 ? noop : _c, _d = _a.selected, selected = _d === void 0 ? false : _d, _e = _a.suggested, suggested = _e === void 0 ? false : _e, onMouseMove = _a.onMouseMove, props = __rest(_a, [\"children\", \"index\", \"item\", \"onClick\", \"selected\", \"suggested\", \"onMouseMove\"]);\n    var _f = useMenuHookContext(), highlighted = _f.highlighted, listNavigation = _f.listNavigation, multiple = _f.multiple, selectItem = _f.selectItem;\n    var itemRef = ref || React.useRef();\n    var isHighlighted = index === listNavigation.index;\n    React.useEffect(function () {\n        // When mounting, check if this item is selected or suggested, and if\n        // it is, then set it as the current index and scroll to it.\n        // We only want to run this once, so don't pass any dependencies\n        if (multiple) {\n            // don't do this behavior in multiple mode\n            return;\n        }\n        if (itemRef.current && (selected || suggested)) {\n            highlighted.current = itemRef.current;\n            listNavigation.set(index);\n        }\n    }, \n    /* eslint-disable */ [] /* eslint-enable */);\n    React.useEffect(function () {\n        // If this item has become highlighted, scroll to it\n        if (itemRef.current && isHighlighted) {\n            highlighted.current = itemRef.current;\n            scrollIntoView(index, itemRef.current);\n        }\n    }, [highlighted, index, isHighlighted, itemRef]);\n    return (React.createElement(StyledItem, __assign({}, props, { onClick: function (event) {\n            listNavigation.set(index);\n            selectItem({ event: event.nativeEvent, item: item, group: false });\n            onClick(event);\n        }, onMouseMove: function (event) {\n            if (onMouseMove) {\n                onMouseMove(event);\n            }\n            if (listNavigation.index !== index) {\n                listNavigation.set(index);\n            }\n        }, ref: itemRef, \"$highlighted\": isHighlighted, \"$selected\": selected }), children));\n});\nexport var Options = React.forwardRef(function Options(_a, ref) {\n    var children = _a.children, className = _a.className, _b = _a.scrollable, scrollable = _b === void 0 ? true : _b;\n    var _c = useMenuHookContext(), listNavigation = _c.listNavigation, isSelectable = _c.isSelectable, onScrollBottom = _c.onScrollBottom, menuScrollable = _c.scrollable;\n    var optionsRef = ref || React.createRef();\n    var size = React.Children.toArray(children).filter(isSelectable).length;\n    React.useEffect(function () {\n        listNavigation.setSize(size);\n    }, [listNavigation, size]);\n    useEventListener({\n        event: 'scroll',\n        handler: checkBottomScrollPosition(onScrollBottom),\n        scope: optionsRef,\n    });\n    var index = 0;\n    return (React.createElement(StyledOptions, { className: className, ref: optionsRef, \"$scrollable\": menuScrollable || scrollable }, React.Children.map(children, function (child) {\n        if (React.isValidElement(child) && isSelectable(child)) {\n            var selectableIndex = index;\n            index = index + 1;\n            return React.cloneElement(child, {\n                index: selectableIndex,\n            });\n        }\n        return child;\n    })));\n});\nexport function Search(_a) {\n    var className = _a.className, _b = _a.i18nScope, i18nScope = _b === void 0 ? 'core.menu' : _b, placeholder = _a.placeholder, props = __rest(_a, [\"className\", \"i18nScope\", \"placeholder\"]);\n    var menu = useMenuHookContext();\n    var I18n = useI18nContext();\n    return (React.createElement(StyledSearch, { className: className },\n        React.createElement(SearchBase, __assign({}, props, { autoFocus: true, placeholder: placeholder || I18n.t('search', { scope: i18nScope }), typeahead: true, usingHook: menu.search }))));\n}\nexport var Header = React.forwardRef(function Header(_a, ref) {\n    var props = __rest(_a, []);\n    return React.createElement(StyledHeader, __assign({ ref: ref }, props));\n});\nexport var Footer = React.forwardRef(function Footer(_a, ref) {\n    var _b = _a.padding, padding = _b === void 0 ? 'md lg' : _b, props = __rest(_a, [\"padding\"]);\n    return React.createElement(StyledFooter, __assign({ ref: ref, padding: padding }, props));\n});\nMenu_.displayName = 'Menu';\nFooter.displayName = 'Menu.Footer';\nGroup.displayName = 'Menu.Group';\nHeader.displayName = 'Menu.Header';\nItem.displayName = 'Menu.Item';\nOptions.displayName = 'Menu.Options';\nSearch.displayName = 'Menu.Search';\nexport var Menu = addSubcomponents({\n    Footer: Footer,\n    Group: Group,\n    Header: Header,\n    Item: Item,\n    Options: Options,\n    Search: Search,\n}, Menu_);\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}