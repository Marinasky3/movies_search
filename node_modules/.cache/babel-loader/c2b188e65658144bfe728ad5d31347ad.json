{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { Error } from '@procore/core-icons/dist';\nimport React from 'react';\nimport { OverflowObserver } from '../../../effects/OverflowObserver';\nimport { Icon } from '../../Icon';\nimport { Spinner } from '../../Spinner';\nimport { Tooltip } from '../../Tooltip';\nimport { StyledSourceItem, StyledIcon, StyledLabel } from './SourceItem.styles';\n\nfunction formatCount(count, truncationThreshold) {\n  if (count === 0) {\n    return '';\n  } else if (count > truncationThreshold) {\n    return \"(\".concat(truncationThreshold, \"+)\");\n  } else {\n    return \"(\".concat(count, \")\");\n  }\n}\n\nexport var SourceItem = React.forwardRef(function SourceItem(_a, ref) {\n  var _b = _a.icon,\n      icon = _b === void 0 ? '' : _b,\n      _c = _a.count,\n      count = _c === void 0 ? 0 : _c,\n      _d = _a.countTruncationThreshold,\n      countTruncationThreshold = _d === void 0 ? 99 : _d,\n      _e = _a.loading,\n      loading = _e === void 0 ? false : _e,\n      _f = _a.error,\n      error = _f === void 0 ? false : _f,\n      _g = _a.selected,\n      selected = _g === void 0 ? false : _g,\n      _h = _a.disabled,\n      disabled = _h === void 0 ? false : _h,\n      _j = _a.focused,\n      focused = _j === void 0 ? false : _j,\n      children = _a.children,\n      _k = _a.tabIndex,\n      tabIndex = _k === void 0 ? 0 : _k,\n      props = __rest(_a, [\"icon\", \"count\", \"countTruncationThreshold\", \"loading\", \"error\", \"selected\", \"disabled\", \"focused\", \"children\", \"tabIndex\"]);\n\n  var tabIndexAttribute = !disabled ? {\n    tabIndex: tabIndex\n  } : {};\n  var iconElement = React.createElement(StyledIcon, null, function () {\n    if (error) {\n      return React.createElement(Error, null);\n    }\n\n    if (loading) {\n      return React.createElement(Spinner, {\n        size: \"xs\"\n      });\n    }\n\n    return typeof icon === 'string' ? React.createElement(Icon, {\n      icon: icon\n    }) : icon;\n  }());\n  var labelElement = React.createElement(OverflowObserver, null, function (_a) {\n    var isOverflowing = _a.isOverflowing,\n        ref = _a.ref;\n    var item = React.createElement(StyledLabel, {\n      ref: ref\n    }, children);\n    return isOverflowing ? React.createElement(Tooltip, {\n      showDelay: 500,\n      trigger: \"hover\",\n      overlay: React.createElement(Tooltip.Content, null, children)\n    }, item) : item;\n  });\n  var countElement = React.createElement(\"div\", null, \"\\u00A0\", formatCount(count, countTruncationThreshold));\n  return React.createElement(StyledSourceItem, __assign({\n    ref: ref\n  }, tabIndexAttribute, props, {\n    error: error,\n    selected: selected,\n    disabled: disabled,\n    focused: focused\n  }), iconElement, labelElement, countElement);\n});","map":{"version":3,"sources":["../../../../../src/components/FileSelect/SourceItem/SourceItem.tsx"],"names":[],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Error } from '@procore/core-icons/dist';\nimport React from 'react';\nimport { OverflowObserver } from '../../../effects/OverflowObserver';\nimport { Icon } from '../../Icon';\nimport { Spinner } from '../../Spinner';\nimport { Tooltip } from '../../Tooltip';\nimport { StyledSourceItem, StyledIcon, StyledLabel } from './SourceItem.styles';\nfunction formatCount(count, truncationThreshold) {\n    if (count === 0) {\n        return '';\n    }\n    else if (count > truncationThreshold) {\n        return \"(\".concat(truncationThreshold, \"+)\");\n    }\n    else {\n        return \"(\".concat(count, \")\");\n    }\n}\nexport var SourceItem = React.forwardRef(function SourceItem(_a, ref) {\n    var _b = _a.icon, icon = _b === void 0 ? '' : _b, _c = _a.count, count = _c === void 0 ? 0 : _c, _d = _a.countTruncationThreshold, countTruncationThreshold = _d === void 0 ? 99 : _d, _e = _a.loading, loading = _e === void 0 ? false : _e, _f = _a.error, error = _f === void 0 ? false : _f, _g = _a.selected, selected = _g === void 0 ? false : _g, _h = _a.disabled, disabled = _h === void 0 ? false : _h, _j = _a.focused, focused = _j === void 0 ? false : _j, children = _a.children, _k = _a.tabIndex, tabIndex = _k === void 0 ? 0 : _k, props = __rest(_a, [\"icon\", \"count\", \"countTruncationThreshold\", \"loading\", \"error\", \"selected\", \"disabled\", \"focused\", \"children\", \"tabIndex\"]);\n    var tabIndexAttribute = !disabled ? { tabIndex: tabIndex } : {};\n    var iconElement = (React.createElement(StyledIcon, null, (function () {\n        if (error) {\n            return React.createElement(Error, null);\n        }\n        if (loading) {\n            return React.createElement(Spinner, { size: \"xs\" });\n        }\n        return typeof icon === 'string' ? React.createElement(Icon, { icon: icon }) : icon;\n    })()));\n    var labelElement = (React.createElement(OverflowObserver, null, function (_a) {\n        var isOverflowing = _a.isOverflowing, ref = _a.ref;\n        var item = React.createElement(StyledLabel, { ref: ref }, children);\n        return isOverflowing ? (React.createElement(Tooltip, { showDelay: 500, trigger: \"hover\", overlay: React.createElement(Tooltip.Content, null, children) }, item)) : (item);\n    }));\n    var countElement = (React.createElement(\"div\", null,\n        \"\\u00A0\",\n        formatCount(count, countTruncationThreshold)));\n    return (React.createElement(StyledSourceItem, __assign({ ref: ref }, tabIndexAttribute, props, { error: error, selected: selected, disabled: disabled, focused: focused }),\n        iconElement,\n        labelElement,\n        countElement));\n});\n"]},"metadata":{},"sourceType":"module"}