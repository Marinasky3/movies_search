{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { ChevronDown, ChevronRight } from '@procore/core-icons/dist';\nimport cx from 'classnames';\nimport React from 'react';\nimport { ulid } from 'ulid';\nimport { Title } from '../../components/Title';\nimport { Button } from '../../components/Button';\nimport { H2, H3 } from '../../components/Semantic';\nimport { StyledSection, StyledSectionInner, StyledSectionHeader, StyledSectionCollapseHeading, StyledSectionContentRegion, sectionClassnames, StyledTitle } from './Section.styles';\n\nfunction H4(props) {\n  return React.createElement(H3, __assign({\n    as: \"h4\"\n  }, props));\n}\n\nvar isFunction = function (obj) {\n  return typeof obj === 'function';\n}; // Header levels start at level 2\n\n\nexport var LevelContext = React.createContext(2);\nvar SectionContext = React.createContext({\n  open: {},\n  setSection: function () {},\n  toggleSection: function () {}\n});\nexport var SectionProvider = function (_a) {\n  var children = _a.children;\n\n  var _b = React.useState({}),\n      open = _b[0],\n      setSectionsOpen = _b[1];\n\n  var toggleSection = function (id) {\n    return setSectionsOpen(function (prev) {\n      var _a;\n\n      return __assign(__assign({}, prev), (_a = {}, _a[id] = !prev[id], _a));\n    });\n  };\n\n  var setSection = function (id, open) {\n    return setSectionsOpen(function (prev) {\n      var _a;\n\n      return __assign(__assign({}, prev), (_a = {}, _a[id] = open, _a));\n    });\n  };\n\n  return React.createElement(SectionContext.Provider, {\n    value: {\n      open: open,\n      toggleSection: toggleSection,\n      setSection: setSection\n    }\n  }, children);\n};\nexport var Section = React.forwardRef(function Section(_a, ref) {\n  var _b;\n\n  var actions = _a.actions,\n      children = _a.children,\n      className = _a.className,\n      expandId = _a.expandId,\n      heading = _a.heading,\n      _c = _a.initialIsOpen,\n      initialIsOpen = _c === void 0 ? true : _c,\n      pills = _a.pills,\n      subtext = _a.subtext,\n      assets = _a.assets,\n      props = __rest(_a, [\"actions\", \"children\", \"className\", \"expandId\", \"heading\", \"initialIsOpen\", \"pills\", \"subtext\", \"assets\"]);\n\n  var level = React.useContext(LevelContext);\n  var sections = React.useContext(SectionContext);\n  var toggleOpen = React.useCallback(function () {\n    if (expandId) {\n      sections.toggleSection(expandId);\n    }\n  }, [expandId]);\n  var open = expandId ? sections.open[expandId] : true;\n  React.useEffect(function () {\n    if (expandId && open === undefined) {\n      sections.setSection(expandId, initialIsOpen);\n    }\n  }, []);\n\n  var _d = React.useMemo(function () {\n    return {\n      contentRegionId: \"content-\".concat(ulid()),\n      headingTextId: \"heading-\".concat(ulid())\n    };\n  }, []),\n      contentRegionId = _d.contentRegionId,\n      headingTextId = _d.headingTextId;\n\n  var Heading = level === 2 ? H2 : level === 3 ? H3 : H4;\n  var expandClosed = !open || !children;\n  var divide = level >= 3 || !heading;\n  var hasHeader = heading || actions;\n  return React.createElement(LevelContext.Provider, {\n    value: level + 1\n  }, React.createElement(StyledSection, __assign({\n    ref: ref,\n    className: cx(className, (_b = {}, _b[sectionClassnames.divide] = divide, _b[sectionClassnames.levelAnonymous] = !heading, _b[sectionClassnames.level(level)] = heading && level, _b))\n  }, props), React.createElement(StyledSectionInner, null, hasHeader ? React.createElement(StyledSectionHeader, null, expandId ? React.createElement(StyledSectionCollapseHeading, {\n    \"aria-labelledby\": headingTextId,\n    \"aria-level\": level,\n    role: \"heading\"\n  }, React.createElement(Button, {\n    \"aria-controls\": contentRegionId,\n    \"aria-expanded\": open,\n    \"aria-labelledby\": headingTextId,\n    icon: open ? React.createElement(ChevronDown, null) : React.createElement(ChevronRight, null),\n    onClick: toggleOpen,\n    variant: \"tertiary\"\n  })) : null, React.createElement(StyledTitle, null, React.createElement(Title.Text, null, heading && React.createElement(Heading, {\n    \"aria-hidden\": expandId ? true : false,\n    id: headingTextId\n  }, heading)), React.createElement(Title.Subtext, null, subtext), React.createElement(Title.Pills, null, pills), React.createElement(Title.Actions, null, isFunction(actions) ? actions({\n    open: open\n  }) : actions), React.createElement(Title.Assets, null, assets))) : null, React.createElement(StyledSectionContentRegion, {\n    \"aria-hidden\": !open,\n    id: contentRegionId,\n    role: \"region\",\n    \"$closed\": expandClosed,\n    \"$noHeader\": !hasHeader\n  }, open ? children : null))));\n});\nSection.displayName = 'Section';","map":{"version":3,"sources":["../../../../src/layouts/Section/Section.tsx"],"names":[],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { ChevronDown, ChevronRight } from '@procore/core-icons/dist';\nimport cx from 'classnames';\nimport React from 'react';\nimport { ulid } from 'ulid';\nimport { Title } from '../../components/Title';\nimport { Button } from '../../components/Button';\nimport { H2, H3 } from '../../components/Semantic';\nimport { StyledSection, StyledSectionInner, StyledSectionHeader, StyledSectionCollapseHeading, StyledSectionContentRegion, sectionClassnames, StyledTitle, } from './Section.styles';\nfunction H4(props) {\n    return React.createElement(H3, __assign({ as: \"h4\" }, props));\n}\nvar isFunction = function (obj) { return typeof obj === 'function'; };\n// Header levels start at level 2\nexport var LevelContext = React.createContext(2);\nvar SectionContext = React.createContext({\n    open: {},\n    setSection: function () { },\n    toggleSection: function () { },\n});\nexport var SectionProvider = function (_a) {\n    var children = _a.children;\n    var _b = React.useState({}), open = _b[0], setSectionsOpen = _b[1];\n    var toggleSection = function (id) {\n        return setSectionsOpen(function (prev) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[id] = !prev[id], _a)));\n        });\n    };\n    var setSection = function (id, open) {\n        return setSectionsOpen(function (prev) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[id] = open, _a)));\n        });\n    };\n    return (React.createElement(SectionContext.Provider, { value: {\n            open: open,\n            toggleSection: toggleSection,\n            setSection: setSection,\n        } }, children));\n};\nexport var Section = React.forwardRef(function Section(_a, ref) {\n    var _b;\n    var actions = _a.actions, children = _a.children, className = _a.className, expandId = _a.expandId, heading = _a.heading, _c = _a.initialIsOpen, initialIsOpen = _c === void 0 ? true : _c, pills = _a.pills, subtext = _a.subtext, assets = _a.assets, props = __rest(_a, [\"actions\", \"children\", \"className\", \"expandId\", \"heading\", \"initialIsOpen\", \"pills\", \"subtext\", \"assets\"]);\n    var level = React.useContext(LevelContext);\n    var sections = React.useContext(SectionContext);\n    var toggleOpen = React.useCallback(function () {\n        if (expandId) {\n            sections.toggleSection(expandId);\n        }\n    }, [expandId]);\n    var open = expandId ? sections.open[expandId] : true;\n    React.useEffect(function () {\n        if (expandId && open === undefined) {\n            sections.setSection(expandId, initialIsOpen);\n        }\n    }, []);\n    var _d = React.useMemo(function () {\n        return {\n            contentRegionId: \"content-\".concat(ulid()),\n            headingTextId: \"heading-\".concat(ulid()),\n        };\n    }, []), contentRegionId = _d.contentRegionId, headingTextId = _d.headingTextId;\n    var Heading = level === 2 ? H2 : level === 3 ? H3 : H4;\n    var expandClosed = !open || !children;\n    var divide = level >= 3 || !heading;\n    var hasHeader = heading || actions;\n    return (React.createElement(LevelContext.Provider, { value: level + 1 },\n        React.createElement(StyledSection, __assign({ ref: ref, className: cx(className, (_b = {},\n                _b[sectionClassnames.divide] = divide,\n                _b[sectionClassnames.levelAnonymous] = !heading,\n                _b[sectionClassnames.level(level)] = heading && level,\n                _b)) }, props),\n            React.createElement(StyledSectionInner, null,\n                hasHeader ? (React.createElement(StyledSectionHeader, null,\n                    expandId ? (React.createElement(StyledSectionCollapseHeading, { \"aria-labelledby\": headingTextId, \"aria-level\": level, role: \"heading\" },\n                        React.createElement(Button, { \"aria-controls\": contentRegionId, \"aria-expanded\": open, \"aria-labelledby\": headingTextId, icon: open ? React.createElement(ChevronDown, null) : React.createElement(ChevronRight, null), onClick: toggleOpen, variant: \"tertiary\" }))) : null,\n                    React.createElement(StyledTitle, null,\n                        React.createElement(Title.Text, null, heading && (React.createElement(Heading, { \"aria-hidden\": expandId ? true : false, id: headingTextId }, heading))),\n                        React.createElement(Title.Subtext, null, subtext),\n                        React.createElement(Title.Pills, null, pills),\n                        React.createElement(Title.Actions, null, isFunction(actions)\n                            ? actions({ open: open })\n                            : actions),\n                        React.createElement(Title.Assets, null, assets)))) : null,\n                React.createElement(StyledSectionContentRegion, { \"aria-hidden\": !open, id: contentRegionId, role: \"region\", \"$closed\": expandClosed, \"$noHeader\": !hasHeader }, open ? children : null)))));\n});\nSection.displayName = 'Section';\n"]},"metadata":{},"sourceType":"module"}