{"ast":null,"code":"import React from 'react';\nexport var useGridNavigation = function (_a) {\n  var initialIndicesRows = _a.indicesRows;\n\n  var _b = React.useState(0),\n      index = _b[0],\n      setIndex = _b[1];\n\n  var _c = React.useState(initialIndicesRows),\n      indicesRows = _c[0],\n      setIndicesRows = _c[1];\n\n  var _d = React.useState(0),\n      gridSize = _d[0],\n      setGridSize = _d[1];\n\n  React.useEffect(function () {\n    setGridSize(indicesRows.flat().length);\n  }, [indicesRows]);\n  React.useEffect(function () {\n    setIndex(function (prev) {\n      return prev < gridSize ? prev : 0;\n    });\n  }, [gridSize]);\n  var finalIndex = gridSize - 1;\n\n  var up = function (e) {\n    e.preventDefault();\n\n    var getNextIndex = function () {\n      var rowIndex = indicesRows.findIndex(function (rowCells) {\n        return rowCells.includes(index);\n      });\n      var nextRowIndex = rowIndex - 1;\n\n      if (nextRowIndex < 0) {\n        return indicesRows[rowIndex][0];\n      }\n\n      var nextRow = indicesRows[nextRowIndex];\n      var nextCellIndex = indicesRows[rowIndex].findIndex(function (navigationIndex) {\n        return navigationIndex === index;\n      });\n      var nextNavigationIndex = nextRow[nextCellIndex];\n      return nextNavigationIndex !== null && nextNavigationIndex !== void 0 ? nextNavigationIndex : nextRow[nextRow.length - 1];\n    };\n\n    var nextIndex = getNextIndex();\n    setIndex(nextIndex);\n    return nextIndex;\n  };\n\n  var down = function (e) {\n    e.preventDefault();\n\n    var getNextIndex = function () {\n      var rowIndex = indicesRows.findIndex(function (rowCells) {\n        return rowCells.includes(index);\n      });\n      var nextRowIndex = rowIndex + 1;\n      var finalRowIndex = indicesRows.length - 1;\n\n      if (nextRowIndex > finalRowIndex) {\n        var row = indicesRows[rowIndex];\n        return row[row.length - 1];\n      }\n\n      var nextRow = indicesRows[nextRowIndex];\n      var nextCellIndex = indicesRows[rowIndex].findIndex(function (navigationIndex) {\n        return navigationIndex === index;\n      });\n      var nextNavigationIndex = nextRow[nextCellIndex];\n      return nextNavigationIndex !== null && nextNavigationIndex !== void 0 ? nextNavigationIndex : nextRow[nextRow.length - 1];\n    };\n\n    var nextIndex = getNextIndex();\n    setIndex(nextIndex);\n    return nextIndex;\n  };\n\n  var right = function (e) {\n    if (index === finalIndex) {\n      return index;\n    }\n\n    e.preventDefault();\n    var nextIndex = index + 1;\n\n    if (nextIndex <= finalIndex) {\n      setIndex(nextIndex);\n    }\n\n    return nextIndex;\n  };\n\n  var left = function (e) {\n    if (index === 0) {\n      return index;\n    }\n\n    e.preventDefault();\n    var nextIndex = index - 1;\n\n    if (nextIndex >= 0) {\n      setIndex(nextIndex);\n    }\n\n    return nextIndex;\n  };\n\n  return {\n    index: index,\n    setIndex: setIndex,\n    setIndicesRows: setIndicesRows,\n    up: up,\n    down: down,\n    left: left,\n    right: right\n  };\n};","map":{"version":3,"sources":["../../../../src/components/ThumbnailGrid/ThumbnailGrid.hooks.ts"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nexport var useGridNavigation = function (_a) {\n    var initialIndicesRows = _a.indicesRows;\n    var _b = React.useState(0), index = _b[0], setIndex = _b[1];\n    var _c = React.useState(initialIndicesRows), indicesRows = _c[0], setIndicesRows = _c[1];\n    var _d = React.useState(0), gridSize = _d[0], setGridSize = _d[1];\n    React.useEffect(function () {\n        setGridSize(indicesRows.flat().length);\n    }, [indicesRows]);\n    React.useEffect(function () {\n        setIndex(function (prev) { return (prev < gridSize ? prev : 0); });\n    }, [gridSize]);\n    var finalIndex = gridSize - 1;\n    var up = function (e) {\n        e.preventDefault();\n        var getNextIndex = function () {\n            var rowIndex = indicesRows.findIndex(function (rowCells) {\n                return rowCells.includes(index);\n            });\n            var nextRowIndex = rowIndex - 1;\n            if (nextRowIndex < 0) {\n                return indicesRows[rowIndex][0];\n            }\n            var nextRow = indicesRows[nextRowIndex];\n            var nextCellIndex = indicesRows[rowIndex].findIndex(function (navigationIndex) { return navigationIndex === index; });\n            var nextNavigationIndex = nextRow[nextCellIndex];\n            return nextNavigationIndex !== null && nextNavigationIndex !== void 0 ? nextNavigationIndex : nextRow[nextRow.length - 1];\n        };\n        var nextIndex = getNextIndex();\n        setIndex(nextIndex);\n        return nextIndex;\n    };\n    var down = function (e) {\n        e.preventDefault();\n        var getNextIndex = function () {\n            var rowIndex = indicesRows.findIndex(function (rowCells) {\n                return rowCells.includes(index);\n            });\n            var nextRowIndex = rowIndex + 1;\n            var finalRowIndex = indicesRows.length - 1;\n            if (nextRowIndex > finalRowIndex) {\n                var row = indicesRows[rowIndex];\n                return row[row.length - 1];\n            }\n            var nextRow = indicesRows[nextRowIndex];\n            var nextCellIndex = indicesRows[rowIndex].findIndex(function (navigationIndex) { return navigationIndex === index; });\n            var nextNavigationIndex = nextRow[nextCellIndex];\n            return nextNavigationIndex !== null && nextNavigationIndex !== void 0 ? nextNavigationIndex : nextRow[nextRow.length - 1];\n        };\n        var nextIndex = getNextIndex();\n        setIndex(nextIndex);\n        return nextIndex;\n    };\n    var right = function (e) {\n        if (index === finalIndex) {\n            return index;\n        }\n        e.preventDefault();\n        var nextIndex = index + 1;\n        if (nextIndex <= finalIndex) {\n            setIndex(nextIndex);\n        }\n        return nextIndex;\n    };\n    var left = function (e) {\n        if (index === 0) {\n            return index;\n        }\n        e.preventDefault();\n        var nextIndex = index - 1;\n        if (nextIndex >= 0) {\n            setIndex(nextIndex);\n        }\n        return nextIndex;\n    };\n    return {\n        index: index,\n        setIndex: setIndex,\n        setIndicesRows: setIndicesRows,\n        up: up,\n        down: down,\n        left: left,\n        right: right,\n    };\n};\n"]},"metadata":{},"sourceType":"module"}