{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { ChevronLeft, ChevronRight } from '@procore/core-icons/dist';\nimport { isAfter, startOfDay } from 'date-fns';\nimport { range } from 'ramda';\nimport React from 'react';\nimport { useDateTime } from '../../state/DateTime';\nimport { useI18nContext } from '../../state/I18n';\nimport { addSubcomponents } from '../../utils/addSubcomponents';\nimport { addMonths, format, getDates, getDayOfWeekLabel, getMonth, getMonthLabel, getMonthOptions, getRows, getYear, getYearOptions, isSameDay, isSameMonth, isWithinRange, getStartDayOfWeek, subMonths, updateMonth, updateYear } from '../../utils/CalendarHelpers';\nimport { Select as SelectBase } from '../Select';\nimport { StyledContainer, StyledDayCell, StyledDayHeaderCell, StyledNavigation, StyledPaginator, StyledSelect, StyledWeekRow } from './Calendar.styles';\n\nfunction noop() {}\n\nfunction returnFalse() {\n  return false;\n}\n\nexport function Body(_a) {\n  var dueDateTime_ = _a.dueDateTime,\n      displayDate_ = _a.displayDate,\n      disabledDate = _a.disabledDate,\n      _b = _a.onSelect,\n      onSelect_ = _b === void 0 ? noop : _b,\n      selectedEnd_ = _a.selectedEnd,\n      selectedStart_ = _a.selectedStart,\n      props = __rest(_a, [\"dueDateTime\", \"displayDate\", \"disabledDate\", \"onSelect\", \"selectedEnd\", \"selectedStart\"]);\n\n  var dateTime = useDateTime();\n  var displayDate = dateTime.shiftUtcToZonedTime(displayDate_) || dateTime.newDate();\n  var locale = useI18nContext().locale;\n  var dates = getDates(displayDate, locale);\n  var dueDateTime = dateTime.shiftUtcToZonedTime(dueDateTime_);\n  var selectedEnd = dateTime.shiftUtcToZonedTime(selectedEnd_);\n  var selectedStart = dateTime.shiftUtcToZonedTime(selectedStart_);\n\n  var onSelect = function (day) {\n    onSelect_(dateTime.shiftZonedTimeToUtc(day, 'Calendar Body onSelect'));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Weekdays, null), getRows(dates).map(function (row) {\n    return React.createElement(Week, {\n      key: \"week-\".concat(format(row[0], 'yyyy-MMMM-dddd'))\n    }, row.map(function (day) {\n      return React.createElement(Day, __assign({\n        \"aria-label\": dateTime.format(day, 'weekday-date', {\n          timeZone: undefined\n        }),\n        disabled: disabledDate && disabledDate(day, startOfDay(dateTime.newDate())),\n        isCurrentMonth: isSameMonth(day, displayDate),\n        isRangeEnd: selectedEnd && isSameDay(day, selectedEnd),\n        isRangeStart: selectedStart && isSameDay(day, selectedStart),\n        isToday: isSameDay(day, startOfDay(dateTime.newDate())),\n        key: \"day-\".concat(format(day, 'yyyy-MMMM-dddd')),\n        onClick: function () {\n          return onSelect(day);\n        },\n        selected: isWithinRange(day, selectedStart, selectedEnd)\n      }, props), format(day, 'd'), dueDateTime && isSameDay(day, startOfDay(dueDateTime)) && React.createElement(\"div\", null, React.createElement(\"em\", {\n        style: isAfter(dateTime.newDate(), dueDateTime) ? {\n          color: 'red'\n        } : undefined\n      }, dateTime.format(dueDateTime_, 'time'))));\n    }));\n  }));\n}\nexport var Container = React.forwardRef(function Container(props, ref) {\n  return React.createElement(StyledContainer, __assign({\n    ref: ref\n  }, props));\n});\nexport var Day = React.forwardRef(function Day(_a, ref) {\n  var _b = _a.disabled,\n      disabled = _b === void 0 ? false : _b,\n      _c = _a.isCurrentMonth,\n      isCurrentMonth = _c === void 0 ? false : _c,\n      _d = _a.isRangeEnd,\n      isRangeEnd = _d === void 0 ? false : _d,\n      _e = _a.isRangeStart,\n      isRangeStart = _e === void 0 ? false : _e,\n      _f = _a.isToday,\n      isToday = _f === void 0 ? false : _f,\n      onClick = _a.onClick,\n      _g = _a.selected,\n      selected = _g === void 0 ? false : _g,\n      props = __rest(_a, [\"disabled\", \"isCurrentMonth\", \"isRangeEnd\", \"isRangeStart\", \"isToday\", \"onClick\", \"selected\"]);\n\n  return React.createElement(StyledDayCell, __assign({\n    \"aria-current\": isToday ? 'date' : undefined,\n    \"aria-disabled\": disabled || undefined,\n    \"aria-selected\": selected || undefined\n  }, props, {\n    onClick: disabled ? undefined : onClick,\n    ref: ref,\n    \"$disabled\": disabled,\n    \"$selected\": selected,\n    \"$isCurrentMonth\": isCurrentMonth,\n    \"$isRangeStart\": isRangeStart,\n    \"$isRangeEnd\": isRangeEnd,\n    \"$isToday\": isToday\n  }));\n});\nexport var Navigation = React.forwardRef(function Navigation(props, ref) {\n  return React.createElement(StyledNavigation, __assign({}, props, {\n    ref: ref\n  }));\n});\nexport var Next = React.forwardRef(function Next(_a, ref) {\n  var props = __rest(_a, []);\n\n  return React.createElement(StyledPaginator, __assign({}, props, {\n    ref: ref,\n    icon: React.createElement(ChevronRight, null),\n    variant: \"tertiary\"\n  }));\n});\nexport var Prev = React.forwardRef(function Prev(props, ref) {\n  return React.createElement(StyledPaginator, __assign({}, props, {\n    ref: ref,\n    icon: React.createElement(ChevronLeft, null),\n    variant: \"tertiary\"\n  }));\n});\nexport var Week = React.forwardRef(function Week(props, ref) {\n  return React.createElement(StyledWeekRow, __assign({\n    ref: ref\n  }, props));\n});\nexport var Weekdays = React.forwardRef(function Weekdays(props, ref) {\n  var locale = useI18nContext().locale;\n  var startDayOfWeek = getStartDayOfWeek(locale);\n  return React.createElement(StyledWeekRow, __assign({\n    ref: ref,\n    \"aria-hidden\": \"true\"\n  }, props), range(startDayOfWeek, startDayOfWeek + 7).map(function (day) {\n    return React.createElement(StyledDayHeaderCell, {\n      key: \"day-\".concat(day)\n    }, getDayOfWeekLabel(day, locale));\n  }));\n});\nexport var Select = React.forwardRef(function Select(_a, ref) {\n  var children = _a.children,\n      label = _a.label,\n      onSelect = _a.onSelect,\n      _b = _a.options,\n      options = _b === void 0 ? [] : _b,\n      _c = _a.selected,\n      selected = _c === void 0 ? '' : _c,\n      props = __rest(_a, [\"children\", \"label\", \"onSelect\", \"options\", \"selected\"]);\n\n  return React.createElement(StyledSelect, null, React.createElement(SelectBase, __assign({}, props, {\n    block: true,\n    label: label,\n    onSelect: function (selection) {\n      onSelect(selection.item);\n    },\n    optionsRef: ref,\n    tabIndex: 0\n  }), options.map(function (_a) {\n    var value = _a.value,\n        label = _a.label;\n    return React.createElement(SelectBase.Option, {\n      value: value,\n      selected: value === selected,\n      key: value\n    }, label);\n  })));\n});\nexport var Calendar_ = React.forwardRef(function Calendar(_a, ref) {\n  var dueDateTime = _a.dueDateTime,\n      displayDate_ = _a.displayDate,\n      _b = _a.disabledDate,\n      disabledDate = _b === void 0 ? returnFalse : _b,\n      monthRef = _a.monthRef,\n      _c = _a.onNavigate,\n      onNavigate = _c === void 0 ? noop : _c,\n      _d = _a.onSelect,\n      onSelect = _d === void 0 ? noop : _d,\n      selectedEnd = _a.selectedEnd,\n      selectedStart = _a.selectedStart,\n      yearRef = _a.yearRef,\n      props = __rest(_a, [\"dueDateTime\", \"displayDate\", \"disabledDate\", \"monthRef\", \"onNavigate\", \"onSelect\", \"selectedEnd\", \"selectedStart\", \"yearRef\"]);\n\n  var locale = useI18nContext().locale;\n\n  var _e = useDateTime(),\n      newDate = _e.newDate,\n      shiftUtcToZonedTime = _e.shiftUtcToZonedTime;\n\n  var monthSelectRef = monthRef || React.createRef();\n  var yearSelectRef = yearRef || React.createRef();\n  var displayDate = shiftUtcToZonedTime(displayDate_) || newDate();\n  return React.createElement(Container, __assign({}, props, {\n    ref: ref\n  }), React.createElement(Navigation, null, React.createElement(Prev, {\n    onClick: function () {\n      return onNavigate(subMonths(displayDate, 1));\n    }\n  }), React.createElement(Select, {\n    options: getMonthOptions(locale),\n    label: getMonthLabel(getMonth(displayDate), locale),\n    onSelect: function (value) {\n      onNavigate(updateMonth(displayDate, value));\n    },\n    selected: getMonth(displayDate),\n    ref: monthSelectRef\n  }), React.createElement(Select, {\n    options: getYearOptions(displayDate),\n    label: String(getYear(displayDate)).padStart(4, '0'),\n    onSelect: function (value) {\n      onNavigate(updateYear(displayDate, value));\n    },\n    selected: getYear(displayDate),\n    ref: yearSelectRef\n  }), React.createElement(Next, {\n    onClick: function () {\n      return onNavigate(addMonths(displayDate, 1));\n    }\n  })), React.createElement(Body, {\n    dueDateTime: dueDateTime,\n    // intentionally pass unshifted value. next component's responsibility to manage\n    displayDate: displayDate_,\n    disabledDate: disabledDate,\n    onSelect: onSelect,\n    selectedEnd: selectedEnd,\n    selectedStart: selectedStart\n  }));\n});\nCalendar_.displayName = 'Calendar';\nBody.displayName = 'Calendar.Body';\nContainer.displayName = 'Calendar.Container';\nDay.displayName = 'Calendar.Day';\nNavigation.displayName = 'Calendar.Navigation';\nNext.displayName = 'Calendar.Next';\nPrev.displayName = 'Calendar.Prev';\nSelect.displayName = 'Calendar.Select';\nWeek.displayName = 'Calendar.Week';\nWeekdays.displayName = 'Calendar.Weekdays';\nexport var Calendar = addSubcomponents({\n  Body: Body,\n  Container: Container,\n  Day: Day,\n  Navigation: Navigation,\n  Next: Next,\n  Prev: Prev,\n  Select: Select,\n  Week: Week,\n  Weekdays: Weekdays\n}, Calendar_);","map":{"version":3,"sources":["../../../../src/components/Calendar/Calendar.tsx"],"names":[],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { ChevronLeft, ChevronRight } from '@procore/core-icons/dist';\nimport { isAfter, startOfDay } from 'date-fns';\nimport { range } from 'ramda';\nimport React from 'react';\nimport { useDateTime } from '../../state/DateTime';\nimport { useI18nContext } from '../../state/I18n';\nimport { addSubcomponents } from '../../utils/addSubcomponents';\nimport { addMonths, format, getDates, getDayOfWeekLabel, getMonth, getMonthLabel, getMonthOptions, getRows, getYear, getYearOptions, isSameDay, isSameMonth, isWithinRange, getStartDayOfWeek, subMonths, updateMonth, updateYear, } from '../../utils/CalendarHelpers';\nimport { Select as SelectBase } from '../Select';\nimport { StyledContainer, StyledDayCell, StyledDayHeaderCell, StyledNavigation, StyledPaginator, StyledSelect, StyledWeekRow, } from './Calendar.styles';\nfunction noop() { }\nfunction returnFalse() {\n    return false;\n}\nexport function Body(_a) {\n    var dueDateTime_ = _a.dueDateTime, displayDate_ = _a.displayDate, disabledDate = _a.disabledDate, _b = _a.onSelect, onSelect_ = _b === void 0 ? noop : _b, selectedEnd_ = _a.selectedEnd, selectedStart_ = _a.selectedStart, props = __rest(_a, [\"dueDateTime\", \"displayDate\", \"disabledDate\", \"onSelect\", \"selectedEnd\", \"selectedStart\"]);\n    var dateTime = useDateTime();\n    var displayDate = dateTime.shiftUtcToZonedTime(displayDate_) || dateTime.newDate();\n    var locale = useI18nContext().locale;\n    var dates = getDates(displayDate, locale);\n    var dueDateTime = dateTime.shiftUtcToZonedTime(dueDateTime_);\n    var selectedEnd = dateTime.shiftUtcToZonedTime(selectedEnd_);\n    var selectedStart = dateTime.shiftUtcToZonedTime(selectedStart_);\n    var onSelect = function (day) {\n        onSelect_(dateTime.shiftZonedTimeToUtc(day, 'Calendar Body onSelect'));\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Weekdays, null),\n        getRows(dates).map(function (row) { return (React.createElement(Week, { key: \"week-\".concat(format(row[0], 'yyyy-MMMM-dddd')) }, row.map(function (day) { return (React.createElement(Day, __assign({ \"aria-label\": dateTime.format(day, 'weekday-date', {\n                timeZone: undefined,\n            }), disabled: disabledDate &&\n                disabledDate(day, startOfDay(dateTime.newDate())), isCurrentMonth: isSameMonth(day, displayDate), isRangeEnd: selectedEnd && isSameDay(day, selectedEnd), isRangeStart: selectedStart && isSameDay(day, selectedStart), isToday: isSameDay(day, startOfDay(dateTime.newDate())), key: \"day-\".concat(format(day, 'yyyy-MMMM-dddd')), onClick: function () { return onSelect(day); }, selected: isWithinRange(day, selectedStart, selectedEnd) }, props),\n            format(day, 'd'),\n            dueDateTime && isSameDay(day, startOfDay(dueDateTime)) && (React.createElement(\"div\", null,\n                React.createElement(\"em\", { style: isAfter(dateTime.newDate(), dueDateTime)\n                        ? {\n                            color: 'red',\n                        }\n                        : undefined }, dateTime.format(dueDateTime_, 'time')))))); }))); })));\n}\nexport var Container = React.forwardRef(function Container(props, ref) {\n    return React.createElement(StyledContainer, __assign({ ref: ref }, props));\n});\nexport var Day = React.forwardRef(function Day(_a, ref) {\n    var _b = _a.disabled, disabled = _b === void 0 ? false : _b, _c = _a.isCurrentMonth, isCurrentMonth = _c === void 0 ? false : _c, _d = _a.isRangeEnd, isRangeEnd = _d === void 0 ? false : _d, _e = _a.isRangeStart, isRangeStart = _e === void 0 ? false : _e, _f = _a.isToday, isToday = _f === void 0 ? false : _f, onClick = _a.onClick, _g = _a.selected, selected = _g === void 0 ? false : _g, props = __rest(_a, [\"disabled\", \"isCurrentMonth\", \"isRangeEnd\", \"isRangeStart\", \"isToday\", \"onClick\", \"selected\"]);\n    return (React.createElement(StyledDayCell, __assign({ \"aria-current\": isToday ? 'date' : undefined, \"aria-disabled\": disabled || undefined, \"aria-selected\": selected || undefined }, props, { onClick: disabled ? undefined : onClick, ref: ref, \"$disabled\": disabled, \"$selected\": selected, \"$isCurrentMonth\": isCurrentMonth, \"$isRangeStart\": isRangeStart, \"$isRangeEnd\": isRangeEnd, \"$isToday\": isToday })));\n});\nexport var Navigation = React.forwardRef(function Navigation(props, ref) {\n    return React.createElement(StyledNavigation, __assign({}, props, { ref: ref }));\n});\nexport var Next = React.forwardRef(function Next(_a, ref) {\n    var props = __rest(_a, []);\n    return (React.createElement(StyledPaginator, __assign({}, props, { ref: ref, icon: React.createElement(ChevronRight, null), variant: \"tertiary\" })));\n});\nexport var Prev = React.forwardRef(function Prev(props, ref) {\n    return (React.createElement(StyledPaginator, __assign({}, props, { ref: ref, icon: React.createElement(ChevronLeft, null), variant: \"tertiary\" })));\n});\nexport var Week = React.forwardRef(function Week(props, ref) {\n    return React.createElement(StyledWeekRow, __assign({ ref: ref }, props));\n});\nexport var Weekdays = React.forwardRef(function Weekdays(props, ref) {\n    var locale = useI18nContext().locale;\n    var startDayOfWeek = getStartDayOfWeek(locale);\n    return (React.createElement(StyledWeekRow, __assign({ ref: ref, \"aria-hidden\": \"true\" }, props), range(startDayOfWeek, startDayOfWeek + 7).map(function (day) { return (React.createElement(StyledDayHeaderCell, { key: \"day-\".concat(day) }, getDayOfWeekLabel(day, locale))); })));\n});\nexport var Select = React.forwardRef(function Select(_a, ref) {\n    var children = _a.children, label = _a.label, onSelect = _a.onSelect, _b = _a.options, options = _b === void 0 ? [] : _b, _c = _a.selected, selected = _c === void 0 ? '' : _c, props = __rest(_a, [\"children\", \"label\", \"onSelect\", \"options\", \"selected\"]);\n    return (React.createElement(StyledSelect, null,\n        React.createElement(SelectBase, __assign({}, props, { block: true, label: label, onSelect: function (selection) {\n                onSelect(selection.item);\n            }, optionsRef: ref, tabIndex: 0 }), options.map(function (_a) {\n            var value = _a.value, label = _a.label;\n            return (React.createElement(SelectBase.Option, { value: value, selected: value === selected, key: value }, label));\n        }))));\n});\nexport var Calendar_ = React.forwardRef(function Calendar(_a, ref) {\n    var dueDateTime = _a.dueDateTime, displayDate_ = _a.displayDate, _b = _a.disabledDate, disabledDate = _b === void 0 ? returnFalse : _b, monthRef = _a.monthRef, _c = _a.onNavigate, onNavigate = _c === void 0 ? noop : _c, _d = _a.onSelect, onSelect = _d === void 0 ? noop : _d, selectedEnd = _a.selectedEnd, selectedStart = _a.selectedStart, yearRef = _a.yearRef, props = __rest(_a, [\"dueDateTime\", \"displayDate\", \"disabledDate\", \"monthRef\", \"onNavigate\", \"onSelect\", \"selectedEnd\", \"selectedStart\", \"yearRef\"]);\n    var locale = useI18nContext().locale;\n    var _e = useDateTime(), newDate = _e.newDate, shiftUtcToZonedTime = _e.shiftUtcToZonedTime;\n    var monthSelectRef = monthRef || React.createRef();\n    var yearSelectRef = yearRef || React.createRef();\n    var displayDate = shiftUtcToZonedTime(displayDate_) || newDate();\n    return (React.createElement(Container, __assign({}, props, { ref: ref }),\n        React.createElement(Navigation, null,\n            React.createElement(Prev, { onClick: function () { return onNavigate(subMonths(displayDate, 1)); } }),\n            React.createElement(Select, { options: getMonthOptions(locale), label: getMonthLabel(getMonth(displayDate), locale), onSelect: function (value) {\n                    onNavigate(updateMonth(displayDate, value));\n                }, selected: getMonth(displayDate), ref: monthSelectRef }),\n            React.createElement(Select, { options: getYearOptions(displayDate), label: String(getYear(displayDate)).padStart(4, '0'), onSelect: function (value) {\n                    onNavigate(updateYear(displayDate, value));\n                }, selected: getYear(displayDate), ref: yearSelectRef }),\n            React.createElement(Next, { onClick: function () { return onNavigate(addMonths(displayDate, 1)); } })),\n        React.createElement(Body, { dueDateTime: dueDateTime, \n            // intentionally pass unshifted value. next component's responsibility to manage\n            displayDate: displayDate_, disabledDate: disabledDate, onSelect: onSelect, selectedEnd: selectedEnd, selectedStart: selectedStart })));\n});\nCalendar_.displayName = 'Calendar';\nBody.displayName = 'Calendar.Body';\nContainer.displayName = 'Calendar.Container';\nDay.displayName = 'Calendar.Day';\nNavigation.displayName = 'Calendar.Navigation';\nNext.displayName = 'Calendar.Next';\nPrev.displayName = 'Calendar.Prev';\nSelect.displayName = 'Calendar.Select';\nWeek.displayName = 'Calendar.Week';\nWeekdays.displayName = 'Calendar.Weekdays';\nexport var Calendar = addSubcomponents({\n    Body: Body,\n    Container: Container,\n    Day: Day,\n    Navigation: Navigation,\n    Next: Next,\n    Prev: Prev,\n    Select: Select,\n    Week: Week,\n    Weekdays: Weekdays,\n}, Calendar_);\n"]},"metadata":{},"sourceType":"module"}