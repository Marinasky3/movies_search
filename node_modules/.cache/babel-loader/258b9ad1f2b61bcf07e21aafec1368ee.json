{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { Clear } from '@procore/core-icons/dist';\nimport { isNil } from 'ramda';\nimport React from 'react';\nimport { OverflowObserver } from '../../effects/OverflowObserver';\nimport { Box } from '../../layouts/Box';\nimport { addSubcomponents } from '../../utils/addSubcomponents';\nimport { MenuImperative } from '../MenuImperative';\nimport { Notation } from '../Notation';\nimport { OverlayTrigger, useOverlayTriggerContext } from '../OverlayTrigger';\nimport { Spinner } from '../Spinner';\nimport { Tooltip } from '../Tooltip';\nimport { StyledSelectArrow, StyledSelectArrowContainer, StyledSelectButton, StyledSelectButtonLabel, StyledSelectClearIcon, StyledSelectMenu, StyledSelectSpinner } from './Select.styles';\n\nfunction noop() {}\n\nexport var OptGroup = React.forwardRef(function (props, ref) {\n  return React.createElement(MenuImperative.Group, __assign({}, props, {\n    clickable: false,\n    ref: ref\n  }));\n});\nexport var Option = React.forwardRef(function (_a, ref) {\n  var value = _a.value,\n      props = __rest(_a, [\"value\"]);\n\n  return React.createElement(MenuImperative.Item, __assign({\n    ref: ref\n  }, props, {\n    item: value\n  }));\n});\nexport var Button = React.forwardRef(function Button(_a, ref) {\n  var _b = _a.block,\n      block = _b === void 0 ? false : _b,\n      children = _a.children,\n      clearRef = _a.clearRef,\n      _c = _a.disabled,\n      disabled = _c === void 0 ? false : _c,\n      _d = _a.error,\n      error = _d === void 0 ? false : _d,\n      label = _a.label,\n      _e = _a.loading,\n      loading = _e === void 0 ? false : _e,\n      onClear = _a.onClear,\n      _f = _a.open,\n      open = _f === void 0 ? false : _f,\n      placeholder = _a.placeholder,\n      qa = _a.qa,\n      _g = _a.tabIndex,\n      tabIndex = _g === void 0 ? 0 : _g,\n      _h = _a.isMenuOpened,\n      isMenuOpened = _h === void 0 ? false : _h,\n      props = __rest(_a, [\"block\", \"children\", \"clearRef\", \"disabled\", \"error\", \"label\", \"loading\", \"onClear\", \"open\", \"placeholder\", \"qa\", \"tabIndex\", \"isMenuOpened\"]);\n\n  var hasClearIcon = !disabled && !loading && Boolean(label);\n  var content = children || label || placeholder;\n  return React.createElement(StyledSelectButton, __assign({\n    ref: ref,\n    tabIndex: disabled ? -1 : tabIndex,\n    role: \"button\",\n    \"$block\": block,\n    \"$error\": error,\n    \"$disabled\": disabled,\n    \"$hasClearIcon\": hasClearIcon,\n    \"$loading\": loading,\n    \"$open\": open,\n    \"$placeholder\": !label\n  }, props), React.createElement(OverflowObserver, null, function (_a) {\n    var isOverflowingX = _a.isOverflowingX,\n        overflowRef = _a.ref;\n    var showTooltip = !disabled && isOverflowingX && !isMenuOpened;\n    var trigger = React.createElement(StyledSelectButtonLabel, {\n      \"data-qa\": qa === null || qa === void 0 ? void 0 : qa.label,\n      \"$hoverable\": showTooltip,\n      ref: overflowRef\n    }, content);\n    return showTooltip ? React.createElement(Tooltip, {\n      trigger: \"hover\",\n      overlay: content\n    }, trigger) : trigger;\n  }), onClear && React.createElement(StyledSelectClearIcon, {\n    ref: clearRef,\n    \"data-qa\": (qa === null || qa === void 0 ? void 0 : qa.clear) || 'core-select-clear',\n    size: \"sm\",\n    variant: \"tertiary\",\n    icon: React.createElement(Clear, null),\n    onClick: onClear,\n    onMouseDown: function (e) {\n      return e.preventDefault();\n    },\n    tabIndex: -1\n  }), loading ? React.createElement(StyledSelectSpinner, null, React.createElement(Spinner, {\n    size: \"xs\"\n  })) : React.createElement(StyledSelectArrowContainer, null, React.createElement(StyledSelectArrow, null)));\n});\nvar SelectMenu = React.forwardRef(function SelectMenu(_a, ref) {\n  var onSearch_ = _a.onSearch,\n      footer = _a.footer,\n      emptyMessage = _a.emptyMessage,\n      optionsRef = _a.optionsRef,\n      children = _a.children,\n      i18nScope = _a.i18nScope,\n      _b = _a.onSelect,\n      onSelect_ = _b === void 0 ? noop : _b,\n      menuRef = _a.menuRef,\n      props = __rest(_a, [\"onSearch\", \"footer\", \"emptyMessage\", \"optionsRef\", \"children\", \"i18nScope\", \"onSelect\", \"menuRef\"]);\n\n  var ctx = useOverlayTriggerContext();\n\n  var _c = React.useState(''),\n      searchValue = _c[0],\n      setSearchValue = _c[1];\n\n  React.useEffect(function () {\n    var _a;\n\n    (_a = menuRef.current) === null || _a === void 0 ? void 0 : _a.highlightFirst();\n  }, [menuRef, searchValue]);\n  React.useEffect(function () {\n    var _a, _b;\n\n    (_a = menuRef.current) === null || _a === void 0 ? void 0 : _a.highlightSuggested();\n    (_b = menuRef.current) === null || _b === void 0 ? void 0 : _b.highlightSelected();\n  }, [menuRef]);\n\n  function onSelect(selection) {\n    onSelect_(selection);\n    ctx.hide(selection.event);\n  }\n\n  function onSearch(event) {\n    setSearchValue(event.target.value);\n    onSearch_ === null || onSearch_ === void 0 ? void 0 : onSearch_(event);\n  }\n\n  return React.createElement(StyledSelectMenu, {\n    ref: ref,\n    shadowStrength: 2\n  }, React.createElement(MenuImperative, __assign({}, props, {\n    ref: menuRef,\n    onSelect: onSelect,\n    circular: true\n  }), onSearch_ && React.createElement(MenuImperative.Search, {\n    autoComplete: \"false\",\n    autoFocus: true,\n    i18nScope: i18nScope,\n    onChange: onSearch\n  }), React.Children.count(children) ? React.createElement(MenuImperative.Options, {\n    ref: optionsRef\n  }, children) : React.createElement(Box, {\n    padding: \"md lg\"\n  }, React.createElement(Notation, {\n    variant: \"pagination\"\n  }, emptyMessage)), footer && React.createElement(MenuImperative.Footer, null, footer)));\n});\nvar Select_ = React.forwardRef(function Select(_a, forwardRef) {\n  var _b = _a.afterHide,\n      afterHide_ = _b === void 0 ? noop : _b,\n      _c = _a.afterShow,\n      afterShow_ = _c === void 0 ? noop : _c,\n      _d = _a.beforeHide,\n      beforeHide = _d === void 0 ? function () {\n    return true;\n  } : _d,\n      _e = _a.beforeShow,\n      beforeShow = _e === void 0 ? function () {\n    return true;\n  } : _e,\n      _f = _a.block,\n      block = _f === void 0 ? false : _f,\n      children = _a.children,\n      className = _a.className,\n      _g = _a.disabled,\n      disabled = _g === void 0 ? false : _g,\n      _h = _a.emptyMessage,\n      emptyMessage = _h === void 0 ? 'No results' : _h,\n      _j = _a.error,\n      error = _j === void 0 ? false : _j,\n      footer = _a.footer,\n      _k = _a.hideDelay,\n      hideDelay = _k === void 0 ? 100 : _k,\n      _l = _a.i18nScope,\n      i18nScope = _l === void 0 ? 'core.select' : _l,\n      _m = _a.label,\n      label = _m === void 0 ? '' : _m,\n      _o = _a.loading,\n      loading = _o === void 0 ? false : _o,\n      onClear_ = _a.onClear,\n      _p = _a.onKeyDown,\n      onKeyDown_ = _p === void 0 ? noop : _p,\n      onScrollBottom = _a.onScrollBottom,\n      onSearch = _a.onSearch,\n      _q = _a.onSelect,\n      onSelect = _q === void 0 ? noop : _q,\n      optionsRef = _a.optionsRef,\n      placeholder = _a.placeholder,\n      _r = _a.placement,\n      placement = _r === void 0 ? 'bottom-left' : _r,\n      _s = _a.showDelay,\n      showDelay = _s === void 0 ? 0 : _s,\n      _t = _a.tabIndex,\n      tabIndex = _t === void 0 ? 0 : _t,\n      qa = _a.qa,\n      props = __rest(_a, [\"afterHide\", \"afterShow\", \"beforeHide\", \"beforeShow\", \"block\", \"children\", \"className\", \"disabled\", \"emptyMessage\", \"error\", \"footer\", \"hideDelay\", \"i18nScope\", \"label\", \"loading\", \"onClear\", \"onKeyDown\", \"onScrollBottom\", \"onSearch\", \"onSelect\", \"optionsRef\", \"placeholder\", \"placement\", \"showDelay\", \"tabIndex\", \"qa\"]);\n\n  var menuRef = React.useRef(null);\n  var overlayTriggerRef = React.useRef(null);\n  var ref = forwardRef || overlayTriggerRef;\n\n  var _u = React.useState(false),\n      isMenuOpened = _u[0],\n      setIsMenuOpened = _u[1];\n\n  var clearRef = React.useRef(null);\n\n  function onKeyDown(e) {\n    var _a, _b, _c;\n\n    if (e.key === 'Up' || e.key === 'ArrowUp') {\n      e.preventDefault();\n      (_a = menuRef.current) === null || _a === void 0 ? void 0 : _a.prev();\n    } else if (e.key === 'Down' || e.key === 'ArrowDown') {\n      e.preventDefault();\n      (_b = menuRef.current) === null || _b === void 0 ? void 0 : _b.next();\n    } else if (e.key === 'Enter') {\n      e.preventDefault();\n      (_c = menuRef.current) === null || _c === void 0 ? void 0 : _c.select(e);\n    }\n\n    onKeyDown_(e);\n  }\n\n  function afterHide() {\n    afterHide_();\n    setIsMenuOpened(false);\n    onSearch === null || onSearch === void 0 ? void 0 : onSearch({\n      target: {\n        value: ''\n      }\n    });\n  }\n\n  var onClear = React.useCallback(function (e) {\n    var _a;\n\n    onClear_ === null || onClear_ === void 0 ? void 0 : onClear_(e); // IE 11 fix\n    // Return focus back to trigger instead of the clear button\n\n    (_a = overlayTriggerRef === null || overlayTriggerRef === void 0 ? void 0 : overlayTriggerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n  }, [onClear_]);\n\n  function afterShow() {\n    afterShow_();\n    setIsMenuOpened(true);\n  }\n\n  return React.createElement(OverlayTrigger, {\n    afterHide: afterHide,\n    afterShow: afterShow,\n    beforeHide: function (e) {\n      if (e.target === clearRef.current) {\n        return false;\n      }\n\n      return beforeHide(e);\n    },\n    beforeShow: beforeShow,\n    canFlip: true,\n    hideDelay: hideDelay,\n    overlay: React.createElement(SelectMenu, {\n      onSearch: onSearch,\n      footer: footer,\n      emptyMessage: emptyMessage,\n      optionsRef: optionsRef,\n      i18nScope: i18nScope,\n      onSelect: onSelect,\n      onScrollBottom: onScrollBottom,\n      menuRef: menuRef\n    }, children),\n    placement: placement,\n    ref: ref,\n    showDelay: showDelay,\n    trigger: disabled ? 'none' : 'click'\n  }, React.createElement(Button, __assign({}, props, {\n    block: block,\n    className: className,\n    clearRef: clearRef,\n    disabled: disabled,\n    error: error,\n    label: label,\n    loading: loading,\n    placeholder: placeholder,\n    onKeyDown: onKeyDown,\n    onClear: isNil(onClear_) ? onClear_ : onClear,\n    isMenuOpened: isMenuOpened,\n    tabIndex: tabIndex,\n    qa: qa\n  })));\n});\nSelect_.displayName = 'Select';\nButton.displayName = 'Select.Button';\nOption.displayName = 'Select.Option';\nOptGroup.displayName = 'Select.OptGroup';\nexport var Select = addSubcomponents({\n  Button: Button,\n  Option: Option,\n  OptGroup: OptGroup\n}, Select_);\nexport default Select;","map":{"version":3,"sources":["../../../../src/components/Select/Select.tsx"],"names":[],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Clear } from '@procore/core-icons/dist';\nimport { isNil } from 'ramda';\nimport React from 'react';\nimport { OverflowObserver } from '../../effects/OverflowObserver';\nimport { Box } from '../../layouts/Box';\nimport { addSubcomponents } from '../../utils/addSubcomponents';\nimport { MenuImperative } from '../MenuImperative';\nimport { Notation } from '../Notation';\nimport { OverlayTrigger, useOverlayTriggerContext } from '../OverlayTrigger';\nimport { Spinner } from '../Spinner';\nimport { Tooltip } from '../Tooltip';\nimport { StyledSelectArrow, StyledSelectArrowContainer, StyledSelectButton, StyledSelectButtonLabel, StyledSelectClearIcon, StyledSelectMenu, StyledSelectSpinner, } from './Select.styles';\nfunction noop() { }\nexport var OptGroup = React.forwardRef(function (props, ref) { return (React.createElement(MenuImperative.Group, __assign({}, props, { clickable: false, ref: ref }))); });\nexport var Option = React.forwardRef(function (_a, ref) {\n    var value = _a.value, props = __rest(_a, [\"value\"]);\n    return (React.createElement(MenuImperative.Item, __assign({ ref: ref }, props, { item: value })));\n});\nexport var Button = React.forwardRef(function Button(_a, ref) {\n    var _b = _a.block, block = _b === void 0 ? false : _b, children = _a.children, clearRef = _a.clearRef, _c = _a.disabled, disabled = _c === void 0 ? false : _c, _d = _a.error, error = _d === void 0 ? false : _d, label = _a.label, _e = _a.loading, loading = _e === void 0 ? false : _e, onClear = _a.onClear, _f = _a.open, open = _f === void 0 ? false : _f, placeholder = _a.placeholder, qa = _a.qa, _g = _a.tabIndex, tabIndex = _g === void 0 ? 0 : _g, _h = _a.isMenuOpened, isMenuOpened = _h === void 0 ? false : _h, props = __rest(_a, [\"block\", \"children\", \"clearRef\", \"disabled\", \"error\", \"label\", \"loading\", \"onClear\", \"open\", \"placeholder\", \"qa\", \"tabIndex\", \"isMenuOpened\"]);\n    var hasClearIcon = !disabled && !loading && Boolean(label);\n    var content = children || label || placeholder;\n    return (React.createElement(StyledSelectButton, __assign({ ref: ref, tabIndex: disabled ? -1 : tabIndex, role: \"button\", \"$block\": block, \"$error\": error, \"$disabled\": disabled, \"$hasClearIcon\": hasClearIcon, \"$loading\": loading, \"$open\": open, \"$placeholder\": !label }, props),\n        React.createElement(OverflowObserver, null, function (_a) {\n            var isOverflowingX = _a.isOverflowingX, overflowRef = _a.ref;\n            var showTooltip = !disabled && isOverflowingX && !isMenuOpened;\n            var trigger = (React.createElement(StyledSelectButtonLabel, { \"data-qa\": qa === null || qa === void 0 ? void 0 : qa.label, \"$hoverable\": showTooltip, ref: overflowRef }, content));\n            return showTooltip ? (React.createElement(Tooltip, { trigger: \"hover\", overlay: content }, trigger)) : (trigger);\n        }),\n        onClear && (React.createElement(StyledSelectClearIcon, { ref: clearRef, \"data-qa\": (qa === null || qa === void 0 ? void 0 : qa.clear) || 'core-select-clear', size: \"sm\", variant: \"tertiary\", icon: React.createElement(Clear, null), onClick: onClear, onMouseDown: function (e) { return e.preventDefault(); }, tabIndex: -1 })),\n        loading ? (React.createElement(StyledSelectSpinner, null,\n            React.createElement(Spinner, { size: \"xs\" }))) : (React.createElement(StyledSelectArrowContainer, null,\n            React.createElement(StyledSelectArrow, null)))));\n});\nvar SelectMenu = React.forwardRef(function SelectMenu(_a, ref) {\n    var onSearch_ = _a.onSearch, footer = _a.footer, emptyMessage = _a.emptyMessage, optionsRef = _a.optionsRef, children = _a.children, i18nScope = _a.i18nScope, _b = _a.onSelect, onSelect_ = _b === void 0 ? noop : _b, menuRef = _a.menuRef, props = __rest(_a, [\"onSearch\", \"footer\", \"emptyMessage\", \"optionsRef\", \"children\", \"i18nScope\", \"onSelect\", \"menuRef\"]);\n    var ctx = useOverlayTriggerContext();\n    var _c = React.useState(''), searchValue = _c[0], setSearchValue = _c[1];\n    React.useEffect(function () {\n        var _a;\n        (_a = menuRef.current) === null || _a === void 0 ? void 0 : _a.highlightFirst();\n    }, [menuRef, searchValue]);\n    React.useEffect(function () {\n        var _a, _b;\n        (_a = menuRef.current) === null || _a === void 0 ? void 0 : _a.highlightSuggested();\n        (_b = menuRef.current) === null || _b === void 0 ? void 0 : _b.highlightSelected();\n    }, [menuRef]);\n    function onSelect(selection) {\n        onSelect_(selection);\n        ctx.hide(selection.event);\n    }\n    function onSearch(event) {\n        setSearchValue(event.target.value);\n        onSearch_ === null || onSearch_ === void 0 ? void 0 : onSearch_(event);\n    }\n    return (React.createElement(StyledSelectMenu, { ref: ref, shadowStrength: 2 },\n        React.createElement(MenuImperative, __assign({}, props, { ref: menuRef, onSelect: onSelect, circular: true }),\n            onSearch_ && (React.createElement(MenuImperative.Search, { autoComplete: \"false\", autoFocus: true, i18nScope: i18nScope, onChange: onSearch })),\n            React.Children.count(children) ? (React.createElement(MenuImperative.Options, { ref: optionsRef }, children)) : (React.createElement(Box, { padding: \"md lg\" },\n                React.createElement(Notation, { variant: \"pagination\" }, emptyMessage))),\n            footer && React.createElement(MenuImperative.Footer, null, footer))));\n});\nvar Select_ = React.forwardRef(function Select(_a, forwardRef) {\n    var _b = _a.afterHide, afterHide_ = _b === void 0 ? noop : _b, _c = _a.afterShow, afterShow_ = _c === void 0 ? noop : _c, _d = _a.beforeHide, beforeHide = _d === void 0 ? function () { return true; } : _d, _e = _a.beforeShow, beforeShow = _e === void 0 ? function () { return true; } : _e, _f = _a.block, block = _f === void 0 ? false : _f, children = _a.children, className = _a.className, _g = _a.disabled, disabled = _g === void 0 ? false : _g, _h = _a.emptyMessage, emptyMessage = _h === void 0 ? 'No results' : _h, _j = _a.error, error = _j === void 0 ? false : _j, footer = _a.footer, _k = _a.hideDelay, hideDelay = _k === void 0 ? 100 : _k, _l = _a.i18nScope, i18nScope = _l === void 0 ? 'core.select' : _l, _m = _a.label, label = _m === void 0 ? '' : _m, _o = _a.loading, loading = _o === void 0 ? false : _o, onClear_ = _a.onClear, _p = _a.onKeyDown, onKeyDown_ = _p === void 0 ? noop : _p, onScrollBottom = _a.onScrollBottom, onSearch = _a.onSearch, _q = _a.onSelect, onSelect = _q === void 0 ? noop : _q, optionsRef = _a.optionsRef, placeholder = _a.placeholder, _r = _a.placement, placement = _r === void 0 ? 'bottom-left' : _r, _s = _a.showDelay, showDelay = _s === void 0 ? 0 : _s, _t = _a.tabIndex, tabIndex = _t === void 0 ? 0 : _t, qa = _a.qa, props = __rest(_a, [\"afterHide\", \"afterShow\", \"beforeHide\", \"beforeShow\", \"block\", \"children\", \"className\", \"disabled\", \"emptyMessage\", \"error\", \"footer\", \"hideDelay\", \"i18nScope\", \"label\", \"loading\", \"onClear\", \"onKeyDown\", \"onScrollBottom\", \"onSearch\", \"onSelect\", \"optionsRef\", \"placeholder\", \"placement\", \"showDelay\", \"tabIndex\", \"qa\"]);\n    var menuRef = React.useRef(null);\n    var overlayTriggerRef = React.useRef(null);\n    var ref = forwardRef || overlayTriggerRef;\n    var _u = React.useState(false), isMenuOpened = _u[0], setIsMenuOpened = _u[1];\n    var clearRef = React.useRef(null);\n    function onKeyDown(e) {\n        var _a, _b, _c;\n        if (e.key === 'Up' || e.key === 'ArrowUp') {\n            e.preventDefault();\n            (_a = menuRef.current) === null || _a === void 0 ? void 0 : _a.prev();\n        }\n        else if (e.key === 'Down' || e.key === 'ArrowDown') {\n            e.preventDefault();\n            (_b = menuRef.current) === null || _b === void 0 ? void 0 : _b.next();\n        }\n        else if (e.key === 'Enter') {\n            e.preventDefault();\n            (_c = menuRef.current) === null || _c === void 0 ? void 0 : _c.select(e);\n        }\n        onKeyDown_(e);\n    }\n    function afterHide() {\n        afterHide_();\n        setIsMenuOpened(false);\n        onSearch === null || onSearch === void 0 ? void 0 : onSearch({\n            target: { value: '' },\n        });\n    }\n    var onClear = React.useCallback(function (e) {\n        var _a;\n        onClear_ === null || onClear_ === void 0 ? void 0 : onClear_(e);\n        // IE 11 fix\n        // Return focus back to trigger instead of the clear button\n        (_a = overlayTriggerRef === null || overlayTriggerRef === void 0 ? void 0 : overlayTriggerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }, [onClear_]);\n    function afterShow() {\n        afterShow_();\n        setIsMenuOpened(true);\n    }\n    return (React.createElement(OverlayTrigger, { afterHide: afterHide, afterShow: afterShow, beforeHide: function (e) {\n            if (e.target === clearRef.current) {\n                return false;\n            }\n            return beforeHide(e);\n        }, beforeShow: beforeShow, canFlip: true, hideDelay: hideDelay, overlay: React.createElement(SelectMenu, { onSearch: onSearch, footer: footer, emptyMessage: emptyMessage, optionsRef: optionsRef, i18nScope: i18nScope, onSelect: onSelect, onScrollBottom: onScrollBottom, menuRef: menuRef }, children), placement: placement, ref: ref, showDelay: showDelay, trigger: disabled ? 'none' : 'click' },\n        React.createElement(Button, __assign({}, props, { block: block, className: className, clearRef: clearRef, disabled: disabled, error: error, label: label, loading: loading, placeholder: placeholder, onKeyDown: onKeyDown, onClear: isNil(onClear_) ? onClear_ : onClear, isMenuOpened: isMenuOpened, tabIndex: tabIndex, qa: qa }))));\n});\nSelect_.displayName = 'Select';\nButton.displayName = 'Select.Button';\nOption.displayName = 'Select.Option';\nOptGroup.displayName = 'Select.OptGroup';\nexport var Select = addSubcomponents({\n    Button: Button,\n    Option: Option,\n    OptGroup: OptGroup,\n}, Select_);\nexport default Select;\n"]},"metadata":{},"sourceType":"module"}