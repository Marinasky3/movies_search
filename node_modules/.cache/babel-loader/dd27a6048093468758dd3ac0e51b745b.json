{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport React from 'react';\nimport { useClickOutside } from '../../effects/ClickOutside';\nimport { consumeDelayedToggle, DelayedToggleContext, DelayedToggleProvider } from '../../effects/DelayedToggle';\nimport { Trigger } from '../../state/Trigger';\nimport { useVisibility } from '../../state/Visibility';\nimport { Overlay } from '../Overlay';\n\nvar ClickOutside = function (_a) {\n  var onClickOutside = _a.onClickOutside,\n      refs = _a.refs;\n  useClickOutside({\n    onClickOutside: onClickOutside,\n    refs: refs\n  });\n  return React.createElement(React.Fragment, null);\n};\n\nexport var OverlayTrigger = React.forwardRef(function OverlayTrigger(_a, ref) {\n  var _b = _a.afterHide,\n      afterHide = _b === void 0 ? function () {} : _b,\n      _c = _a.afterShow,\n      afterShow = _c === void 0 ? function () {} : _c,\n      _d = _a.beforeHide,\n      beforeHide = _d === void 0 ? function () {\n    return true;\n  } : _d,\n      _e = _a.beforeShow,\n      beforeShow = _e === void 0 ? function () {\n    return true;\n  } : _e,\n      _f = _a.canFlip,\n      canFlip = _f === void 0 ? true : _f,\n      children = _a.children,\n      _g = _a.clickOutsideIgnoreRefs,\n      clickOutsideIgnoreRefs = _g === void 0 ? [] : _g,\n      _h = _a.hideDelay,\n      hideDelay = _h === void 0 ? 100 : _h,\n      _j = _a.hideKeys,\n      hideKeys = _j === void 0 ? {\n    overlay: ['Escape', 'Esc', 'Tab'],\n    target: ['Escape', 'Esc']\n  } : _j,\n      _k = _a.initialIsVisible,\n      initialIsVisible = _k === void 0 ? false : _k,\n      overlay = _a.overlay,\n      _l = _a.padding,\n      padding = _l === void 0 ? 2 : _l,\n      _m = _a.placement,\n      placement = _m === void 0 ? 'top' : _m,\n      _o = _a.restoreFocusOnHide,\n      restoreFocusOnHide = _o === void 0 ? true : _o,\n      // TODO: change default to be false, but that is a breaking change\n  _p = _a.showDelay,\n      // TODO: change default to be false, but that is a breaking change\n  showDelay = _p === void 0 ? 0 : _p,\n      _q = _a.showKeys,\n      showKeys = _q === void 0 ? ['ArrowDown', 'Down'] : _q,\n      _r = _a.shrinkOverlay,\n      shrinkOverlay = _r === void 0 ? false : _r,\n      _s = _a.trigger,\n      trigger = _s === void 0 ? 'click' : _s;\n  var overlayRef = React.useRef(null);\n  var innerRef = React.useRef(null);\n  var targetRef = ref || innerRef;\n  var clickedOutsideRef = React.useRef(true);\n  var visibility = useVisibility({\n    afterHide: afterHide,\n    afterShow: afterShow,\n    initialIsVisible: initialIsVisible\n  });\n  var triggers = React.useMemo(function () {\n    return Array.isArray(trigger) ? trigger : [trigger];\n  }, [trigger]);\n  React.useEffect(function () {\n    if (triggers.indexOf('none') >= 0 && visibility.isVisible) {\n      visibility.hide();\n    }\n\n    if (triggers.indexOf('always') >= 0 && !visibility.isVisible) {\n      visibility.show();\n    }\n  }, [triggers, visibility.isVisible]);\n  React.useEffect(function () {\n    if (restoreFocusOnHide && !visibility.isVisible && !clickedOutsideRef.current) {\n      targetRef.current && targetRef.current.focus();\n    }\n\n    clickedOutsideRef.current = false;\n  }, [restoreFocusOnHide, targetRef, visibility.isVisible]);\n  return React.createElement(DelayedToggleProvider, __assign({}, {\n    beforeDisable: beforeHide,\n    beforeEnable: beforeShow,\n    disableDelay: hideDelay,\n    enableDelay: showDelay,\n    isEnabled: visibility.isVisible,\n    onDisable: visibility.hide,\n    onEnable: visibility.show\n  }), React.createElement(DelayedToggleContext.Consumer, null, function (_a) {\n    var enable = _a.enable,\n        disable = _a.disable;\n    return React.createElement(React.Fragment, null, React.createElement(Trigger, __assign({}, {\n      isEnabled: visibility.isVisible,\n      enable: enable,\n      disable: disable,\n      enableKeys: showKeys,\n      disableKeys: hideKeys.target,\n      trigger: trigger,\n      triggerRef: targetRef\n    }), children), visibility.isVisible && React.createElement(React.Fragment, null, React.createElement(ClickOutside, __assign({}, {\n      onClickOutside: function (event) {\n        clickedOutsideRef.current = true;\n        disable(event);\n      },\n      refs: __spreadArray([overlayRef, targetRef], clickOutsideIgnoreRefs, true)\n    })), React.createElement(Trigger, __assign({}, {\n      isEnabled: visibility.isVisible,\n      enable: enable,\n      disable: disable,\n      disableKeys: hideKeys.overlay,\n      trigger: trigger === 'click' ? 'none' : trigger,\n      triggerRef: overlayRef\n    }), React.createElement(Overlay, __assign({}, {\n      canFlip: canFlip,\n      overlayRef: overlayRef,\n      padding: padding,\n      placement: placement,\n      shrinkOverlay: shrinkOverlay,\n      targetRef: targetRef\n    }), overlay))));\n  }));\n});\nexport function CloseOnFocus(_a) {\n  var hide = _a.hide;\n  return (// in IE, the hidden input's cursor appears right under the menu\n    // this positions it arbitrarily away where it won't be noticed\n    React.createElement(\"div\", {\n      style: {\n        height: 0,\n        position: 'absolute',\n        top: 1000,\n        width: 0\n      }\n    }, React.createElement(\"input\", {\n      onFocus: hide,\n      style: {\n        opacity: 0\n      }\n    }))\n  );\n}\nexport function useOverlayTriggerContext() {\n  var _a = consumeDelayedToggle(),\n      show = _a.enable,\n      hide = _a.disable,\n      toggle = _a.toggle;\n\n  return {\n    hide: hide,\n    show: show,\n    toggle: toggle\n  };\n}\n/**\n * @deprecated Please use `useOverlayTriggerContext()` instead\n */\n\nexport var consumeOverlayTrigger = useOverlayTriggerContext;\nexport default OverlayTrigger;","map":{"version":3,"sources":["../../../../src/components/OverlayTrigger/OverlayTrigger.tsx"],"names":[],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React from 'react';\nimport { useClickOutside } from '../../effects/ClickOutside';\nimport { consumeDelayedToggle, DelayedToggleContext, DelayedToggleProvider, } from '../../effects/DelayedToggle';\nimport { Trigger } from '../../state/Trigger';\nimport { useVisibility } from '../../state/Visibility';\nimport { Overlay } from '../Overlay';\nvar ClickOutside = function (_a) {\n    var onClickOutside = _a.onClickOutside, refs = _a.refs;\n    useClickOutside({\n        onClickOutside: onClickOutside,\n        refs: refs,\n    });\n    return React.createElement(React.Fragment, null);\n};\nexport var OverlayTrigger = React.forwardRef(function OverlayTrigger(_a, ref) {\n    var _b = _a.afterHide, afterHide = _b === void 0 ? function () { } : _b, _c = _a.afterShow, afterShow = _c === void 0 ? function () { } : _c, _d = _a.beforeHide, beforeHide = _d === void 0 ? function () { return true; } : _d, _e = _a.beforeShow, beforeShow = _e === void 0 ? function () { return true; } : _e, _f = _a.canFlip, canFlip = _f === void 0 ? true : _f, children = _a.children, _g = _a.clickOutsideIgnoreRefs, clickOutsideIgnoreRefs = _g === void 0 ? [] : _g, _h = _a.hideDelay, hideDelay = _h === void 0 ? 100 : _h, _j = _a.hideKeys, hideKeys = _j === void 0 ? {\n        overlay: ['Escape', 'Esc', 'Tab'],\n        target: ['Escape', 'Esc'],\n    } : _j, _k = _a.initialIsVisible, initialIsVisible = _k === void 0 ? false : _k, overlay = _a.overlay, _l = _a.padding, padding = _l === void 0 ? 2 : _l, _m = _a.placement, placement = _m === void 0 ? 'top' : _m, _o = _a.restoreFocusOnHide, restoreFocusOnHide = _o === void 0 ? true : _o, // TODO: change default to be false, but that is a breaking change\n    _p = _a.showDelay, // TODO: change default to be false, but that is a breaking change\n    showDelay = _p === void 0 ? 0 : _p, _q = _a.showKeys, showKeys = _q === void 0 ? ['ArrowDown', 'Down'] : _q, _r = _a.shrinkOverlay, shrinkOverlay = _r === void 0 ? false : _r, _s = _a.trigger, trigger = _s === void 0 ? 'click' : _s;\n    var overlayRef = React.useRef(null);\n    var innerRef = React.useRef(null);\n    var targetRef = ref || innerRef;\n    var clickedOutsideRef = React.useRef(true);\n    var visibility = useVisibility({\n        afterHide: afterHide,\n        afterShow: afterShow,\n        initialIsVisible: initialIsVisible,\n    });\n    var triggers = React.useMemo(function () { return (Array.isArray(trigger) ? trigger : [trigger]); }, [trigger]);\n    React.useEffect(function () {\n        if (triggers.indexOf('none') >= 0 && visibility.isVisible) {\n            visibility.hide();\n        }\n        if (triggers.indexOf('always') >= 0 && !visibility.isVisible) {\n            visibility.show();\n        }\n    }, [triggers, visibility.isVisible]);\n    React.useEffect(function () {\n        if (restoreFocusOnHide &&\n            !visibility.isVisible &&\n            !clickedOutsideRef.current) {\n            targetRef.current && targetRef.current.focus();\n        }\n        clickedOutsideRef.current = false;\n    }, [restoreFocusOnHide, targetRef, visibility.isVisible]);\n    return (React.createElement(DelayedToggleProvider, __assign({}, {\n        beforeDisable: beforeHide,\n        beforeEnable: beforeShow,\n        disableDelay: hideDelay,\n        enableDelay: showDelay,\n        isEnabled: visibility.isVisible,\n        onDisable: visibility.hide,\n        onEnable: visibility.show,\n    }),\n        React.createElement(DelayedToggleContext.Consumer, null, function (_a) {\n            var enable = _a.enable, disable = _a.disable;\n            return (React.createElement(React.Fragment, null,\n                React.createElement(Trigger, __assign({}, {\n                    isEnabled: visibility.isVisible,\n                    enable: enable,\n                    disable: disable,\n                    enableKeys: showKeys,\n                    disableKeys: hideKeys.target,\n                    trigger: trigger,\n                    triggerRef: targetRef,\n                }), children),\n                visibility.isVisible && (React.createElement(React.Fragment, null,\n                    React.createElement(ClickOutside, __assign({}, {\n                        onClickOutside: function (event) {\n                            clickedOutsideRef.current = true;\n                            disable(event);\n                        },\n                        refs: __spreadArray([overlayRef, targetRef], clickOutsideIgnoreRefs, true),\n                    })),\n                    React.createElement(Trigger, __assign({}, {\n                        isEnabled: visibility.isVisible,\n                        enable: enable,\n                        disable: disable,\n                        disableKeys: hideKeys.overlay,\n                        trigger: trigger === 'click' ? 'none' : trigger,\n                        triggerRef: overlayRef,\n                    }),\n                        React.createElement(Overlay, __assign({}, {\n                            canFlip: canFlip,\n                            overlayRef: overlayRef,\n                            padding: padding,\n                            placement: placement,\n                            shrinkOverlay: shrinkOverlay,\n                            targetRef: targetRef,\n                        }), overlay))))));\n        })));\n});\nexport function CloseOnFocus(_a) {\n    var hide = _a.hide;\n    return (\n    // in IE, the hidden input's cursor appears right under the menu\n    // this positions it arbitrarily away where it won't be noticed\n    React.createElement(\"div\", { style: {\n            height: 0,\n            position: 'absolute',\n            top: 1000,\n            width: 0,\n        } },\n        React.createElement(\"input\", { onFocus: hide, style: { opacity: 0 } })));\n}\nexport function useOverlayTriggerContext() {\n    var _a = consumeDelayedToggle(), show = _a.enable, hide = _a.disable, toggle = _a.toggle;\n    return {\n        hide: hide,\n        show: show,\n        toggle: toggle,\n    };\n}\n/**\n * @deprecated Please use `useOverlayTriggerContext()` instead\n */\nexport var consumeOverlayTrigger = useOverlayTriggerContext;\nexport default OverlayTrigger;\n"]},"metadata":{},"sourceType":"module"}